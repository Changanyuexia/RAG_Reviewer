code,review,top_1,top_2,top_3,top_4,top_5,top_6,top_7,top_8,top_9,top_10
"@@ -53,7 +53,7 @@ public class ProtocGapicPluginGeneratorTest { model.getFiles().stream().map(ProtoFile::getProto).collect(Collectors.toList())) // Only the file to generate a client for (don't generate dependencies) .addFileToGenerate(""multiple_services.proto"") - .setParameter(""language=java"") + .setParameter(""language=java,transport=grpc"") .build(); CodeGeneratorResponse response = ProtocGeneratorMain.generate(codeGeneratorRequest);",can we also test for `transport=rest`?,^^ bug fix here,"Can you move `""google.golang.org/grpc/status""` down with the rest of the 3rd party imports?","does this need a permissions prefix? capabilities will never be entities that are managed with permissions. Same goes for roles. I'm not even sure we should be using GRNs for that, actually..","I'm seeing a lot of this same type of thing, where we add 3 `null` values to the constructor. And there are becoming quite a few arguments to the constructor. Time to consider a Builder pattern perhaps?","The JIRA description says `test-tcp.xml`, did you mean to rename the file?","Remove new line please, and merge these two import groups.",You probably don't need this.,LGTM Made this just PipelineOptionsFactory.create() on merge since the as(GcpOptions.class) does nothing,"This does not change during this object's life, it's set once just after the construction - can you make it a final field instead?",Need to remove unused imports. Will fix during merge.
"@@ -182,7 +182,9 @@ abstract class AbstractSolrBackendFactory implements FactoryInterface */ protected function createBackend(Connector $connector) { + $config = $this->config->get($this->mainConfig); $backend = new $this->backendClass($connector); + $backend->setPageSize($config->Index->record_batch_size); $backend->setQueryBuilder($this->createQueryBuilder()); $backend->setSimilarBuilder($this->createSimilarBuilder()); if ($this->logger) {","If record_batch_size is not set in config.ini, this code will trigger a notice about an undefined value. I would suggest either wrapping the setPageSize() call in an `if (!empty(...)) {` check, or else providing a default value in the set call (i.e. `$config->Index->record_batch_size ?? 100`).","The `$uid` parameter is useless, the Adapter is created before we know if a user is logged in or not. As a result, the subsequent `load` call in the constructor is never called. Now the pconfig shouldn't be load in its entirety from the table because it wouldn't scale with the number of users, so it has to be on-demand.","Are you sure about this change? `$configCache->get('system', 'config_adapter')` doesn't seem to be a PConfig call.",`$this` points to the correct var? or should that be `$sp`?,You can use the shorthand since there is a `use` statement.,"This select call shouldn't exist at all. The preload concept is that the entire config is fetched once during (or before) the first config get call, which means further config get calls will hit the cache, not trigger additional queries.","I think we're at the point where we don't need this implicit App instantiation, since all the entry points have their own App instance. I'd be in favor of throwing an Exception if app isn't defined at this point.",Ha! How could anyone have used multi-reads before?,"I feel like we should only provide the config dir, and pull the path determination logic out of this particular class",We should explicit this array as a list of IWritableStorage class names.,This actually throws `\UnexpectedValueException` not `\Exception`
"@@ -1,6 +1,6 @@ <script type=""text/javascript""> window.analytics||(window.analytics=[]),window.analytics.methods=[""identify"",""track"",""trackLink"",""trackForm"",""trackClick"",""trackSubmit"",""page"",""pageview"",""ab"",""alias"",""ready"",""group"",""on"",""once"",""off""],window.analytics.factory=function(t){return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(t),window.analytics.push(a),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var method=window.analytics.methods[i];window.analytics[method]=window.analytics.factory(method)}window.analytics.load=function(t){var a=document.createElement(""script"");a.type=""text/javascript"",a.async=!0,a.src=(""https:""===document.location.protocol?""https://"":""http://"")+""d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/""+t+""/analytics.min.js"";var n=document.getElementsByTagName(""script"")[0];n.parentNode.insertBefore(a,n)},window.analytics.SNIPPET_VERSION=""2.0.8"", - window.analytics.load(""2nexpdgku3""); + window.analytics.load(<%= ENV['SEGMENT_KEY']%>); window.analytics.page(); </script> ","I didn't realize we were hardcoding this, thanks for moving it to an env value.","As long as you're here... This error message seems vague. (For all that I know, I wrote it.) If it's getting thrown here, it will be caught and re-broadcast to StackDriver, right? Can we say something more informative?",Can this be required only if needed?,Is there a reason for throwing this out?,"Same deal as the other global typed arrays here with `Uint8ClampedArray`, which was introduced at some point to replace `CanvasPixelArray`.",Should I keep the same file name for BC with 1.7?,"Looking at this now, I suspect this is a better approach than doing this implicitly/explicitly in the utility functions. It's explicit to the user, should extend well to new request functions, and I imagine is what a typical game engine's ""resource manager"" looks like.","This can be triggered from buildCallback if the amp-analytics element has attribute trigger=immediate but we definitely cannot modify the page at that point. Instead we should do this explicitly as part of layoutCallback. Also we need to find a way to ""deprioritize"" the frame creation as current code would give it priority of 1 while we want only the frame creation to be 2. This will need some discussion with Dima.","Nit: It probably doesn't matter, but I would rather keep changes local, instead of affecting all tests. I.e. create a new, cancellable resource for your test.",@rsimha Do I need to list this file somewhere to setup CI targets?,Can we go ahead and replace this `if` with `minified` or whatever `if` that will strip this function from PROD version?
"@@ -99,7 +99,7 @@ module.exports = function fileItem (props) { } </h4> <div class=""UppyDashboardItem-status""> - ${file.data.size && html`<div class=""UppyDashboardItem-statusSize"">${prettyBytes(file.data.size)}</div>`} + ${isNaN(file.data.size) ? '' : html`<div class=""UppyDashboardItem-statusSize"">${prettyBytes(file.data.size)}</div>`} ${file.source && html`<div class=""UppyDashboardItem-sourceIcon""> ${acquirers.map(acquirer => { if (acquirer.id === file.source) return html`<span title=""${props.i18n('fileSource')}: ${acquirer.name}"">${acquirer.icon()}</span>`","We are trying to support IE 10-11, so we'll need a polyfill for this one, I think.","We want to be very picky with the deps, so, I'd rather avoid adding another one. We'll see if we can avoid it, and, if not, then we will add it as a static dep. Can you, please, clarify the reason why would it be required?","We want to be very picky with the deps, so, I'd rather avoid adding another one. We'll see if we can avoid it, and, if not, then we will add it as a static dep. Can you, please, clarify the reason why would it be required?","It's not directly related to the fix, but what happens if `fractionSize` is 0 ?",Use `fs.existsSync` instead.,Use `fs.existsSync` instead.,This is the failing assertion,"isNaN might not be the best choice here, but I think it's probably ok",`Math.floor(3)` is just `3`.,does it make sense for videoSpaceWidth or videoSpaceHeight to be 0 if videoWidth and videoHeight are not?,"Same `Number` confusion, since we've already parsed."
"@@ -38,6 +38,9 @@ const { useSelect, useDispatch } = Data; function ResetButton( { children } ) { const postResetURL = useSelect( ( select ) => select( CORE_SITE ).getAdminURL( 'googlesitekit-splash', { notification: 'reset_success' } ) ); + const isNavigating = useSelect( ( select ) => select( CORE_LOCATION ).isNavigating() ); + const navigatingURL = useSelect( ( select ) => select( CORE_LOCATION ).getNavigateURL() ); + const [ dialogActive, setDialogActive ] = useState( false ); useEffect( () => {",It looks like there's a new `isNavigatingTo( url )` selector for this very purpose so let's use this here instead. This way we just need to use the one selector rather than two. Let's assign that to a similar-named variable here (e.g. `isNavigatingToPostResetURL`) rather than the prop it's used with.,`.langForm` and `#lang-req` are effectively the same element so that seems redundant,isnt this used anywhere?,isnt this used anywhere?,Go to any Yoats SEO admin page and make sure the tabs still work.,Hrm we shouldn't be persisting vars like this in a render method. Perhaps try using the useEffect method?,Hrm we shouldn't be persisting vars like this in a render method. Perhaps try using the useEffect method?,I think its better to do this here instead of in header so that this is responsibility of this reducer and I think it doesnt change any behavior,I think its better to do this here instead of in header so that this is responsibility of this reducer and I think it doesnt change any behavior,"Should be: `__(""Select {0}"", [(this.doctype=='[Select]') ? __(""value"") : __(this.doctype)])`",Added this so that the input source doesn't have to say `element.prop('ngMockValidity') || element.prop('validity')` It can probably be done different ways too
"@@ -29,8 +29,8 @@ namespace lbann { -void im2col(const Mat& im, - Mat& col, +void im2col(const AbsMat& im, + AbsMat& col, const int num_channels, const int im_num_dims, const int * im_dims,",I think im2col should only accommodate CPUMat.,@dtorop demosaic is the only place we're still doing these increments. Wouldn't it be better to just change the FCxtrans() function to just do +36 or something safely high like that and not need these magic numbers all throughout the code?,"layout of metadata != random changes to the colors used to draw stuff And that kinda defeats ""the default stays the same""",Or define ch as `const size_t ch = 4;` above?,"Arrays in function arguments decay to pointers. This rule applies to arrays with size known at compile time as well as to variable length arrays. Thus, the above is equivalent to static void get_clusters(const float *col, const int n, float *mean[2], float *weight) {...} There is no advantage in using variable length array syntax here.","OOC, what is the purpose of `owOptref` + `owOptreference` ?","just = 0 at then end of the line, then remove change below","For consistency, these should be set as ""weak"".",no need for blank line. I presume you added and deleted code here?,Why changing the intent here?,"IIRC I did that because the speed of copy/paste a in a large set of images was really slow. Computing the aspect ration need some CPU cycle. So the idea was to do that here only if the current sorting was based on aspect ratio (for obvious reasons) and delay that at some other point otherwise. So, have you tested the perf?"
"@@ -24,6 +24,8 @@ from google.cloud.forseti.notifier.notifiers import cscc_notifier from google.cloud.forseti.notifier.notifiers.inventory_summary import InventorySummary from google.cloud.forseti.services.inventory.storage import DataAccess from google.cloud.forseti.services.scanner import dao as scanner_dao +from google.cloud.forseti.common.util.email.email_factory import EmailFactory +from google.cloud.forseti.notifier.notifiers import email_violations # pylint: enable=line-too-long ",alpha sort the imports,"Hard to tell from the diff, but these *Request and *Result classes aren't actually exported, are they? They should most often (always, IIRC) be wrapped/transformed before returning.",It's should be relative import.,It's should be relative import.,nit: remove the 'en-us' in the url,"Shouldn't this say ""a ValueError error will be raised"" rather than ""...will take priority""?",Could you update the type annotation too?,should we change this to westus2? or is there no difference between the canary region and westus2 now?,"just for my own understanding, we only test 3.1-preview.1?",Can we update the credential docstring for the other clients as well?,I don't think this function does a network call.
"@@ -1067,7 +1067,7 @@ fpga_result mmio_error(struct RASCommandLine *rasCmdLine) if ( rasCmdLine->function >0 ) function = rasCmdLine->bus; - snprintf(sysfs_path, sizeof(sysfs_path), + snprintf_s_iiii(sysfs_path, sizeof(sysfs_path), DEVICEID_PATH,0,bus,device,function); result = sysfs_read_u64(sysfs_path, &value);",Can you explain why is this necessary? Is `snprintf()` with four integer arguments unsafe?,You need to check dst_filename != NULL after this.,(style) line over 80 characters,"Consider a std::unique_ptr. Given the nature of this code, it's not really needed (mem is reclaimed on app exit), but I suggest keeping things clean.","@daltonbohning if no memory was allocated for next_dpath, should this instead be freeing the dst_filename?","Perhaps this one should be straight `logerror` so unhandled commands are always logged, not just when verbose is on?",This will be removed.,There is no rc from this function. Maybe these file_* functions should have signatures similar to the dfs_sys versions? I.e. bytes_read is passed/returned by reference and rc is returned from the function. Then you would have the corresponding rc,What's the point of this patch when your other patch negate the possibility of use-after-free?,(style) spaces required around that '=' (ctx:VxW),"this is fine, but maybe better to move them to the bottom (after out:) to avoid repeating calling free on those two? would need to remove where they are also freed though in the success path in the body function."
"@@ -219,7 +219,19 @@ def internal_keyDownEvent(vkCode,scanCode,extended,injected): for k in range(256): keyStates[k]=ctypes.windll.user32.GetKeyState(k) charBuf=ctypes.create_unicode_buffer(5) + # First try getting the keyboard layout from the thread with the focus (input thread) hkl=ctypes.windll.user32.GetKeyboardLayout(focus.windowThreadID) + if not hkl: + log.debug(""Failed to fetch keyboard layout from focus, trying layout from last detected change"") + # Some threads, such as for Windows consoles + # Do not allow getKeyboardLayout to work. + # Therefore, use the cached keyboard layout from the last inputLangChange detected by NVDA + # on the foreground object. + hkl = getattr(api.getForegroundObject(), '_lastDetectedKeyboardLayoutChange', 0) + if not hkl: + log.debug(""No layout cached, falling back to layout of NVDA main thread"") + # As a last resort, use the keyboard layout of NVDA's main thread. + hkl = ctypes.windll.user32.GetKeyboardLayout(core.mainThreadId) # In previous Windows builds, calling ToUnicodeEx would destroy keyboard buffer state and therefore cause the app to not produce the right WM_CHAR message. # However, ToUnicodeEx now can take a new flag of 0x4, which stops it from destroying keyboard state, thus allowing us to safely call it here. res=ctypes.windll.user32.ToUnicodeEx(vkCode,scanCode,keyStates,charBuf,len(charBuf),0x4,hkl)",How likely would it be that the keyboard layout for the NVDA main thread differs from the keyboard layout of the currently focused app?,"Thanks @stwunsch ! Why does the activation of the interactive mode need to be here, though? I would rather say we should have it in `rootbrowse`. In the case of inspection of ROOT graphics from the Python prompt, we will already have the interactivity enabled.",Do we have to check for `window` for ssr?,`osascript` might not be the same as `/usr/bin/osascript`,"This obviously won't work on Linux, and may not work on iTerm either. This is just a proof of concept at this point. If people like this feature, I'll try to make it more robust. One limitation of this approach is that it apparently only works when the Terminal is in the foreground.","I don't like the verbiage here about ""applying necessary panning"" because that's not at all what is going on (same for text below). What I would like to convey in both cases is this: > if True, then hitting a range bound in any one dimension will prevent all further zooming all dimensions. If False, zooming can continue independently in any dimension that has not yet reached its bounds, even if that causes overall focus or aspect ratio to change.",What's this line used for?,What's this line used for?,"So the creation of the dialog should be removed from the _createDialog method, isn't it?",Can you explain why this is blocking?,We should really combine `tty.msg` and `tty.info`. Does anyone know why they both exist?
"@@ -198,6 +198,10 @@ class Driver extends webdriver.WebDriver { * @return {!Driver} A new driver instance. */ static createSession(options, service = getDefaultService()) { + if (!service) { + service = getDefaultService(); + } + let client = service.start().then(url => new http.HttpClient(url)); let executor = new http.Executor(client); ",Would you mind removing the default parameter above? (I doubt I'll ever use defaults again since you still have to protect against callers explicitly passing `null` or `undefined`),This check needs to be way safer. `options.session.constructor` could be falsey / not an object,need to add method to service in order to stub it?,This can be reverted. Let's address the future of the convenience builder separately.,Do we need to force build when the experiment is enabled above?,"It's not necessary to keep the ctor around. This actually didn't free up any memory, anyways, since the `s.obj` is an instance of the `ctor`, and `s.obj.__proto__ === ctor.prototype` and `s.obj.constructor === ctor` (`ctor` can never be GCd).","If we do go down this path, we should also check `calledWith('serviceId')` and that it returns the same value as the service returns. Otherwise, it's just a basic call propagation and doesn't have to be tested.",please wrap `true` in backticks so that it is rendered in a &lt;code> tag --- otherwise lgtm,why removing this? Are they mocked by jest himself?,why removing this? Are they mocked by jest himself?,Why do we have to build another closure?
"@@ -2186,7 +2186,7 @@ class WebElement { if (!this.driver_.fileDetector_) { return this.schedule_( new command.Command(command.Name.SEND_KEYS_TO_ELEMENT). - setParameter('text', keys). + setParameter('text', keys.then(keys => keys.join(''))). setParameter('value', keys), 'WebElement.sendKeys()'); }",Also update line 2205 below,Refactored the test to not modify `Object.prototype` --- still fails without the change in Chrome,is this behavior desirable for errorCallback? I don't think so...,That's actually common pattern for promise-returning functions.,Can we call this parameter `anyPropertyKey`?,"This line can be reverted, right?",We know it's not an array from the typing.,If a hash is required in all cases we should test that missing hash does indeed fail and if it's not required in the publisher origin case we should that that a missing hash doesn't fail.,"This is not common functionality. It does not belong here, but in `default array serialization` section.",If we are going to do this then we might as wel ditch the `paramSerializerFactory` altogether and just reference these two serializers directly in their respective providers.,YoastSEO currently doesn\'t support ckEditor. The content analysis might not function optimally.
"@@ -39,6 +39,7 @@ func (p *Provisioner) ProvisionHostPath(opts pvController.VolumeOptions, volumeC name := opts.PVName stgType := volumeConfig.GetStorageType() saName := getOpenEBSServiceAccountName() + shared := volumeConfig.GetSharedMountValue() path, err := volumeConfig.GetPath() if err != nil {","n_: It is a good practice to name the variable to indicate what they contain. In this case since `shared` is supposed to have boolean, calling it: `isShared` can help in the readability of the code.",remove line breakings (nowhere else used),"to avoid having to configure it when using `gp3`, should we default it to `125` if the `VolumeType === gp3`?  ","Come on, you can do better than this :)","I have a feeling you'll prefer to defer this for a follow-up, but this validation logic is _really_ hard to make sense of.",you're missing something. alpha resources should be off by default.,Can we make libpod use this function to decide what path to use when rootless? I don't want to have this change in one place but not the other,write a high severity bugzilla for the master team to fix apiservice and SCC in 4.0 for migration.,nit: remove empty line,Allow mobile to change this since it doesn't work on the simulator,"Minor knit, there's a semi formal standard in go that error messages should begin with lowercase letters and not end in periods. The reason being that they're normally printed embedded in other sentences so it looks a little weird."
"@@ -85,7 +85,10 @@ export class ManualColumnFreeze extends BasePlugin { } /** - * Freezes the given column (add it to fixed columns). + * Freezes the specified column (i.e. adds it to fixed columns). + * + * `freezeColumn()` doesn't re-render the table, + * so you need to call the `render()` method afterward. * * @param {number} column Visual column index. */",I suppose it's a false-positive error. Maybe there is a way to configure the `eslint-*` package to accept `i.e. .... lower case` syntax  ,Can you keep this empty line between function definitions?,"wait, shouldn't this be true?","wait, shouldn't this be true?",is this here by mistake :),I think it's probably what we need now. I may be creating problems that we don't have and I'm not sure how to express it but it may be the case that we need a callback when selection has changed and a different one for when data has changed (thinking about the discussions in #2248).,"We generally try to keep code to 80 columns wide -- unfortunately there's no way to make Eclipse do this automatically, but you can make it show a print margin at 80 columns so you know where to hard-wrap.",What do you think are the trade-offs between this pattern versus a `columns` prop on the parent component? Why did you choose this approach?,same as above we can from bc not add new typehints.,Metrics/BlockLength: Block has too many lines. [26/25],before: (does not contain GENERATED and does not contain VIRTUAL) or is default generated after: (does not contain GENERATED and does not contain VIRTUAL) or contains default generated
"@@ -133,7 +133,7 @@ namespace OpenTelemetry.Trace private void RunGetRequestedDataOtherSampler(Activity activity) { ActivityContext parentContext; - if (string.IsNullOrEmpty(activity.ParentId)) + if (string.IsNullOrEmpty(activity.ParentId) || activity.ParentSpanId.ToHexString().Equals(""0000000000000000"")) { parentContext = default; }","this maynot be a perf issue, if ToHexString() is not actually allocating a string, but returns the caches string value. to be confirmed.",Can you provide background why this needed to change? I expected it would be unaffected.,"This define controls some functionality that seems unrelated what we are trying to do here. I'd recommend creating a new define in the .csproj file named something like ""FEATURE_W3C_ON_BY_DEFAULT"" The current code enables W3C by default more broadly than I believe we want. My opinion is that we do not want the default to change for any .Net Framework app, which probably means limiting this change to netcoreapp TFM only. @davidfowl @shirhatti - not sure if you guys agree?",Should we use the settings instead to avoid heading further into container hell? Persisters that wish to change the generator could just do a settings.Set(new MyCustomStrategy())? (is would that mean we have to add a feature dependency),Why is a `!` needed here and a `?` needed on line 57 when the `if` check protects it from null?,I left the null forgiving operator in here as I wasn't sure if it should be removed (since `asn.Oid` should never be null once it reaches here). If it should be removed I can easily take it out.,why you are using stackalloc? I don't think it will give any benefit here.,"I don't think you should change the return value, anyways the nullability of this should be same as `Value` property above, so if `Value` end up being nullable it should return nullable",was this not required?,I don't really like the approach of passing null values. That will be hard to keep in mind for custom implementations.,">CalendarData [](start = 23, length = 12) that will disallow having a read/write calendar object set."
"@@ -114,11 +114,16 @@ func (w *watcher) run(ctx context.Context, provider imageprovider.Provider, inte updates = append(updates, u...) } if len(updates) == 0 { - w.logger.Info(""no image to be updated"") + w.logger.Info(""no image to be updated"", + zap.String(""image-provider"", provider.Name()), + ) continue } if err := update(updates); err != nil { - w.logger.Error(""failed to update image"", zap.Error(err)) + w.logger.Error(""failed to update image"", zap.String(""image-provider"", + provider.Name()), + zap.Error(err), + ) continue } }","`zap.String(""image-provider"", provider.Name())` should be in a same line.",Also I changed `Cause() ==` to `Is()` which is better for wrapped errors.,"Shouldn't we update the image object in etcd if there's such a metadata change? That way, we could allow for easy mass migration if desired (let the user get all the images).","Why not changing the order, I mean checking for error first and only then for image?",No need for this to be a pointer?,No need for this to be a pointer?,No need for this to be a pointer?,"nit: ""stack '%v' has never been updated"" feels a bit nicer.","nit: ""stack '%v' has never been updated"" feels a bit nicer.","nit: ""stack '%v' has never been updated"" feels a bit nicer.","We should not need this. The information about the aliases is read by the mapper and should be properly resolved in line 137 above here. The only reason we have the dockerimage exception is that this particular type is not registered in restmapper and will never be. In all other cases the resolution should happen. What's your particular use case in, why this is happening?"
"@@ -1,8 +1,6 @@ /*exported DqElement */ function truncate(str, maxLength) { - 'use strict'; - maxLength = maxLength || 300; if (str.length > maxLength) {",Why this deletion?,Is this meant to be part of this PR?,Please add a note explaining the consequences this will have to longer URLs (e.g. will they break? will they lack information? will the stack traces be truncated?),You'll have to add `pretty-text` to `discourse-common` dependencies. edit: the other way around  ,"this doesn't look right. qFactory signature is `function qFactory(nextTick, exceptionHandler) {` no?","Don't you still, even without the cache, want to initiate the request here? The browser cache should do the right thing.","I'd just call this `windowOpen`, but OK :)",what is this can you do this more elegantly with jquery?,AFAICT only `remove` that does not take arguments is `Element.remove()` so we should be good here (at least for now). Having the rule in closure compiler is possible too but will miss many untyped cases.,"I'd recommend using String rather String(66) in case we change hash function in future. From DB perspective, there is no storage saving by using String)66).","I'd recommend using String rather String(66) in case we change hash function in future. From DB perspective, there is no storage saving by using String)66)."
"@@ -419,7 +419,10 @@ class S3KeyTest(unittest.TestCase): remote_metadata = check._get_remote_metadata() # TODO: investigate whether encoding ' ' as '%20' makes sense - self.assertEqual(check.cache_control, 'public,%20max-age=500') + self.assertIn( + check.cache_control, + ('public,%20max-age=500', 'public, max-age=500') + ) self.assertEqual(remote_metadata['cache-control'], 'public,%20max-age=500') self.assertEqual(check.get_metadata('test-plus'), 'A plus (+)') self.assertEqual(check.content_disposition, 'filename=Sch%C3%B6ne%20Zeit.txt')",This change looks unrelated to the CL description?,How about with an unicode key ?,"In python 3, strings are natively unicode anyway; in python 2, I don't think this should be unicode here (either expecting to receive it, nor outputting). What you've output in the new function is unicode but that's because of the utf-8 jig I'm not sure about.","In python 3, strings are natively unicode anyway; in python 2, I don't think this should be unicode here (either expecting to receive it, nor outputting). What you've output in the new function is unicode but that's because of the utf-8 jig I'm not sure about.",I found that the `Vary` header was now in the response with a value of `Accept-Encoding`. I'm not sure if it's worth checking any of the headers when the response is a 304.,Will `sys.version_info[0] > 1` ever evaluate to False? Should we remove this entirely?,"Mixing this into the key is necessary for use in the buildcache though I think. Unlike the strategy (which should implicitly result in different keys due to logical differences), the cache_key_gen_version has no purpose _other_ than to be mixed in the key.",add docstring for `direct_checker`. It feels like there could be a better description for this than direct / direct_checker. direct here limits transitive traversals of the graph from recursing beyond direct dependencies if the predicate direct_checker is true. It prevents recursing beyond the direct dependencies.,Is this a public kwarg? I don't see it in docstring.,I think we would need a test with more than 1 host line.,"I don't like having this error message when you only provide 1 url, it makes the output a bit more confusing to the user."
"@@ -18,7 +18,7 @@ class DedupTest : public QueryTestBase { void SetUp() override { QueryTestBase::SetUp(); } }; -#define DEDUP_RESUTL_CHECK(inputName, outputName, sentence, expected) \ +#define DEDUP_RESULT_CHECK(inputName, outputName, sentence, expected) \ do { \ qctx_->symTable()->newVariable(outputName); \ auto yieldSentence = getYieldSentence(sentence, qctx_.get()); \",I'm not certain that `res`+`utl` isn't a thing.,"If I recall correctly, it is now `TestPipeline` that makes it so `run()` is blocking and terminating (for streaming cases, watching the counts of successes/failures and timing out). In the newly proposed APIs this may return immediately before anything is run.",Forced to do this check because sometimes the directive function can be called without passing an `ngModule`.,tags gets set to a new StringSet,(Please start reading my reviews from this one) $LIBACL_\* variables are lost here.,Is this needed? Not necessarily wrong but this is more of a component-level test that doesn't need the core DDS running.,Is this needed? Not necessarily wrong but this is more of a component-level test that doesn't need the core DDS running.,"The ideal would be that you would leave all the test code enabled, and check that you get back a -DER_UNREG error in this case.",Please remove this in this final version.,I would keep the outer parentheses here.,These lines are not coupling outputs with dependencies. Maybe some refactoring is needed. But this is not related to this PR.
"@@ -182,6 +182,7 @@ public class FetchActiveFlowDao { + "" LEFT JOIN "" + "" executors et ON ex.executor_id = et.id"" + "" WHERE ex.status NOT IN ("" + + Status.EXECUTION_STOPPED.getNumVal() + "", "" + Status.SUCCEEDED.getNumVal() + "", "" + Status.KILLED.getNumVal() + "", "" + Status.FAILED.getNumVal() + "")"";","This method can cause bugs. Why don't you use list of finalize statuses and then use join by comma and that will give you correct value. Use Apache Commons Lang library List<Integer> list = Arrays.asList(1,2,3,4,5,6,7); String str = org.apache.commons.lang.StringUtils.join(list, "",""); You can use it at multiple places shown in this diff.",PagingContext already have a count and starting number. Can we use that instead of having an additional count?,"is it correct that it would be `0L`? if so, just wondering whether problematic to break the reasonable presumption that endTime > startTime. if is, possibly use MAX_LONG? also, musing, could we approximate with greatest end time among the job statuses here (even though none `isFlowStatus`)--or do those not have the end time even set?",Similarly as above (and anywhere you use transactions) close should be in a finally block,"For readability, in the condition I would suggest to use something simpler. Maybe the simplest way would be to not use optional when you define ackChecked, but convert it into a boolean in the first place (in other words: consider non-existent attribute as false, not an optional empty)","Besides this exception we also have `KsqlServerException`, should that be considered here as well?",Make this abstract since a reasonable implementation is required for a fully functional `JobStatusRetriever`.,nit: spacing on the new fields like created_date should align with status_payload,It would make sense to spell out the number of queries in the file and the current limit in place.,this is breaking an abstraction barrier - we're relying on internal implementations of the string representation of the `QueryId` which doesn't guarantee that it will match the format that you assume here,could invoke statically now
"@@ -23,7 +23,10 @@ void wlr_input_device_init(struct wlr_input_device *dev, } void wlr_input_device_destroy(struct wlr_input_device *dev) { - if (!dev) return; + if (!dev) { + return; + } + if (dev->_device) { switch (dev->type) { case WLR_INPUT_DEVICE_KEYBOARD:",Merge with next condition,"i looked at this and thought we could do it without `enumerateDevicesPromise`, but i guess not, since enumerate devices is callback-based?","Would it not be more prudent to inject this into `restart_usb_driver`, between the disconnect/start?","Not following, if we reset() the codec then any configuration via IPC will also be reset like channels, rate, format etc ?","(here and other spots) In #6869 you'd suggested a happy medium of `10000` us. I think it needs to be consistent here and elsewhere. The `100` that's in these spots seems like it will always fire because the delay is so small, and because they're not ""yield to the OS"" but instead ""don't WDT"" it seems like we'd benefit from the longer offset (i.e. higher throughput).",You can use object finders in place of literal tags to make things less error-prone.,"Now that we are resetting multiple things and executing decent size code underneath it, i would condition it based on 'sucess'.",remove them from the struct definition also?,This is a derived method. There is no need to override it with the exact same value as in the base class.,Why not just use `IPT_ACTIVE_LOW` for the unused input bits so it returns the value you want and you don't need to or it with a constant here?,Why not remove the #if 0 block entirely?
"@@ -348,6 +348,7 @@ type appResourcesGetter interface { type taskDeployer interface { DeployTask(input *deploy.CreateTaskResourcesInput, opts ...cloudformation.StackOption) error + DeleteTask(task deploy.TaskStackInfo) error } type taskRunner interface {",Maybe add it when it is used.,Why change this?,Why change this?,Why change this?,"nit: ""Destroy is disabled. Enabling destroy for VM..""","This func is also used by gardener, e.g. in the shoot controller. Is setting the operation annotation to `restore`/`migrate` on shoots a valid scenario?",why not remove it?,is this for test purpose? didn't see test using it as well,No need for this to be a pointer?,No need for this to be a pointer?,No need for this to be a pointer?
"@@ -36,3 +36,17 @@ TWO_ENABLED = {'scanners': [ {'name': 'cloudsql_acl', 'enabled': False}, {'name': 'iam_policy', 'enabled': True} ]} + +NONEXIST_ENABLED = {'scanners': [ + {'name': 'bigquery', 'enabled': False}, + {'name': 'bucket_acl', 'enabled': True}, + {'name': 'cloudsql_acl', 'enabled': False}, + {'name': 'non_exist_scanner', 'enabled': True} +]} + +ALL_EXIST = {'scanners': [ + {'name': 'bigquery', 'enabled': True}, + {'name': 'bucket_acl', 'enabled': True}, + {'name': 'cloudsql_acl', 'enabled': True}, + {'name': 'iam_policy', 'enabled': True} +]}",More clear naming: NONEXISTENT_ENABLED,"Slight rewording, since this check is done in query parsing before we know whether it's a TPQ or SPQ.",thanks for the feature flag! sets a good example :),Is this granular enough? Would there be cases where a user can view but not modify?,Does the java api use a similar concept?,I have no clue about the Python backend but I'm wondering - can this not be in a config file somewhere?,I don't think we need the ccloud prefix here - this feature is useful for standalone users as well. Maybe rename `ksql.querylogger.anonymization.enabled`?,Should we make this the default in a separate PR? Are we actually ready to have this be the default yet?,"if the flag is false, it's more accurate to say that CST statements would be rejected, right?","use table_id as the name here to be consistent with other ""table_id"" variable names","Does it matter that the variable names are non consistent with the config name? (""KSQL_PULL_QUERIES_ENABLE_CONFIG""). I assume not, since we don't publish these branches, do we?"
"@@ -282,10 +282,10 @@ public class TypeUtil { switch (from.typeId()) { case INTEGER: - return to == Types.LongType.get(); + return to.equals(Types.LongType.get()); case FLOAT: - return to == Types.DoubleType.get(); + return to.equals(Types.DoubleType.get()); case DECIMAL: Types.DecimalType fromDecimal = (Types.DecimalType) from;",why is this change necessary?,Wondering if it can be used for `DECIMAL` columns as well?,"please change to `return number.intValue() != 0`: 0 return false, else return true.","Not sure where the concept that this should be a fixed sized type (with namespace) comes from. Also where did the 38 maximum come from? I remember seeing such a max in ORC, but not sure about Avro.",Is this being used for some kind of implicit conversion? If so... conversion from a floating point to integer types? That's a bit lossy! Is this SQL compliant? (Or is this just existing code refactored?),Shoudnt this be completely removed?,unnecessary parentheses around `value`,how could this ever happen? How would somebody create a type wrapper around a null class?,Neat! I didn't know that this worked. I know that at HEAD the findbugs annotations have `@SuppressFBWarning` but if we don't need it that is good since the project looks stale.,Do we need this?,Maybe you don't need to cast it if you've checked its type?
"@@ -178,9 +178,8 @@ public class SchemaTypeTable implements ImportTypeTable, SchemaTypeFormatter { @Override public String getFullNameFor(TypeModel type) { - // TODO(andrealin): Remove this hack when null response types are implemented. - if (type == null) { - return ""nullFullName""; + if (type.isEmptyType()) { + return ""java.lang.Void""; } if (type instanceof DiscoveryRequestType) { Method method = ((DiscoveryRequestType) type).parentMethod().getDiscoMethod();",make a SchemaTypeNameConverter.getTypeNameForEmptyType() and call that here.,"We could invert this `if` statement and add a return, to reduce code indentation.","a null check is enough, removed items are not returned by `GenericDaoBase::findById()`","Follow the same style everywhere... ""gettypes"" starts with lower case, whereas ""ImportFileByGivenFilePathWithMode"" starts with upper case, I'll prefer they start with upper case everywhere.","While this change is the result of a reformat, would it be possible to wrap this logging statement in a `s_logger.isDebugEnabled()` check to avoid unnecessary string concatenation when `DEBUG` logging is not enabled?","In APIs, untagged is a valid parameter value that is passed often. Can you consider changing this to `vlan.contains(""untagged"")`?",any reason to remove this?,"`RecordEventsReadableSpan.setAttribute()` is internally guarded against null, and it wasn't checked before. Is it really needed?",Notice that this would infinitely loop if typeName is null or empty,"Seems like same thing here, we were always boxing on this case.",What todos are left? Just modopts?
"@@ -26,7 +26,10 @@ class TinyMCELanguage extends AbstractSmartyPlugin public function __construct(Request $request) { - $this->locale = $request->getSession()->getLang()->getLocale(); + if($request->getSession() != null) + $this->locale = $request->getSession()->getLang()->getLocale(); + else + $this->locale = Lang::getDefaultLanguage()->getLocale(); } public function guessTinyMCELanguage($params, \Smarty_Internal_Template $template)",Use braces on your conditional structures please,I'm guessing you meant `$_SESSION` for the second `$_GET`.,Debating whether to incorporate this fallback into get_browser_language() directly.,Best to log the input,"Given that this setting is only used for cookies sent to browser, changing it in the code will not change validity of cookie already stored in the browser.",Seems like line 433 checks if the $CI object exits... so maybe this block should be after that one.,Don't understand why a &. Doing that means the list of files will no more be clean whe we call the page with param mode = 'init',"What is this ""parser"" category? You replaced a few calls with ""rendering"" in other files of this same PR.","By negating this conditional check, an early return with the default is possible. This will reduce the complexity of the function, as we would not have to indent the code inside the conditional anymore.","I don't think this extra consideration of defaults is necessary since you're using the ""default:"" case statement when determining behavior. It's better if we don't have to maintain code in the future that's specific to an upgrade between older versions; having to mine through history to figure out why code was relevant is painful after it's been forgotten.","This whole block is unnecessary. FALSE is already the default, you don't need to set it again. `md5(FALSE)` will produce the same result as `md5('')` because of an implicit typecast to string, so you don't need that either. Just replace the whole thing with `is_string($session_data) && $this->_key_exists = TRUE;`"
"@@ -16,6 +16,7 @@ DECLARE_string(u); DECLARE_string(p); +DEFINE_bool(enable_history, false, ""Whether to force saving the command history""); namespace nebula { namespace graph {","Great God, I have a question. This "".nebula_history"" file is used to save history commands. Is there a file size limit? When the file is large, does it take a long time to start initialization (loadHistory)? How did you think about this? Thx.",all these changes just to fix the native compilation? :(,"I would expect a method named `getAndSet` to set all the flags and to return all the previous flags, without any change. A more appropriate name would be `getFlagsIntersectionAndSetFlagsUnion` ;) I'd also prefer having it as a default method in `FlagAffectedCommand`, and using `EnumUtil` methods instead of bit operations.","perhaps SKIP_OWNERSHIP_CHECK is a better name, more in-line with the other flags?",@Spaceman1984 you may add the `since` key here,"I'd write: `""Display output from users...""` `outputs` -> `output`","Same here, `config` is about `config options`, not `settings`. For example, take a look at `git config --help`.","Why do you need a treeset here? To order/sort the names? If so, could you have used Collections.sort() op?","You've got a syntax error here, a closing parenthesis is missing","You've got a syntax error here, a closing parenthesis is missing","Maybe something like this is more clear for the help ""With an empty `-p` value, it requests the password interactively (not exposed)"""
"@@ -1004,8 +1004,9 @@ static void parseRecord (tokenInfo *const token) */ if (!isType (token, TOKEN_OPEN_PAREN)) readToken (token); + if (!isType (token, TOKEN_OPEN_PAREN)) + return; - Assert (isType (token, TOKEN_OPEN_PAREN)); do { if (isType (token, TOKEN_COMMA) ||",Isn't this the same check as two lines above?,Is this message purposefully vague right now?,So we only care about built-in constructors?,"Most of local variables with type `IdentifierTreeImpl` have name `i`, and most importantly `t` is most of the time used for `return` values.",Nit: `builtInOrMacro`. It'll avoid `!` in the conditional below which is a tad more readable.,@choumx do you have a recommendation on what the exported name should be? we can't use `parser` because the generated code already uses this as a var in the current module,Change from tabs to spaces has messed up alignment.,"> [](start = 0, length = 6) nit: spaces instead of tab",Do we need this?,Shall we get rid of `isTryCast`? It won't be used anyway.,I think we may want to call `Parser.createTerminalNode` instead of creating `TerminalNodeImpl` directly.
"@@ -18,8 +18,11 @@ from mitmproxy import io from mitmproxy import log from mitmproxy import version from mitmproxy import optmanager +from mitmproxy import options import mitmproxy.tools.web.master # noqa +CONFIG_PATH = os.path.join(options.CA_DIR, 'config.yaml') + def flow_to_json(flow: mitmproxy.flow.Flow) -> dict: """"""","Don't redefine, just import the existing one in `cmdline.py`. :)",And which value should it have?,"If you pass the user-defined http-01 port here, I think it will make it compatible with the proxy mode.",This change could use extra attention.,"So my only point of concern is this still > In the future we don't want the agent to set logging config on a flow run unless explicitly asked. We do this early on so later config sources can override we are in direct violation of this idea here `env.update({""PREFECT__LOGGING__LEVEL"": config.logging.level})` where the logging level from the config.toml on the agent's machine is propagated to the flow run.","suggest ""such as **an async** credential""",what about backwards compatibility for config.cloud.agent.api_key?,Does this path have to be in the build root?,"Question: should we implement a more robust setup here for dealing with other potential escaping, e.g., `\r`, `\t`, etc.?","This was declared twice (in `config` and below), moved to just one declaration. Can put back in `config`, the import in other files would need changes.","This was declared twice (in `config` and below), moved to just one declaration. Can put back in `config`, the import in other files would need changes."
"@@ -92,7 +92,8 @@ module Mongoid # # @since 2.0.0.rc.7 def process_attribute(name, value) - if store_as = aliased_fields.invert[name.to_s] + responds = respond_to?(""#{name}="") + if !responds && store_as = aliased_fields.invert[name.to_s] name = store_as end responds = respond_to?(""#{name}="")","why not call `respond_to?(""#{name}="")` from the `if` line?","This is an exception, and should be escape_input(name), as Matja pointed out.","I think this `.limit(...)` shouldn't be in this method, but extracted onto the query in `reports_controller.rb`.",remove `.repository_text_value` ?,Should we pull that regex out into a const? I notice we had to update it in two places  ,We should dedup this at some point with the method above but its fine for now.,Layout/EmptyLinesAroundClassBody: Extra empty line detected at class body end.,Redundant `self` detected.,"I _think_ you'd want `""\r\n""` as the first argument here. It doesn't technically matter as you're squashing them down later anyway, but it would make the intent clearer.","end at 12, 4 is not aligned with case at 8, 16.","end at 12, 4 is not aligned with case at 8, 16."
"@@ -215,7 +215,8 @@ public final class BlazeCidrLauncher extends CidrLauncher { workingDir = workspaceRootDirectory; } - GeneralCommandLine commandLine = new GeneralCommandLine(runner.executableToDebug.getPath()); + GeneralCommandLine commandLine = new GeneralCommandLine(runner.executableToDebug.getPath()) + .withWorkDirectory(workingDir); commandLine.addParameters(handlerState.getExeFlagsState().getFlagsForExternalProcesses()); commandLine.addParameters(handlerState.getTestArgs());",This was properly set above as `<target>.runfiles/<workspace_name>` (with a fallback to workspace root dir) but never used past this line.,"I think this will not work. If the user changes it once, then again, the warning will not be shown when it should be. I agree with James that writing a test for this is important here. This will make it obvious that it works or not, and will make much easier for you @charanbir to test and iterate on making sure your change does work.",Should this be done in LauncherConstants.getProperties so that method always returns a storageDir?,I would just skip defining `WORKSPACE_TMP` in this case.,"Should check with @simonbrandhof what is the ""official"" format for properties since he already reported that we are not consistent.","php 5.4 only, and composer needs to be able to run on 5.3s (a bother, I know)","It looks like `--chroot` is also superseded by a target having `cwd` set. Is that called out somewhere? Is there a test for that case? Also, it looks like chroot acts on batches of targets. Is per-target chroots part of a later step?",should there be some config that automatically sets this with `jetty:run`?,Do we even need to check that?,Why is this needed?,Is an explicit copy of the String required here?
"@@ -0,0 +1,13 @@ +using System; +using System.Collections.Generic; +using System.Linq; +using System.Text; +using System.Threading.Tasks; +using MvvmCross.Core.Views; + +namespace MvvmCross.Uwp.Attributes +{ + public class MvxPagePresentationAttribute : MvxBasePresentationAttribute + { + } +}",Are all these namespaces required for this attribute?,I'm not sure I see what requires unreferenced code in this constructor.,"So this means there's no way to use XSLT and be ""trim compatible"" right? I haven't looked into the details - maybe that's really the case. In any case I would probably create an issue to track this - in theory running XSLT should not break trimming (precompiled XSLT is a separate problem) - in most cases.","From doc for all overloads `XmlNameTable nt, XmlNamespaceManager nsMgr, string xmlLang` are all nullable","On line 33, 41 and 49: `attributeName` and `type` can be nullable.","@ggoodrich-ipp we just caught that this sets the DB internal ID and not UUID, should we fix that in 4.15.1?","Perhaps a more accurate message here would be that the type of instance and individual attributes cannot be statically analyzed so their members may get trimmed, which in this case would break as it seems like we try to get all properties from instance type.",On line 32 and 40: `name` and `ns` can be nullable.,NIT: `string? namespaceURI`?,I think `string namespaceURI` should be nullable,`public IEnumerable<XElement> DescendantsAndSelf(XName name)` should take nullable `name`
"@@ -53,9 +53,12 @@ module Beaker result.stdout << std_out result.stderr << std_err result.exit_code = status.exitstatus + @logger.info(result.stdout) + @logger.info(result.stderr) end rescue => e result.stderr << e.inspect + @logger.info(result.stderr) result.exit_code = 1 end ","Given this may be used and printed in other ways, isn't `debug` more appropriate?",We should really combine `tty.msg` and `tty.info`. Does anyone know why they both exist?,Wrap this whole thing in a function so the code's not duplicated across all the `subprocess.call` invocations. And give the function a nice docstring to explain what's going on (I had to google to remember that `osascript` is the thing that runs AppleScripts),"can we just agree on not misusing logging levels ever? this is NOT debug output. also, we don't need a 1 line function for this.",GLOG flags. should not be configured/created directly without osquery flags,"While this duplicates `engine_initializer.py`, I didn't think it's worth factoring up because this code will be deleted soon.","oh yikes --- I should have looked into the `?` methods more closely when reviewing the last PR, I thought they would behave more similarly","oh yikes --- I should have looked into the `?` methods more closely when reviewing the last PR, I thought they would behave more similarly",if level is not None:,Now the error is printed twice,"Can we add a line that makes it clear what this is for, in contrast to the `certbot.display` modules? Maybe something like ""This module is for operational messages that give information about what Certbot is doing under the hood."" (Don't love that wording, feel free to improve.)"
"@@ -540,3 +540,7 @@ func (s *blockDiskStore) remove(id kbfsblock.ID) error { } return err } + +func (s blockDiskStore) clear() error { + return ioutil.RemoveAll(s.dir) +}",Looks like this is unused? Did you mean to call it when clearing the block journal?,Do we plan to support recursive `SimpleFSMove` in the future?,"Preexisting q: There could be some corner cases where this split does something weird. Is it ~absolutely~ guaranteed that `s.storageDir` is absolute? If not, there could be multiple copies of it in a particularly weird path. Could we use `path.Base` to avoid this problem?","We should remove this if we don't anticipate using it, or at least remove the TODO if we do.","Do you want to just keep the underlying error around, instead of just the string?","This is all locked so it doesn't matter, but IMO the `dirtyDirsSyncing` and `deferredDirUpdates` assignments should be together. After the for loop below.","If the inode of a file path has changed, it does not mean the file has been removed. It can also mean the file was removed. If you want to close a file this file you should use `close_renamed` (see check above).",why does getting it again prevent us from modifying a re-assembled version? Because if it's been queried recently it will live in the memory cache instead?,"If there are directories with different fsid (e.g. snapshot volumes), ignore them.",Merge this with the line above into a single return.,"it's used in 2 or 3 other places, I thought, based on my search. I didn't look too closely though, so I am only sure that it's at least 1 other place."
"@@ -117,8 +117,10 @@ public class ExecutorManager extends EventHandler implements public ExecutorManager(Props props, ExecutorLoader loader, Map<String, Alerter> alters) throws ExecutorManagerException { + alerters = alters; azkProps = props; this.executorLoader = loader; + this.setupExecutors(); this.loadRunningFlows(); ",why named alters? how about this.alerts = alerts?,Should just be null here? Parent can be null and it assigns the correct class leader. I'm wondering if this will work on standalone,this breaks the feature of changing log levels at runtime,`filterConverterFactories` is not completely handled in the other addXXX methods.,Why this `Assert.notNull` check as we already have a `@NotNull` for the `parserPool`?,"300 threads may be too much. Is 30 too low? Also, do you think some of the retryer settings be made configurable?",`LockFactory` must be obtained from the muleContext or injected,"Can we create overriden constructors to the finalizers (DN, SCM) that take in a custom executor? We can add one with a new executor parameter. If not passed in, the default executor will be used. In that case, we can remove the setter in the interface.","We will be removing all of such methods, right?","We will be removing all of such methods, right?","I think we cannot use `0` here as a default because that would either immediately timeout the request or never timeout the request. Not sure what the behavior is when the value is `0`. We should use the default search timeout value here, I think."
"@@ -1549,7 +1549,7 @@ func (js *jetStream) processStreamLeaderChange(mset *stream, isLeader bool) { resp.Error = jsError(err) s.sendAPIErrResponse(client, acc, subject, reply, _EMPTY_, s.jsonResponse(&resp)) } else { - resp.StreamInfo = &StreamInfo{Created: mset.createdTime(), State: mset.state(), Config: mset.config(), Cluster: js.clusterInfo(mset.raftGroup())} + resp.StreamInfo = &StreamInfo{Created: mset.createdTime(), State: mset.state(), Config: mset.config(), Cluster: js.clusterInfo(mset.raftGroup()), Sources: mset.sourcesInfo(), Mirror: mset.mirrorInfo()} s.sendAPIResponse(client, acc, subject, reply, _EMPTY_, s.jsonResponse(&resp)) if node := mset.raftNode(); node != nil { mset.sendCreateAdvisory()",not sure if this has to be here or not tbh,"How about merging them together, e.g. `needSync`?",How about `there is a member that has not been joined successfully`? PTAL @CaitinChen,Does it need to be moved into the loop?,How about moving it to errno.go?,I think '%v' already contains the `approximateSize`.,This line should be moved to line 105.,"Need to log region id, or I think you may just log `region` and `origin` as above.",Seems warn log can be removed?,Seems not formatted?,How about set default value as 100?
"@@ -72,7 +72,12 @@ func newHarnessUsingAutodelete(ctx context.Context, t *testing.T) (drivertest.Ha } func (h *harness) CreateTopic(ctx context.Context, testName string) (dt driver.Topic, cleanup func(), err error) { + // Keep the topic entity name under 50 characters as per Azure limits. + // See https://docs.microsoft.com/en-us/azure/service-bus-messaging/service-bus-quotas topicName := fmt.Sprintf(""%s-topic-%d"", sanitize(testName), atomic.AddUint32(&h.numTopics, 1)) + if len(topicName) > 50 { + topicName = topicName[:50] + } createTopic(ctx, topicName, h.ns, nil) ","There's a better fix for this in #1741, which should replace this.",Do you mind randomizing this name here?,"I don't like the name of this function because it sounds like a struct/interface, Please rename it to `ValidateTopic`.",Nit: The whitespace here looks like tabs instead of spaces.,Do you want to add constants for these string values (as they are used in multiple locations) or is that too much?,"Per kube docs, this is a convention",I think we should limit same as github does with regexp: `^[a-z0-9][a-z0-9-]*$`,Thank you for adjusting these. They have been problematic since Terraform 0.12 was vendored and this test adjustment is appropriate for now.,"It might be more future proof to make this an `encoding.Config`, and roll in the marshalling config (and the setting of DefaultEncoding from the ingester New())",I would prefer to have this method only once. You can use `gardencorev1beta1.Convert_v1beta1_ShootList_To_core_ShootList` in the `admitConfigMap` method to convert the v1beta1 shoot list to the internal version. But this is only personal opinion.,"By contract, `ChunksStorageConfig` should be specular to `ChunksStorageFlags`, so if you do a change to `ChunksStorageConfig` you should do the same change to `ChunksStorageFlags` and viceversa. However, these configs where designed to be ready to use and should not have mixed config (either the storage is AWS or BigTable). I would suggest to: 1. Rename `ChunksStorageConfig` to `ChunksStorageDynamoDBConfig` 2. Rename `ChunksStorageFlags` to `ChunksStorageDynamoDBFlags` 3. Create `ChunksStorageBigtableConfig` and `ChunksStorageBigtableFlags` with the config you want"
"@@ -63,7 +63,7 @@ func (s *StreamMock) Close() error { func TestHandshake(t *testing.T) { logger := logging.New(ioutil.Discard, 0) info := Info{ - Address: ""node1"", + Address: []byte(""node1""), NetworkID: 0, Light: false, }","Use swarm.Address not []byte as type, and construct it from actual byteslice or use swarm.NewAddress if it is constructed from hex-encoded string.","pull out as plain var, no need to make each time.","nit: If this is only used in tests, I think `cltest` would be a better place for this. I try to avoid panicking in general, maybe during initialization. `cltest` is a bit controversial, as it pulls in just about every package, but it is where we tend to keep test helpers.","I am not 100% sure if this will impact consensus or not if we filter out ourself from the peer list, for example, to broadcast the message, we need to have the identical peer list across all validators, so that our CURRENT broadcast algorithm will work.",this is your default file name? why don't use the filename in the parameter?,"pull out as plain var, no need to make each time.",Let's get rid of this.,"Hm, This should be a bug. The previous code assume `n==0` if `err != nil`. But looks like it may not. So I think this should be backport to v1.15","BTW, you could modify `trace.newTrace`, make it public, and wrap this `if() { trace... }` in function with an appropriate skip (3 looks right).","This was copying all 100 bytes of buf even if the message was shorter, and then those extra bytes were being included in the hash","Maybe add a TODO saying that this should be configurable? Also, maybe `2 * time.Minute` instead?"
"@@ -80,8 +80,9 @@ func TestFSRepoInit(t *testing.T) { dir, err := ioutil.TempDir("""", """") assert.NoError(t, err) - - defer os.RemoveAll(dir) + defer func() { + require.NoError(t, os.RemoveAll(dir)) + }() t.Log(""init FSRepo"") assert.NoError(t, InitFSRepo(dir, config.NewDefaultConfig()))","It would be worth factoring this out to a function, but you don't have to do that here.","It's fine to not know the correct sizes of directories, `ls` doesn't report the size of files stored in directories for normal filesystems either. And generally speaking the size of directory shown by `ls` isn't normally taken to be the size of the objects contained in it.",Any reason you don't like just returning this line? Saves some vertical space.,"Yeah, I'm sure this would be nice for local dev. I don't think the answer should change if watch is on. For simplicity's sake, always yes.","If the inode of a file path has changed, it does not mean the file has been removed. It can also mean the file was removed. If you want to close a file this file you should use `close_renamed` (see check above).","the three calls in this file to `removeAllWithRetry` could be replaced with `util.RemoveAll` (or at very least remove loop in `removeAllWithRetry` and have just one call to `util.RemoveAll`), otherwise it'll be 5 * 20 attempts to rm the files",This seems like it is going to hang in CI without timing out. Maybe use a select with a context.,"This will result in an error actually. The second argument is not allowed to be empty. Maybe just use ""master""?",Can this be called more than once; what are the semantics here?,why remove the `sync.Once` here? Can we guarantee only one go-routine calling Close just once now?,Merge this with the line above into a single return.
"@@ -0,0 +1,15 @@ +package com.fsck.k9.message.html; + +/** + * General framework to handle uris when parsing. Allows different handling depending on the scheme identifier. + */ +public interface UriParser { + /** + * Parse and linkify scheme specific uri beginning from given position. The result will be written to given buffer. + * @param text String to parse uri from. + * @param startPos Position where uri starts (first letter of scheme). + * @param outputBuffer Buffer where linkified variant of uri is written to. + * @return Index where parsed uri ends (first non-uri letter). Should be startPos or smaller if no valid uri was found. + */ + int linkifyUri(String text, int startPos, StringBuffer outputBuffer); +}",There's no need for `final` in interfaces.,What does this failure look like? Will it prevent the KSQL server from starting? What's the error message?,`@ since 4.1` Remove 'real'. `s/send/sending the/`,"This is dangerous as it makes it more likely, IMHO, that other people implementing this will forget to change the author.","> the dontEscape parameter is always false This does not seem to match what the code does. As far as I can tell, `dontEscape` argument has some affect.",this jdoc is too vague. Here you should explain that this is for the case in which items in an iterable stream contain nested byte streams.,Could be made `array[]` too I suppose.. it's not much info but it's something :),If it is not used can we not remove it?,nit: maybe link to the associated implementations here?,"`page` and `media` are dynamic link provider types. They should not be added here as constant. As they come from a registry and more types are possible. Only the external type is a internal type which we need handle here, specially. Where was it required for you to check for this constants?",Binary compatible simplification-the body never actually threw that exception.
"@@ -101,6 +101,9 @@ namespace Datadog.Trace.OpenTracing case DatadogTags.ServiceName: Span.ServiceName = value; return this; + case DatadogTags.ServiceVersion: + Span.SetTag(Tags.Version, value); + return this; } if (key == global::OpenTracing.Tag.Tags.Error.Key)",Isn't this case handled as a custom tag in `Span.SetTag()` below? This switch is only for special tags that actually set `Span` properties.,"I am a bit confused. Does the memory already being allocated from `toString()`? I think doing intern this way will only possibly save the memory if the String returned will be held by a constant reference, it won't save the temporary memory allocated.","For the future, we should likely prefix these with `ErrCode`, similar to the AWS Go SDK.",What are the metadata limits?,"If this is already pushed upstream, do a bump() style commit for origin.",I know it was like this before but `w.Module` is an interface and it might be `nil`,No need to change this version will be read from git tag on this branch,"Naming things is hard, this is a good name, might `Current` be a better one? So `WithVersion.Current`?",Nitpick: I would probably have considered using a `dict` instead of multiple `if`/`else`s. But this is probably faster given the relatively small number of items we have to map...,Will also need to clean up the `composeStoreValue` method as you mentioned in the PR description.,"Better to obtain version string from base class rather than obtaining it from UpdateManager. IMHO, UpdateManager should not be exposed outside DynamoCore. We should try to reduce the surface area exposed to 3rd party clients."
"@@ -681,7 +681,6 @@ class Quitter: @cmdutils.argument('session', completion=miscmodels.session) def quit(self, save=False, session=None): """"""Quit qutebrowser. - Args: save: When given, save the open windows even if auto_save.session is turned off.",This shouldn't be changed.,I prefer the original. Black is too aggressive about forcing things onto one line when the programmer formatted multiple lines deliberately for readability.,I prefer the original. Black is too aggressive about forcing things onto one line when the programmer formatted multiple lines deliberately for readability.,`__del__` is extremely uncommon I think a note here about why this is where it is would help anyone else looking at this code,"Just speaking personally, if the choice is between a slightly longer (than 80chars) line, or a weird extra-short line, I find the longer line more readable.","Why the list asymmetry here? If you want to return a copy, why not call `dict` and return that?",Hardcoded timeout? Can we put it as an option into python config file?,"Please indent with tabs, not spaces.",Can you also revert this change? We're looking for the exit in line 131 provided by the underlying runner. I think that's causing the precommit test errors.,"Pylint's warning is righteous. This method need not, and should not, use a protected attribute of the inner client.","We should save it for another PR, but: the SchedulerSession should probably not be optional on this class. Maybe it is used in tests without one...?"
"@@ -1,5 +1,5 @@ ## This file is part of Invenio. -## Copyright (C) 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012 CERN. +## Copyright (C) 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2014 CERN. ## ## Invenio is free software; you can redistribute it and/or ## modify it under the terms of the GNU General Public License as","This one is important `2: I102 copyright year is outdated, expected 2014 but got 2012`",Keyboard name should be lowercase ;),Not sure if changes to this file are necessary.,"lol, i'd appreciate if you just add your name rather than removing mine.",Please rename these files to lowercase.,This seems wrong. The other files do have this blank line.,This seems wrong. The other files do have this blank line.,It is better to modify the copyright below and to just add Intel to the list,I am quite certain it is fine not to update this year... Maybe @techknowlogick knows better?,Change to `Copyright 2020 The TensorFlow Authors.`,Could you revert the changes to the default keymap here?
"@@ -32,6 +32,8 @@ import java.util.Map; import java.util.Optional; import java.util.Set; import java.util.concurrent.TimeoutException; +import java.util.function.BiConsumer; +import java.util.function.Consumer; import com.google.common.collect.Lists; import com.google.common.collect.Maps;","Are these imports needed (BiConsumer and Consumer)? If they are unused imports, then precommit will fail.",It is not recommended to import star.,"stray imports, please remove.","Nit: you have a bunch of newlines added in-between imports that probably the IDE's ""auto-indent"" added, they are unnecessary.","can you add this into the default configs and to default to `[druid.s3.accessKey,druid.s3.secretKey druid.metadata.storage.connector.password]` when null or empty?","Import order of java, org, com, gobblin to match coding style guide.",did you mean to add this?  ,"This is nullable. Also missing in `getCacheKey()`, `equals()`, and `hashCode()`.",this could be removed,this could be removed,Is this needed?
"@@ -0,0 +1,10 @@ +class TraceDestroyerJob < ApplicationJob + queue_as :default + + def perform(trace) + trace.destroy + rescue StandardError => ex + logger.info ex.to_s + ex.backtrace.each { |l| logger.info l } + end +end",Why are we catching and logging exceptions? By doing that we make it look like the job has succeeded and it will be removed from the queue - if we didn't do that then it would stay queued...,"@SamSaffron said: > confusing, ... the idea for handle_exception is to allow you to just easily handle an exception, going through sidekiq was a convenience thing, the API is meant for general consumption. Well, that's not how it's used currently. It uses a Sidekiq-specific logger, and all of the calls are from within Sidekiq jobs or the scheduler. (I checked.)","as this is part of the initializer, shouldn't it be in `lib/sidekiq` with the other custom middleware?",I think we should raise an exception so it triggers the failed worker alarm,I think we should raise an exception so it triggers the failed worker alarm,"what is `_ex` here? do we _have_ to pass it in? if so, we might want to call out what it is.",Metrics/LineLength: Line is too long. [82/80],Metrics/LineLength: Line is too long. [82/80],"This, and the other statements like this, is not needed anymore because we globally set the `queue_adapter` to `:test`","it's a bit weird that we're testing the private methods of a class, this test would break if we change the name of the private methods, which probably shouldn't. maybe we can `allow/expect` the `DataDogStatsClient` since it's what it's ultimately doing, sending events to Datadog","nit: This makes the order of exception reports non-deterministic. That's probably fine (and I expect the engine probably reports them in a non-deterministic order, too), but it may be worth preserving their reported order. Probably not, though :)"
"@@ -90,14 +90,11 @@ class CartController extends FrontBaseController */ public function indexAction(Request $request) { - $cart = $this->cartFacade->getCartOfCurrentCustomer(); - - if ($cart->isEmpty()) { - $this->cartFacade->cleanAdditionalData(); - } + $cart = $this->cartFacade->findCartOfCurrentCustomer(); + $cartItems = $cart === null ? [] : $cart->getItems(); $cartFormData = ['quantities' => []]; - foreach ($cart->getItems() as $cartItem) { + foreach ($cartItems as $cartItem) { $cartFormData['quantities'][$cartItem->getId()] = $cartItem->getQuantity(); } ","If there are `@param` tags in docblock, there should be `@return` tag also. (applies for a whole file)",You need to leave the memory of @dallard in this class at least a BIT.,Why do you use a float ?,"`$data['included']` is always defined because of the isset the line before, `??` can be removed.",Revert this please.,Standards: Please add braces to this conditional statement and use `dbm::is_result()` instead.,Are you passing this as an array because you primarily intend to use the observer for logging/reporting/recording what was done? ie: just watching? (Just curious.),"You can skip the first check in this case. The isset() test will start with the outermost, and work its way in. Plus, this is only checked again in line 199, where only `id` is used. So just `if (isset($_SESSION['shipping']['id']))` would suffice.",IMHO we should use the same argument for the data persister and the sate processor.,And why would I want to do that?,`$order` will never be null. To disable order we just need to pass an empty array. The must can be changed to `array $order = []`
"@@ -34,7 +34,8 @@ public enum BesuMetricCategory implements MetricCategory { PRUNER(""pruner""), RPC(""rpc""), SYNCHRONIZER(""synchronizer""), - TRANSACTION_POOL(""transaction_pool""); + TRANSACTION_POOL(""transaction_pool""), + VALIDATORS(""validators""); private static final Optional<String> BESU_PREFIX = Optional.of(""besu_""); public static final Set<MetricCategory> DEFAULT_METRIC_CATEGORIES;",Is the concept of validators exclusive to IBFT2? I wonder if this category should be more explicitly linked to IBFT2.,"For the explanation, rather than indicating that it cannot be empty, i would indicate ""must contain at least one character that is not white space""",I tried so hard to get this to work! I didn't think of adding type inference in the constructor   well done  ,"Does it make sense to ""only"" implement ""greater equal"" ? Why not just implement all variants in one shot?","Does it make sense to ""only"" implement ""greater equal"" ? Why not just implement all variants in one shot?",Could we use `ServiceTicket.PREFIX` instead?,I'd update the description to add suggestion for using the Lookup service to make credential dynamic.,It's nice having all the validators accessible from one place. The code in `TerminateQueryValidator` looks to match the code in your new validator class. Can we not your new validator class use this class and hence call `TerminateQueryValidator` still?,Same question about the `public` keyword removal here and in other spots...,can we move this closer to the actual property for which this is the default property?,Could also be `UINT64_MAX` Same for all below.
"@@ -14,9 +14,7 @@ */ package org.hyperledger.besu.tests.acceptance.dsl.account; -import org.hyperledger.besu.crypto.SECP256K1.KeyPair; -import org.hyperledger.besu.crypto.SECP256K1.PrivateKey; -import org.hyperledger.besu.crypto.SECP256K1.PublicKey; +import org.hyperledger.besu.crypto.*; import org.hyperledger.besu.ethereum.core.Address; import org.hyperledger.besu.ethereum.core.Hash; import org.hyperledger.besu.tests.acceptance.dsl.blockchain.Amount;",Spotless is configured to reject star imports. Please replace with explicit imports.,why two of them here?,add comma at the end,It's discouraged to use star imports in production code.,This will blow up as soon as someone uses custom `cacerts` keystore,What are the consequences of this limitation?,"Please use `@Ignore(""NXP-26039"")`",Recommend reverting these changes since it is only reordering imports.,Can we avoid (new) wildcard imports? I believe it's not native ES6 and may have bundling implications.,Import only the functions needed - you need setStyles here as far as I can see.,Whats does the `::` do here?
"@@ -115,6 +115,8 @@ void SYCLInternal::initialize(const sycl::device& d) { m_maxThreadsPerSM = d.template get_info<sycl::info::device::max_work_group_size>(); + m_maxShmemPerBlock = + d.template get_info<sycl::info::device::local_mem_size>(); m_indirectKernelMem.reset(*m_queue); m_indirectReducerMem.reset(*m_queue); } else {",Remind me why you are using CUDA vocabulary when naming these variables.,This appears to be unrelated to the PR.,This appears to be unrelated to the PR.,The original code have a high performance. I suggest using the original code.,You probably wanted `if (map->first_free != start)`,"That will work to go to 64-bit alignment, but I don't think it is necessary. Did you find a situation that caused an alignment error? Or was there a performance reason you encountered?",(style) externs should be avoided in .c files,Is there any potential race associated with doing the wakeup after we've released the spinlock? Otherwise this change seems good to me.,this feels wrong... Is SueCreek the only platform that needs this? Or are you using the wrong memory allocator?,do you see a potential use for hugepage_size? currently not used after this change,I wonder if it would be more consistent to call this `MNE_BROWSE_BACKEND` (since we have `MNE_BROWSE_RAW_SIZE` already)?
"@@ -898,6 +898,16 @@ public final class DBReader { } final LongIntMap feedCounters = adapter.getFeedCounters(feedIds); + int feedFilter = UserPreferences.getFeedFilter(); + if (feedFilter == UserPreferences.FEED_FILTER_COUNTER_ZERO) { + for (int i = 0; i < feeds.size(); i++) { + if (feedCounters.get(feeds.get(i).getId()) <= 0) { + feedCounters.delete(feeds.get(i).getId()); + feeds.remove(i); + } + } + } + Comparator<Feed> comparator; int feedOrder = UserPreferences.getFeedOrder(); if (feedOrder == UserPreferences.FEED_ORDER_COUNTER) {",Please turn the iteration order around (instead of `0...size` to `size...0`). The reason is that this sometimes skips indices when removing an item. You can therefore end up with feeds that have counter 0 and are still displayed.,in these places we can change them to assertEquals as well,"I'm a bit worried about performance here, as state transfer uses the `CollectionKeyFilter` and the collection is the data container itself. It's weird that `AdvancedCacheLoader.process()` can skip the unmarshalling for values, but not for keys... I'm not sure we can avoid unnecessary marshalling/unmarshalling with the current API, but I think keeping `keys.contains(key)` is more important.",we can probably rely on `BitmapFactory.makeEmptyMutableBitmap` here?,"AggregateCombiner is only used at ingestion time AFAIK. Since this aggregator isn't meant to be used at ingestion time, you might as well delete this and make `makeAggregateCombiner` throw an UnsupportedOperationException.","""zero value"" sounds a bit weird from user perspective here... I would drop the ""value"" part","Do not close the zkClient here, if it is closed here, other components using this zkClient later will report an error. Close them in ApplicationDeployer destroy/postDestroy before `onStopped`.",This is stateless so it might help to have only one reusable instance in ClusterListenerReplicateCallable.,I would rather disable the bloom filter in `org.infinispan.client.hotrod.RemoteCacheManager#createRemoteCache(java.lang.String)` since you have access to the version than add a new method to the codec.,We have an opportunity to use `ctx.alloc().buffer(preferredSize)` instead of `ctx.alloc().heapBuffer(preferredSize)` for `decompressed` if `IS_JAVA_11_INFLATER` is available.,"It is meant to be circular in a directional setup, if theres a local consumer messages wont go back but should a message move to a broker and then consumer go then message should return back to first broker if there is one there"
"@@ -620,7 +620,7 @@ def execute_reentrant_pipeline(pipeline, typed_environment, throw_on_error, reen def get_subset_pipeline(pipeline, solid_subset): check.inst_param(pipeline, 'pipeline', PipelineDefinition) check.opt_list_param(solid_subset, 'solid_subset', of_type=str) - return pipeline if solid_subset is None else build_sub_pipeline(pipeline, solid_subset) + return pipeline if not solid_subset else build_sub_pipeline(pipeline, solid_subset) def create_typed_environment(pipeline, environment=None):",this is a behavior change. solid_subset=[] represents an empty pipeline where as solid_subset=None is the full pipeline,nit: Add trailing commas while we're changing this?,nit: Add trailing commas while we're changing this?,should the scheduler expose this as a public property vs accessing this private attribute here?,Use correct naming for variables (`mesh_data`) and remove `;`,"This could be moved to within the if statement, so that if somehow there aren't any arguments, we won't get an `IndexError`.","When would I use one vs the other? Are these 1-1 equal, and all I have to do is change the parent class, or will I have to update any of the class first?",Change the err msg to something more informative,"But this should not only check for cmd but also if some deps/outs were added or deleted, no? Or is it checked in `changed_deps/outs`? Just double checking.",No need to change this any more,"Not really sure if lowercase keys would be better, or lower.UPPER, or not nesting, so it would be `""...{pants_hash}..""`, etc..  "
"@@ -318,8 +318,7 @@ Licensed under the MIT License. See License.txt in the project root for license { foreach (var unmatchedSetting in CustomSettings.Keys) { - Logger.LogError(new ArgumentException(unmatchedSetting), - Resources.ParameterIsNotValid, unmatchedSetting); + Logger.LogWarning(Resources.ParameterIsNotValid, unmatchedSetting); } } ErrorManager.ThrowErrors();","this is a breaking change, any specific reason you want to do this?","k_Nonsense. Not on new enums, please. Also, what is a 'default error?'",did you want the new line first?,Why this change? Is this related to another issue?,Look who's adding a 'k' constant,"no need to slice here and just do `apply(null, arguments)`",You can now remove `DeveloperError` from the list.,"@adityaghantasala an alternative would be a global var (set when importing, i.e. from__init__.py) but I think this is the better solution","Some of these properties no longer exist, and others (like expected) will not be part of core, only part of amp code. I'm only transferring externs as they become needed during typechecking, to avoid importing stale or mistaken ones",I imagine there should only ever be one match for this?,Just iterate `arguments`.
"@@ -91,6 +91,8 @@ type nodeChainReader interface { GetTipSetStateRoot(tsKey types.SortedCidSet) (cid.Cid, error) HeadEvents() *ps.PubSub Load(context.Context) error + PutTipSetAndState(context.Context, *chain.TipSetAndState) error + SetHead(context.Context, types.TipSet) error Stop() } ","Blocking: we still want read write separation. Node functions should absolutely not write to the chain store and the interface should reflect that. Only the syncer should have this capability in production code. It should be no problem to keep casting chainForTest to a read-write interface, or doing other function decomposition and automatic casting tricks.","Just realize this won't work after staking, after staking, the SelfAddress is the bls address. We need to derive the ecdsa address from shard state. p.bc.GetECDSAFromCoinbase",is this log needed? maybe it is just a debug use .Debug().,so what have we been missing until this change because we are posting to the chain feed too early here?,Would it be better to use Beaconchain?,do you need to unlock?,why move this above? the hc.currentHeaderHash was updated before the write.,why make this change?,Retry instead of delaying,why are we only broadcasting new block for shard 0 only?,no error checking on pubKeys == nil?
"@@ -22,7 +22,8 @@ const ( minimalPrefetchWorkerQueueSize int = 1 testBlockRetrievalWorkerQueueSize int = 5 testPrefetchWorkerQueueSize int = 1 - defaultOnDemandRequestPriority int = 100 + defaultOnDemandRequestPriority int = 1<<30 - 1 + lowestTriggerPrefetchPriority int = 1 // Channel buffer size can be big because we use the empty struct. workerQueueSize int = 1<<31 - 1 )",The PR description says the lowest on-demand request priority is `2^30`. Why the `-1` here?,"As above DB stuff, not sure how it'll go.",Marketplace and Identity events happen at difference pace. So for example it's possible we would see a very few identity events but lots of marketplace events. Which would then cause marketplace events to get reprocessed many times because processedToBlock would only get advances when we see an identity event... The listener only provides at least once guarantees but still I wonder if there is something we could do to avoid this reprocessing ?,Marketplace and Identity events happen at difference pace. So for example it's possible we would see a very few identity events but lots of marketplace events. Which would then cause marketplace events to get reprocessed many times because processedToBlock would only get advances when we see an identity event... The listener only provides at least once guarantees but still I wonder if there is something we could do to avoid this reprocessing ?,I would remove this whole test since it is just testing this configuration.,"I think it would be nice if the gauge is optional since the priority queue is a util. Also, I would prefer a different name such as `lengthGauge` so it is not confused with a cached integer length for some reason.","Imports like this really show how much cleaner imports can be, and how much easier it'll be to reorganize files when you don't have to update `../../../` to `../../../../../src/core` etc",Cleaning this up as well would be nice :),Probably could use a system property as well.,make it public?,"We should make this a global config param, along with number of shards."
"@@ -609,6 +609,14 @@ bool Game::removeCreature(Creature* creature, bool isLogout/* = true*/) return true; } +void Game::executeDeath(uint32_t creatureId) +{ + Creature* creature = getCreatureByID(creatureId); + if (creature && !creature->isRemoved() && creature->getHealth() < 1) { + creature->onDeath(); + } +} + void Game::playerMoveThing(uint32_t playerId, const Position& fromPos, uint16_t spriteId, uint8_t fromStackPos, const Position& toPos, uint8_t count) {",checking health again? I think it is not necessary.,@IntelligentQuantum wow... big diff here ^_^ where are the actual changes?,`if (creature && !IsControllableGuardian() && !IsControlledByPlayer())` We want that check about `IsControllableGuardian` as it should only affect controllable guardians.,"This should be ""used"". Is this a deliberate ommission?",Should not be added in the interface we should handle this over `func_num_args` and `func_get_arg` like in the other methods for bc reasons.,"Check if `original` and `master` are in the size config first. Attempt to create both, if either fails, delete.",should be `int`,A trigger is already automatically included into the deleteCommon() method. Name is MO_DELETE,I believe this part got merged in accidentally,note if i finish my pr on damage only serverside this will become obsolete,Couldn't this be done without the new variable and just adding the check `&& playersao->getHP() > 0` here?
"@@ -442,7 +442,18 @@ configRetry: log.Infof(""Starting the Typha connection"") err := typhaConnection.Start(context.Background()) if err != nil { - log.WithError(err).Fatal(""Failed to connect to Typha"") + log.WithError(err).Error(""Failed to connect to Typha. Retrying..."") + startTime := time.Now() + for err != nil && time.Since(startTime) < 30*time.Second { + // Set Ready to false and Live to true when unable to connect to typha + healthAggregator.Report(healthName, &health.HealthReport{Live: true, Ready: false}) + err = typhaConnection.Start(context.Background()) + log.WithError(err).Debug(""Retrying to start Typha"") + time.Sleep(1 * time.Second) + } + if err != nil { + log.WithError(err).Fatal(""Failed to connect to Typha"") + } } go func() { typhaConnection.Finished.Wait()",Need an `if err == nil {break}` above this line so that we don't log/sleep if the retry succeeds.,Why was this made private?,"Missing an **r** in mdserver (same with ""bserve"" below).",Remove this whole else clause?,"nit: I see that the file `net.go` contains only dialers. Do you think we can rename it to `dialers.go`? Also, there are some functions in `util.go` that refer to `transport.Dialer`, I wonder if we can divide the stuff in these two files into `dialers.go` and `layers.go`. We could get rid of utils ;)",Why not RequestAcceptGraceTimeout ?,"Could you replace the `ProxyProtocolVersion` type by a string? Having an integers as a version can be harmful if future versions doesn't follow this pattern. There'll be no need for a pointer here, its zero value would simply mean to not enable proxy protocol. And for the versions, `""1""` and `""2""` will be fine.",Did you want to leave this here?,Do you expect other settings than timeouts inside of the `LifeCycle` struct? If not do we want to rename it to `LifeCycleTimeouts` for consistency reasons?,"There is some configuration in `httpServer.start()` that is not executed elsewhere, such as how to listen (`Listen` vs `ListenTLS`), which probably would necessitate a server restart.",building `secureInfo` can be done outside the for loop. Also good with removing it altogether.
"@@ -0,0 +1,18 @@ +'use strict'; + +const assert = require('assert'); + +class ProvidedPromise { + set Promise(lib) { + assert.ok(typeof lib === 'function', `mongodb.Promise must be a function, got ${lib}`); + this._promise = lib; + } + get Promise() { + return this._promise; + } +} + +const provided = new ProvidedPromise(); +provided.Promise = global.Promise; + +module.exports = provided;","to reiterate my point above, this class is not the actual provided Promise, but rather something a user can provide a Promise to/with. I think a name like `PromiseProvider` is more appropriate.",`(?function(!Window):!Object|?function(!./service/ampdoc-impl.AmpDoc):Object)` Maybe `(?function(!Window|!./service/ampdoc-impl.AmpDoc):!Object)`?,"Actually, the problem that we're trying to work around with the timeout is the network request. What's being timed out here is not only the network request - `loadScript` - but also the subsequent processing which we technically didn't really set out to time out.",probably better to use a `createMap()` call here,maybe worth to leave some dev().fine() for debugging?,use $log here instead of window.console.log :<,just for my own knowledge how is the regexp name used (what is its usefulness)?,Why are you removing some but not all completeness checks?,Why is this annotation and the one below it needed?,Why are you exporting this?,when do we ever reach this?
"@@ -738,6 +738,12 @@ func addDep(s *scope, args []pyObject) pyObject { dep := core.ParseBuildLabelContext(string(args[1].(pyString)), s.pkg) exported := args[2].IsTruthy() target.AddMaybeExportedDependency(dep, exported, false, false) + // Queue this dependency if it'll be needed. + if target.State() > core.Inactive { + err := s.state.QueueTarget(dep, target.Label, true, false) + s.Assert(err == nil, ""%s"", err) + } + // TODO(peterebden): Do we even need the following any more? s.pkg.MarkTargetModified(target) return None }","I guess we can only call this from a post-build function, but we might need to check that this target is to be built? I guess target A depends on B which has a post build. We `plz build :B` which adds C as a dep of A. Won't we queue C to be built even though it only needs to build if A needs to be built? That's kinda why I approached this the way I did. I trust you've thought about this but would be good to understand this a bit better.","I think I would put this cast right after the value is obtained from the pool, so that if it does happen to fail it's clear what happened.","This only includes immediate children and fails to do transitive closure, attached PR to do the transitive closure, I think that's what we want.","This only includes immediate children and fails to do transitive closure, attached PR to do the transitive closure, I think that's what we want.","This only includes immediate children and fails to do transitive closure, attached PR to do the transitive closure, I think that's what we want.",Is this supposed to be checking if the pipeline is in standby?,"I could revert this, just moved it down 50 lines to where it was actually used while I was looking at this code a lot.","I could revert this, just moved it down 50 lines to where it was actually used while I was looking at this code a lot.","I could revert this, just moved it down 50 lines to where it was actually used while I was looking at this code a lot.",Is this one blocking until the events are acked?,"This sentence confuses me a little; are you saying ""This module is a collection of State objects..."" or something about the base State class?"
"@@ -123,7 +123,7 @@ def sndrcv(pks, pkt, timeout = None, inter = 0, verbose=None, chainCC=0, retry=0 if remaintime <= 0: break r = None - if arch.FREEBSD or arch.DARWIN: + if not (pks.__class__.__name__ == 'StreamSocket') and (arch.FREEBSD or arch.DARWIN): inp, out, err = select(inmask,[],[], 0.05) if len(inp) == 0 or pks in inp: r = pks.nonblock_recv()",You should use `isinstance()` instead of comparing the class name to a string.,"If the issue is ""the logs are confusing"" ... then should we either: - not log in `DnsServerAddressStreamProvider#parseSilently()` if on windows? - make parseSilently more strict and just throw if it fails ... and handle the errors at this level because we are introducing conditionals based on platform here","Though not necessary in this commit, it'd probably be worth splitting these into their own files similar to the other `guess`-based files, just for easier management.","This TODO can be removed now, since that's exactly what this PR does.",Is there an issue tracking the need to use `type: ignore` here? Can we link it?,Doing this you are forcing a possible `None` value to be `'None'` and in this case the next function will not work.,Use the `platform_name_map` parameter here.,I believe the decision was not to support python 2 for interactive pipelines. Do we need this here?,"I think we should use the standard `@Ignore` annotation, is there a compelling reason not to use this?",How does the allocation of wrapper here work?,do we really want to annotate __init__?
"@@ -15,6 +15,11 @@ axe.utils.isHidden = function isHidden(el, recursed) { return false; } + // do not exclude `video` or `audio` el's + if ([`VIDEO`, `AUDIO`].includes(el.nodeName.toUpperCase())) { + return false; + } + // 11 === Node.DOCUMENT_FRAGMENT_NODE if (el.nodeType === 11) { el = el.host; // grab the host Node",Why should audio and video elements always return `false` for `isHidden`?,Undo this please.,"quick question that maybe you know the answer to: this metadata is used for e.g. lockscreens, right? do you know if it's possible to just disable that functionality entirely?","This is ok for now, but VERY VERY dangerous and should be refactored very soon. Please add `TODO()` with bug number and high priority.","I think it's fine to respect the publisher provided `noaudio` even if there is audio, but plz add a strict equality check `===`",curious about the size of the intersection-observer-polyfill extension.,make `hasAutoplay` public in `entry`,define on top of the file,"It's the test at line 164 (under 'AMPHTML ads rendered on non-AMP page BTF' that's skipping for Safari) of this file that is flaking, not this one. Apologies for the confusion; they're all named the same even across multiple files, and only their parents are different.",Shouldn't we also add this to `userInteractedWith` below?,can we have consistent naming here?
"@@ -27,7 +27,7 @@ namespace Playground.Core Mvx.IoCProvider.RegisterSingleton<IMvxTextProvider>(new TextProviderBuilder().TextProvider); - RegisterAppStart<RootViewModel>(); + // RegisterAppStart<RootViewModel>(); } /// <summary>",This obviously won't work for all the other platforms.,"hmm - I think workspace should be a parameter to this call as well, I believe it can only make it clearer. Saving a `DynamoViewModel` is not actually what we're doing right? We're saving a workspace.","Please harden, assert starts with 'http://' or 'https://'",hmm we need to keep these UI code,attaching here does not make any sense because it triggers `RequestAttachToScene` event but there are no listeners for this yet,should we remove this?,"If user use DynamoWPFCLI, it seems this will set the ModelState incorrectly? Shouldn't we set this in view constructor instead?",Can we define these as static string?,Do we need to also delete the resource string if they are not used any more?,"AFAIK, This check is now unnecessary, but I'm leaving it as removing is out of the scope of this PR.","Not sure how I missed this, but this line can maybe placed as part of `removeViewModelsubscriptions()`"
"@@ -15,7 +15,7 @@ public class ManipulationTest extends BasicJBehaveTest { @Override public InjectableStepsFactory stepsFactory() { - Map<String, Object> state = new HashMap<String, Object>(); + Map<String, Object> state = new HashMap<>(); return new InstanceStepsFactory(configuration(), new SharedSteps(state),",Isn't he diamond operator Java7+?,How about naming it as `getMetricContext`? There is no default info used in the method.,This was not final because it was resettable.,We should also update the contract for `SetState#contains` to say that it also returns whether the value is there on the return of `#read`. Similar to the `#isEmpty` contract.,Switch to a new builder type that won't throw on null keys or values.,"I know I've missed this in the previous commit (for DatasetStateStore.Factory), but is it too late to switch to typesafe Config instead of Properties? Overall, we've been trying to move away from the latter and to the former .",Why don't make use ExtractFactory?,"Noting that I am not removing all type variables from implementing `StateInternals` as this commit is already large enough, and they actually do expose the key with this type (it is not needed and should likely be removed, but doesn't have to happen now).","This is not a test, this was duplicated code.",Why is mainOutput special in this case ? Don't we need schema coders for other outputs ?,This is a public method we shouldnt be removing.
"@@ -159,6 +159,17 @@ public final class Require { return number; } + public static double positive(String argName, double number, String message) { + if (number <= 0) { + if (message == null) { + throw new IllegalArgumentException(argName + "" must be greater than 0""); + } else { + throw new IllegalArgumentException(message); + } + } + return number; + } + public static int positive(String argName, Integer number) { return positive(argName, number, null); }","Prefer adding a second `positive(String, double)` that delegates down to this three-param version. Using `null` in code is generally Not A Great Idea, and it looks ugly.","please change to `return number.intValue() != 0`: 0 return false, else return true.",I do not think it's the responsibility of this class to do that. So please move this method where you use it (in RuleCreator).,Not sure how to make `BigDecimal` immutable... Not sure how to make a deep-copy.,"Why would we handle ""required"" fields different from ""normal"" fields in this case? Wouldn't this introduce another inconsistency?",nit: should be `&&` rather than `&`?,If you use an assumption you will never be aware that this test is not running. The test will show as Passed while it didn't actually run. We should use an @ Ignore and place a TODO tag.,"Not directly related, but the outer parentheses can be removed, and the value can be cast to int directly","While we are at it: why is the trimmed key used further down, while it is used non-trimmed here? Shouldn't we fix that to make it consistent?","Please format whitespace here according to the rest of the file (space before and after keywords, between `)` and `{` and no inner space in `()` expressions.","For the explanation, rather than indicating that it cannot be empty, i would indicate ""must contain at least one character that is not white space"""
"@@ -474,7 +474,7 @@ func (rule removeCount) Name() string { func (rule removeCount) Pattern() plan.Pattern { return plan.Pat(universe.CountKind, plan.Any()) } -func (rule removeCount) Rewrite(ctx context.Context, node plan.Node) (plan.Node, bool, error) { +func (rule removeCount) Rewrite(ctx context.Context, node plan.Node, nextNodeId *int) (plan.Node, bool, error) { return node.Predecessors()[0], true, nil } ","This pattern, where we add a new parameter without using it, often indicates to me that we've got a leaky interface or abstraction. I see this pattern _a lot_ in this patch, so wondering you have thoughts about it.","nitpick: ""curser"" is not a word.",Why we need it?,I'd prefer we fixed the other code. This is a bit too weird.,Mutex hat? This mutex should go at the top of the struct.,  This is potentially a behavior change since we were previously ignoring this variable. The linter was complaining about code on lines 70-72 being an ineffectual assignment. We could instead continue to ignore this argument and then remove those lines.,why is a limit being added here ?,Wasn't sure if we wanted to ignore errors from this refresh or not.,It seems this field is unnecessary.,There is a similar GetValidatorPeers() function in consensus/consensus.go,should also extract a function?
"@@ -164,10 +164,13 @@ func WriteWordpressConfig(wordpressConfig *WordpressConfig, filePath string) err return err } - // Ensure target directory is writable. + // Ensure target directory exists and is writeable dir := filepath.Dir(filePath) - err = os.Chmod(dir, 0755) - if err != nil { + if err = os.Chmod(dir, 0755); os.IsNotExist(err) { + if err = os.MkdirAll(dir, 0755); err != nil { + return err + } + } else if err != nil { return err } ",This seems like an improved pattern :),it is so weird that you are getting those errors from gas and I don't :),Is the only error that could come back from this a file permission error,The `os.ModeDir` flag was creating unusable directories.,Why was this change made?,Could you just inline the `sanitizeErr` calls? Storing it in a variable each time seems like a pretty big waste of vertical space.,"Is there a convention for _suffix.go naming for ""the rest""? In practice, this doesn't get used by Windows but it will get compiled nonetheless.","Didn't look into that and I think `0027` should be fine for APM Server also, but afaik with this change it is more restrictive than before. Maybe worth testing (or at least keeping it in mind if we run into any issues).",do we still want to keep this logging since it's not at the RPC boundary?,This seems to create implicit workdocs which prevents deleting directories,"not familiar with workspapces, whats the reason these are change to true?"
"@@ -127,16 +127,16 @@ class UserController < ApplicationController # valid OpenID and one the user has control over before saving # it as a password equivalent for the user. session[:new_user_settings] = params - openid_verify(params[:user][:openid_url], @user) + federated_verify(params[:user][:openid_url], @user) else update_user(@user, params) end - elsif using_open_id? + elsif using_federated_login? # The redirect from the OpenID provider reenters here # again and we need to pass the parameters through to # the open_id_authentication function settings = session.delete(:new_user_settings) - openid_verify(nil, @user) do |user| + federated_verify(nil, @user) do |user| update_user(user, settings) end end","`open_id_authentication` is no longer the name of the function, and it's not OpenID specific",Not a fan or raising strings but we might want to move this into a constant too,I just added the `pk` here because that seems useful.,this method is called for all controllers that use this module as a `before_action` -- thoughts on testing it via a shared example group that you include for all `TwoFactoryAuthenticatable` controller methods?,this method is called for all controllers that use this module as a `before_action` -- thoughts on testing it via a shared example group that you include for all `TwoFactoryAuthenticatable` controller methods?,nit: why use instance variable here instead of a `let(:user)` for consistency with how we do it everywhere else?,nit: why use instance variable here instead of a `let(:user)` for consistency with how we do it everywhere else?,"I think with the updated method name, this spec would reveal more information: that calling the class method is what hashes the access key.","I think with the updated method name, this spec would reveal more information: that calling the class method is what hashes the access key.",I decided not to refactor the whole file since I want to prioritize fixing this bug.,very minor question: why this change?
"@@ -243,10 +243,10 @@ void rai_qt::accounts::refresh_wallet_balance () balance = balance + (this->wallet.node.ledger.account_balance (transaction, key)); pending = pending + (this->wallet.node.ledger.account_pending (transaction, key)); } - auto final_text (std::string (""Wallet balance (XRB): "") + wallet.format_balance (balance)); + auto final_text (std::string (""Balance: "") + wallet.format_balance (balance)); if (!pending.is_zero ()) { - final_text += ""\nWallet pending: "" + wallet.format_balance (pending); + final_text += ""\nPending: "" + wallet.format_balance (pending); } wallet_balance_label->setText (QString (final_text.c_str ())); this->wallet.node.alarm.add (std::chrono::system_clock::now () + std::chrono::seconds (60), [this]() {",This didn't require corresponding changes to the test case(s)?,"I propose to drop this optional syntax, so that the `get_tx_proof` command works straightforwardly with the additional tx keys; otherwise, we'd have to deal with the standard tx key and the additional tx keys with the `get_tx_key` command, which seems complicated to me. I think the direct display of the tx secret key via `get_tx_key` can be retired in favor of `get_tx_proof` as the safer alternative.",No check for error ?,"Why remove the active check ? Old RPC implementation zeroes it if inactive, the new one doesn't seem to.",I believe we don't need the `tx_key != crypto::null_skey` check either.,Is the duplicated newline intended?,Why is the line `req.prune = false;` kept unchanged?,"You probably want the normal msg_writer here. Also please use tr(""xxx"") for strings so they can be translated. I wonder whether this is becoming a bit pointless now, but it's trivial change so... Also, restricted RPC does not make sense in simplewallet.",Shouldn't this be also added to `sweep_main` and `sweep_unmixable`?,That static seems very odd. bc_height will be read just once.,Probably this should be using `balance_per_subaddr` which accounts for both locked and unlocked balances.
"@@ -509,6 +509,7 @@ type TaskConfig struct { Count Count `yaml:""count""` ExecuteCommand ExecuteCommand `yaml:""exec""` Variables map[string]string `yaml:""variables""` + EnvFile string `yaml:""env_file""` Secrets map[string]string `yaml:""secrets""` Storage Storage `yaml:""storage""` }","A question! I think `string` totally works, but what do you think of `*string` for consistency?",How does the new factory method behave with `--sort-by` (which I think is added by `AddPrinterFlags`)?,remove temp.Close() below,"this is wrong... it means if err is nil, we won't return the env","Question: should we implement a more robust setup here for dealing with other potential escaping, e.g., `\r`, `\t`, etc.?",Why did you remove [options]? Does cobra add it already?,"Is it the case that nested secrets are represented in a first-class fashion (i.e. in a fashion that makes it clear that the nested value is secret)? I think I saw that in the related PR, but it's important to call out.","Is it the case that nested secrets are represented in a first-class fashion (i.e. in a fashion that makes it clear that the nested value is secret)? I think I saw that in the related PR, but it's important to call out.","Is it the case that nested secrets are represented in a first-class fashion (i.e. in a fashion that makes it clear that the nested value is secret)? I think I saw that in the related PR, but it's important to call out.",is this being used somewhere?,Why are these config options hidden?
"@@ -25,6 +25,12 @@ import ( metav1 ""k8s.io/apimachinery/pkg/apis/meta/v1"" ) +const ( + AnnotationClusterInfrastructureReady = ""aws.cluster.sigs.k8s.io/infrastructure-ready"" + AnnotationControlPlaneReady = ""aws.cluster.sigs.k8s.io/control-plane-ready"" + ValueReady = ""true"" +) + // AWSResourceReference is a reference to a specific AWS resource by ID, ARN, or filters. // Only one of ID, ARN or Filters may be specified. Specifying more than one will result in // a validation error.",Should this be: `aws.infrastructure.cluster.sigs.k8s.io` instead?,Perhaps better use SafeString as this is not actually stripping the value?,The `aws/internal/flatmap` code can be fully removed as part of this PR.  ,"if you're adding new environment variables, setting this to a reasonable default in .env_sample is polite :)","In principle light metricsets shouldn't appear here as they don't have code, this one appears here probably because of the `elb.go` file, that I think should be moved to `elb_test.go`.","Similarly here, this testing did not need extra providers or to save the instances.",Will add Local Zone filtering post-merge for all these.,Nit: move to line ~21,maybe `RequireRunningTask ` sounds better and is more coherent with ECS task status,Credential part looks good but I'm wondering if we should add a check for endpoint part. Endpoint is not required in `awscommon.ConfigAWS` but seems like should be required here.,`Snat` instead of `SNAT` ?
"@@ -142,7 +142,7 @@ void PairLubricate::compute(int eflag, int vflag) Ef[2][2] = h_rate[2]/domain->zprd; Ef[0][1] = Ef[1][0] = 0.5 * h_rate[5]/domain->yprd; Ef[0][2] = Ef[2][0] = 0.5 * h_rate[4]/domain->zprd; - Ef[1][2] = Ef[2][1] = 0.5 * h_rate[3]/domain->zprd; + Ef[1][2] = Ef[2][1] = 0.5 * h_rate[3]/domain->xprd; // copy updated velocity/omega/angmom to the ghost particles // no need to do this if not shearing since comm->ghost_velocity is set",Not clear on why this change is correct.,"""zero value"" sounds a bit weird from user perspective here... I would drop the ""value"" part",any reason in particular why you changed the kernel function?,`std::exp(-t * t);`,This will now default to 2. Is that a desired behavior change?,I think it is better to directly register a symmetric tensor (there is a macro for that),@zuxfoucault you need to change too the length of the lines with ===,Should I check for `!is_preheating(e)` like MINTEMP below? It didn't seem safe to add.,it should be 0.5 sfreq. 100Hz sampling has a max freq of 50Hz,You need to keep these statements because `frustum._useDeprecated` would always be `false`.,This looks very suspicious to me!
"@@ -193,5 +193,10 @@ public final class ByteBuffersIndexInput extends IndexInput implements RandomAcc if (in == null) { throw new AlreadyClosedException(""Already closed.""); } - } + } + + @Override + public boolean isMMapped() { + return true; + } }","Hi Simon. Whether this should return true depends on what byte buffers are used? The same applies to ByteBufferIndexInput, actually... I don't think you can generally tell whether the ByteBuffers the input operates on come from a mmap call or from somewhere else (even direct buffers don't have to be a result of mmap).","Instead of ""this"" can we specify the class of input stream?",Should not remove also this method?,Find alternative approach so we don't put this in the interace,I guess adding this method will break backwards compatibility for those who hv written custom firehoses .. :(,What's the purpose of creating an enum ?,I reverted this method to be protected. This should not be used directly by clients.,"Throwing exceptions for normal application flow should be avoided. Can this be changed to avoid the exception, e.g. have a method on `GenericsUtil` that returns a boolean.",please leave a new line at the end of every file,Move this check to the translator so it can throw before running.,"So this is used when outside of Quarkus? If so, do we really want the value to not be consistent with Quarkus?"
"@@ -54,6 +54,7 @@ storiesOf( 'PageSpeed Insights Module/Settings', module ) decorators: [ withRegistry, ], + padding: 0, } ) .add( 'View, open with all settings', ( args, { registry } ) => { return <Settings isOpen={ true } registry={ registry } />;",All stories in this file also need to have the default padding.,Styled should be lowercase,"It seems to me this padding shouldn't be on the sidebar itself, but on the underlying components. For instance, a `<Collapsible>` should have the padding (which it already does).",Is it okay for the Sidebar to be aware of the store?,Do you prefer adding a class for `inset` as opposed to targeting the selector based on the `inset` attribute?,"`[marginLeft, marginRight] = [marginRight, marginLeft]` would do the trick too - feel free to disregard",I have to update #2630 to keep this same ratio for those CTA listing cards before it gets merged.,I have to update #2630 to keep this same ratio for those CTA listing cards before it gets merged.,is this going to work on all browsers?,Just to confirm: do we need to worry about things like margins and borders here?,"Drop this empty line. We generally leave 1 empty live between settings, and 2 between ""sections""."
"@@ -804,8 +804,10 @@ static void subsurface_handle_place_above(struct wl_client *client, return; } + assert(sibling->parent == subsurface->parent); + wl_list_remove(&subsurface->parent_pending_link); - wl_list_insert(&sibling->parent_pending_link, + wl_list_insert(sibling->parent_pending_link.prev, &subsurface->parent_pending_link); subsurface->reordered = true;","I don't think these asserts are necessary, because `subsurface_find_sibling` already searches in the parent. Or am I missing something?","please don't call twice getStackMax, use a temp variable","The count of a list won't be < 0, how about `stackSSAPointerList.empty()` ?",This isn't necessary. The relevant fields are overwritten in d_list_add.,Please rename to `dumb_threading`.,"I'm not familiar enough with the fault injection mechanisms used, but seems like we should understand why there are random issues. I believe fault injection does have the ability to be random in injecting faults. Perhaps it's enabled?",Check the output: `linked to path ....`,"This line is the root of the problem. Once we change `HydratedTarget` and `TargetAdaptor` to use `Address` instead of `BuildFIleAddress`, this code path will no longer be able to get the `BuildFileAddress`es needed by V1 for backwards compatibility. Two possible approaches: 1) Use the new path `Address -> BuildFileAddress` to get this working ad hoc by proactively converting each target in `TransitiveHydratedTargets`. 2) Introduce `LegacyHydratedTarget` and `LegacyTransitiveHydratedTargets`, which still use `BuildFileAddress`. I think #2 is the way to go. #1 would be difficult to get right and would require lots of MyPy ignores.",I guess that's OK. I thought the default was SEMIPRIVATE in this case?,Worth reusing the now defined `numba.cuda.cudadecl.integer_numba_types` here? Keeps them in sync?,"I was trying to separate the `tree` logic, but the `new_checkpoint` state made it a bit hard. We could add this value to a column and later calculate the appropriate tree, but I don't think it's worth it considering this hacky alternate way as done here."
"@@ -0,0 +1,15 @@ +class Episode < ActiveRecord::Base + attr_accessible :title, :duration, :file, :description, :published_on, :notes, + :old_url, :file_size + + validates_presence_of :title, :duration, :file, :file_size, :description, + :published_on + + def self.published + where(""published_on <= ?"", Date.today).order('published_on desc') + end + + def full_title + ""Episode #{id}: #{title}"" + end +end",Should this be `number` instead of `id`?,"Btw, you can check it a bit shorter `@episode.published_at?`",These should go into the `podcast_episode_decorator.rb` file,See above re defining the formats in the locale file and using `format: :short` here.,I changed the name because it doesn't just prefix all images,"**thought (non-blocking):** Looking at this it seems to be a display concern, so in the spirit of cleaning up our models a bit, could it make sense to move this (and the new `displayable_published_at` method) into a decorator?","you might want to add this concurrently, I don't know how big the production table is but still...","again, podcast episodes always access their podcast",Prefer double-quoted strings unless you need single quotes to avoid extra backslashes for escaping.,hmm perhaps we can check for a blank title when fetching the recrod?,Line is too long. [81/80]
"@@ -1569,12 +1569,11 @@ NATable *BindWA::getNATable(CorrName& corrName, ((QualifiedName&)(table->getTableName())).setIsVolatile(TRUE); } - // For now, do not allow access through the Trafodion external name created for - // the HIVE object unless the inDDL flag is set. inDDL is set for drop - // table and SHOWDDL statements. - // TDB - may want to merge the Trafodion version with the HIVE version. - // TDB - similar operation may be needed for external HBase tables - if ((table) && (table->isExternalTable() && (! bindWA->inDDL()))) + // For now, don't allow access through the Trafodion external name created for + // native HIVE or HBASE objects unless the allowExternalTables flag is set. + // allowExternalTables is set for drop table and SHOWDDL statements. + // TDB - may want to merge the Trafodion version with the native version. + if ((table) && (table->isExternalTable() && (! bindWA->allowExternalTables()))) { *CmpCommon::diags() << DgSqlCode(-4258) << DgTableName(table->getTableName().getQualifiedNameAsAnsiString());","I have forgotten why we thought this restriction is necessary. A user registers a Hive/HBase table with us but is not able to use the table with the registered name in DML. Will UPDATE STATs will be on the original name too (and update stats code will find out registered name and use it for Table_uid?). This was the registration concept is almost like an internal implementation idea, at some point could even be done by some utility program for all existing Hive/hBase tables, and the user need not be aware of it? I am struggling with a user would want to register a table, if they cannot use it by that name.",Do we leak owner name with this kind of message?,Please undo the change.,Can you fix the test to validate that this property is present after upgrade.,"minor nit: can we change update used_update_date even when someone enables the datasource ? this would not affect kill task, but would make the value in table consistent with the last time when someone toggled the used column",I do not yet understand what the commit `do no delete default group of default organization` is about.,just throw exception if not implemented yet?,"i wonder if this was causing some problem before... looking at other implementations some do check for null on this field, :+1:",Should this be `deleteTopic`?,Maybe should be reverted?,Don't think this will work with JPA ticket registries. We'll likely run into either schema or serialization issues. Let's keep this as long.
"@@ -40,6 +40,18 @@ struct ase_cfg_t *cfg; +int app2sim_alloc_rx; // app2sim mesaage queue in RX mode +int sim2app_alloc_tx; // sim2app mesaage queue in TX mode +int app2sim_mmioreq_rx; // MMIO Request path +int sim2app_mmiorsp_tx; // MMIO Response path +int app2sim_umsg_rx; // UMSG message queue in RX mode +int app2sim_portctrl_req_rx; // Port Control messages in Rx mode +int app2sim_dealloc_rx; +int sim2app_dealloc_tx; +int sim2app_portctrl_rsp_tx; +int sim2app_intr_request_tx; +int intr_event_fds[MAX_USR_INTRS]; + int glbl_test_cmplt_cnt; // Keeps the number of session_deinits received volatile int sockserver_kill;",Should most of these non-globals be static?,"very minor, would suggest changing only if there is some other need: updated coding standard of max 100 columns can reduce this to 2 source code lines.",These cartridge headers have gotten mixed up as they're added. Please get them back in alphabetical order.,"Drop this define, as mentioned elsewhere.",Avoid unnecessary changes in this file.,any issues with this ?,is defined in interrupt.h platform specific header? Is this more accurate?,"Would it make sense to set the flag internally inside rdb_mc_update, effectively making rdb_mc_update calls critical? The MC shall be well below 1 KB data in total. A bad idea?",(style) 'nd' may be misspelled - perhaps 'and'?,this is nice but please use math.MaxUInt64 for the readers sake :),Can it merge with `/regions/key`?
"@@ -14,6 +14,14 @@ class TestFakerName < Test::Unit::TestCase assert @tester.name_with_middle.match(/(\w+\.? ?){3,4}/) end + def test_first_name + assert @tester.first_name.match(/(\w+\.? ?){3,4}/) + end + + def test_last_name + assert @tester.last_name.match(/(\w+\.? ?){3,4}/) + end + def test_prefix assert @tester.prefix.match(/[A-Z][a-z]+\.?/) end",Please do not approve PRs without tests!!!!,Trailing whitespace detected.,"We should consider changing the wording to ""contains non-ASCII characters"". Accented characters are alphanumeric too, which is why the `:alnum:` class matches them.",We should dedup this at some point with the method above but its fine for now.,Use 2 (not 1) spaces for indentation.<br>Tab detected.,change to string to avoid rubocop violation or disable cop locally since it's phone number  ,change to string to avoid rubocop violation or disable cop locally since it's phone number  ,So that's one of the maybe unfortunate? results of `match` queries analyzing queries. Imho that test isn't very realistic so I'd like to see how that performs in real life.,"Note that this won't completely work since `attr_reader :bar` also creates a `@bar` in the class, which the class assigns to to populate the reader. But that's an acceptable limitation for now; we'd need the ability 1) to recognize it's an `attr_reader` and 2) to rename the field to fully support this rename 100%.",See this discussion: huggingface/transformers#5507,See this discussion: huggingface/transformers#5507
"@@ -48,7 +48,7 @@ class WebEngineView(QWebEngineView): else: profile = webenginesettings.default_profile page = WebEnginePage(theme_color=theme_color, profile=profile, - parent=self) + parent=self, win_id=win_id) self.setPage(page) def shutdown(self):",Now that you handle this in `webenginetab.py` you can undo all the changes in this file.,"I'd consider it bad practice to store a singleton in a field. It makes unit testing harder, because you can't just mock the `getInstance()` function for the unit under test. You'd have to go into the private fields of the class to change the private field that contains the reference to the original singleton. I know that opinions differ on this topic and it's in some different places too, so it's not a requirement, but it's a bit weird to store a local copy of the original instance in a different class.","`win` is an object, so this evaluates to `pageViewIdByWindow[""[object Window]""]` every time.","This looks like we introduce an implicit dependency between elements and js binaries. We have to be careful to ensure that any plans to ""optimize"" away unused `<script>` would not break things.","Quoting `Optional` isn't necessary, though correct.",Could you add the allowable types for `windowfn` (Windowing and WindowFn?).,"Ha, this is the same bug @mkhatib did.",Use the `--width` and `--height` arguments you already have. Just multiply them by 300 (dpi).,"Quick fix, should be removed.","I don't think we should do this either   - sorry for not being able to respond earlier - If there's no better way, than okay, but lets think more generally, are we going to do this for every view Model in Dynamo? It exposes too much of the application IMO and doesn't help people find what they need. This seems like a very specific large surface to expose, and it exposes quite a lot of APIs ... What about adding just the apis you need (publish, download etc?) or event an event to request those?",Remove leading space
"@@ -30,7 +30,11 @@ import org.springframework.context.annotation.AnnotationConfigApplicationContext public class JavaFXApplication extends Application { public static void main(String[] args) { - Application.launch(JavaFXApplication.class); + try { + Application.launch(JavaFXApplication.class); + } catch (Exception e) { + e.printStackTrace(); + } } @Override",I think we should log the exception to a log file instead of printing it. The current behavior (not catching the exception) should lead to an automatic print of the exception to the terminal/console.,unrelated ws change IIUC,"I think it would be reasonable for addThrowable to always call unwrapThrowable, similar to endExceptionally (current impl is good for this PR) cc: @mateuszrzeszutek",I think there is no need to use streams here...,I think there is no need to use streams here...,`onError()` contains a null check. If `exception == null` then it will run addThrowable().,I'm not 100% sure if this is the right way to dispose the server,"We cannot add a new method to an existing API interface, not at least without a default implementation that makes sense.",Maybe makes sense to explicitly say that the response is already committed in the log message,Something worth considering: As we all know the report body is truncated at X characters. This means that the trailing `\n```\n\n` will be cut off if the stacktrace is too long. Perhaps we want to truncate the stracktrace so we don't ever hit the other limit,space after Throwable
"@@ -57,7 +57,7 @@ func (r *Helper) Apply(obj []byte) (ApplyResult, error) { if err != nil { r.logger.WithError(err). WithField(""stdout"", ioStreams.Out.(*bytes.Buffer).String()). - WithField(""stderr"", ioStreams.ErrOut.(*bytes.Buffer).String()).Error(""running the apply command failed"") + WithField(""stderr"", ioStreams.ErrOut.(*bytes.Buffer).String()).Warn(""running the apply command failed"") return """", err } return changeTracker.GetResult(), nil","These changes to the resource helpers have some more far-reaching implications as they also affect calls made in hive-operator, I believe. It's probably OK still, though. Ideally, the resource helper would not be the one doing the logging, since it cannot know the severity, but that is well beyond something that we should tackle for this PR. I would rather have the hive-operator log warnings than have the syncsetinstance controller log errors.","As mentioned above, this is identical to `WithError`.","@soltysh normally, requesting generic output (like json or yaml) from a command would act as a `--dry-run`, without actually performing any changes to objects on the server-side. I was not sure how to approach this with the `rollout latest` command, given that it already supported the `""revision""` output format, which still allows the rollout to happen. The new output behavior of this PR remains consistent with what was already there. If `json` or `yaml` or any other output format is requested, then the rollout still happens, and then the dc is printed out in the format specified. Thoughts welcome on this.",ioutil cannot return io.EOF,I would worry that in this case the rd would be nil and we'd get an NPE below.,Confirmed: removing lines 123-126 yields correct results when output is and is not a tty,I think we can just use multierr for this,I would be careful to not shadow the import name by calling this `crawlerARN :=` or something.  ,"it turned out that every time `res.Add` was called, we return from the function. however there was nothing in `res.Add` indicating that we should do that - it was rather implicit. i believe that the changed logic is simpler","Bigserial is 32 bits, so if you want to specify width, I'd specify at least 64.","as in upstream, a godoc would be nice about this int. time.Duration would be obvious, int is not."
"@@ -167,7 +167,7 @@ class ExportCategoryTableMap extends TableMap */ public function buildRelations() { - $this->addRelation('Export', '\\Thelia\\Model\\Export', RelationMap::ONE_TO_MANY, array('id' => 'export_category_id', ), 'CASCADE', 'RESTRICT', 'Exports'); + $this->addRelation('Export', '\\Thelia\\Model\\Export', RelationMap::ONE_TO_MANY, array('id' => 'export_category_id', ), null, null, 'Exports'); $this->addRelation('ExportCategoryI18n', '\\Thelia\\Model\\ExportCategoryI18n', RelationMap::ONE_TO_MANY, array('id' => 'id', ), 'CASCADE', null, 'ExportCategoryI18ns'); } // buildRelations() ",do you really want to change the behavior on foreign key ?,`add` suggests the same... would call it `setParentKey` or something like this.,"I don't like the idea of this being exposed via an API. Can we just make it ""username""?",think this should be `CategoryInterface`,"This should be ""used"". Is this a deliberate ommission?",think this should be `CategoryInterface[]`,why only creator not both?,why not use `isset`,think this should be `string`,This actually belongs in the block of the `foreach`.,Why has this to be removed?
"@@ -183,7 +183,8 @@ void event_batch_destroy (struct event_batch *batch) if (batch->f) (void)flux_future_wait_for (batch->f, -1); if (batch->state_trans) { - event_publish_state (batch->event, batch->state_trans); + if (json_array_size (batch->state_trans) > 0) + event_publish_state (batch->event, batch->state_trans); json_decref (batch->state_trans); } if (batch->responses) {",Looks like my bad. Thanks for fixing!,"This is not synchronized with the calls to `get`, which can get reordered above while grouping the messages per room, if an exception is raised the wrong tasks can be set as `done`. It looks like `_global_send_queue` being a `JoinableQueue` is only useful for startup of the transport, because the global messages have to be sent first. Perhaps this can be simplified further ?","Having TAG_ here as the first arg was incorrect. Worse, TAG_ is *always* truthy. So it caused this assert() to never fail. It made 1 test give a false positive, but didn't really affect the real use scenario since that relies more on sentinel than creativeId.",Nit: I find this very confusing when there are implicit dimensions in slices - can you add in the extra `:` for the final dimension?,Nit: I find this very confusing when there are implicit dimensions in slices - can you add in the extra `:` for the final dimension?,"Wow, how did these test work?",What is a stage? This is not a concept in the Beam model. The tag must be unique for a step / transform / DoFn.,"Not sure what to do about this one. According to `TransitionResult`, `new_state` should never be `None`, but we use it as that sometimes.",I guess we want to prevent overlapping Sends. Shouldn't this then rather be a condition with `throw QuicException...`?,"can you make the return the struct, instead of pointer? To loose the client's burden of checking nil and avoid potential crash.",this is conditionally set at line 23 below so remove?
"@@ -82,6 +82,7 @@ class Command: no_cmd_split: If true, ';;' to split sub-commands is ignored. backend: Which backend the command works with (or None if it works with both) + no_replace_variables: Whether or not to replace variables like {url} _qute_args: The saved data from @cmdutils.argument _needs_js: Whether the command needs javascript enabled _modes: The modes the command can be executed in.","I think ""Don't replace variables ..."" would be cleaner.","Maybe something like this is more clear for the help ""With an empty `-p` value, it requests the password interactively (not exposed)""",Do you want to also include 'yes' and 'no' as acceptable values?,No longer used,"I actually had in mind that `customize_kwargs` should make a copy, update the copy, then return that. i.e. so that the default implementation ought to return `dict(server_kwargs)` and then at the call site it would be `kwargs = customize_kwargs(kwargs)` (The docstring should be clear about this)","Docstring should not start with a newline to match the rest of the code base. Suggest `customize_kwargs` as a different (and public) name. Would it be possible for this to be a configurable hook that can be passed in, rather than a method that has to be overridden in a subclass? Might also be preferable to have this method/hook return a new dict rather than mutate its argument.",Are there times this is just a nuisance and not a real bug? I think it's actually usually worrisome to see this.,You decided not to bother with `--verbose`?,No longer used,(question) To make sure: does this output a reasonable error message (vs. a stack trace)?,Maybe pass verbose=True here? or even options.verbose?
"@@ -82,8 +82,7 @@ class MPLPlot(DimensionedPlot): sublabel_size = param.Number(default=18, doc="""""" Size of optional subfigure label."""""") - projection = param.ObjectSelector(default=None, - objects=['3d', 'polar', None], doc="""""" + projection = param.Parameter(default=None, doc="""""" The projection of the plot axis, default of None is equivalent to 2D plot, '3d' and 'polar' are also supported."""""") ",Do you validate the possible strings? I've not read the code below but we should make sure if a string is supplied it is validate...,this looks like a boolean,"Otherwise...? Maybe you should say ""only returned if `kind=='select'`","""does not work"" suggests that for the `extrapolate == 'head' and outlines == 'skirt'` case: 1. we should raise a `ValueError` if they try and 2. there should be a new `with pytest.raises(ValueError, match='""head"" cannot be used with'):` in tests somewhere",Might as well call this show_scrollbars,Please create a method that does the job instead of repeating the same code.,Schema imports is slow.,"Please be as specific as possible. If there is no way to be specific, then use `except Exception:`. There aren't really many cases where you would like to use bare `except:`. The same applies to other cases in this PR.","I don't like the phrasing ""This must work with ..."" ... Maybe something like ""must be a valid input to matplotlib.pyplot.imshow""?",I assume these ought to be here?,"Simpler as if getattr(fig, 'lasso') is not None"
"@@ -40,13 +40,11 @@ func AddDiskImportSteps(w *daisy.Workflow, dataDiskInfos []ovfutils.DiskInfo) { for i, dataDiskInfo := range dataDiskInfos { dataDiskIndex := i + 1 dataDiskFilePath := dataDiskInfo.FilePath - diskNames = append( - diskNames, - fmt.Sprintf(""%v-data-disk-%v"", w.Vars[""instance_name""].Value, dataDiskIndex)) + diskNames = append(diskNames, generateDataDiskName(w.Vars[""instance_name""].Value, dataDiskIndex)) setupDataDiskStepName := fmt.Sprintf(""setup-data-disk-%v"", dataDiskIndex) - diskImporterDiskName := fmt.Sprintf(""disk-importer-%v"", dataDiskIndex) - scratchDiskDiskName := fmt.Sprintf(""disk-importer-scratch-%v-%v"", dataDiskIndex, w.Vars[""instance_name""].Value) + diskImporterDiskName := fmt.Sprintf(""disk-importer-%v-%v"", dataDiskIndex, w.ID()) + scratchDiskDiskName := fmt.Sprintf(""disk-importer-scratch-%v-%v"", dataDiskIndex, w.ID()) setupDataDiskStep := daisy.NewStepDefaultTimeout(setupDataDiskStepName, w) setupDataDiskStep.CreateDisks = &daisy.CreateDisks{",I'd recommend using generateDataDiskName here as well -- might as well benefit from the safety that it gives to protect yourself from future changes to w.ID().,Let's call this `reverse_dns_prefix` for clarity.  ,"I think this should still be computed as Computed values are still Optional, but DNS name is probably a required value for a managed zone. Even though we set the value to the GCP resource's value right now, Optional can potentially cause this value to not be set.",I think we are trying too hard to not to write 3 additional line of code. Just my 2 cents :),"this return might shortcut the datastore query, if we have multiple datastore configured, and only some of them have problem.",ugh this is because I'm on go version 1.10. We should probably standardise on one of them at some point -_-,"Unless the order of the returned IPv6 addresses is significant, we prefer `schema.TypeSet` for collections.",Nit: Please sort this data source with the other keys,"I want to double check: is this likely to end up with us distributing across hash buckets in a way that's aligned to how we're distributing across dynamo? If so, won't that make the measurements less useful?",Leave `Computed: true` here as the value is computed if no explicit DNS name is specified.,I'd say remove these unless you feel they improve readability a lot. I generally feel like empty lines are only worth it for very distinct pieces of code. These ones seem related enough that the empty line doesn't add much and takes up more vertical space.
"@@ -29,6 +29,11 @@ import java.util.Map; * @param <F> the concrete Java class of a ContentFile instance. */ public interface ContentFile<F> { + /** + * Returns the ordinal position of the file in a manifest, or null if it was not read from a manifest. + */ + Long pos(); + /** * Returns id of the partition spec used for partition metadata. */",qq: do we want to include anything in the name to indicate that it is a position in the manifest?,"I don't really like the name, I think this method is used both to handle partitioning and merging. `onMembershipChange` perhaps?",What does this failure look like? Will it prevent the KSQL server from starting? What's the error message?,"As far as I know, the timestamp definition can be changed by `message.timestamp.type` property (CreateTime or LogAppendTime). Also, it always returns `-1` if magic is 0.","Disabled Fingerprint storage impl is a great idea IMHO, but not sure it is a good default here",need to call getHeaders from `ConumserSpEL` or move it here.,"We could add `@JsonRawValue` here and name the serialized field `schema`, so that the serialized split will look more natural. ```java @JsonRawValue @JsonProperty(""schema"")",nit: you should make this `final`.,"What is the reason of this method? Are you going to provide separete `MG` implementation? If so, why just don't rely on the `size` implementation for that new one ?",Why? Is it an abnormal behavior?,"Use of the type `J9FlattenedClassCache` will be problematic. Older core files, or those produced by Java8 VMs, won't have that type: expect exceptions like `NoClassDefFoundError`."
"@@ -969,8 +969,11 @@ public class VRBrowserActivity extends PlatformActivity implements WidgetManager GleanMetricsService.stopImmersive(); Handler handler = new Handler(Looper.getMainLooper()); handler.postDelayed(() -> { - mWindows.resumeCompositor(); - Log.d(LOGTAG, ""Compositor Resumed""); + if (!mWindows.isPaused()) { + Log.d(LOGTAG, ""Compositor resume begin""); + mWindows.resumeCompositor(); + Log.d(LOGTAG, ""Compositor resume end""); + } }, 20); } ",These logs should probably use the `LOGTAG`,I'd suggest moving those variables to the top of the class,Missing an 'e' in 'unableToRest...',"Use a single string here, not two concatenated together.",Why default method? Its been implemented in queueimpl,This needs real fix,"Use a single string here, not two concatenated together.","Use single string, not concatenation.",Are these extra lines added by mistake or some reason to do it?,Why can't it be `public` ?,"Don't reinvent this, use `import org.apache.commons.lang3.SystemUtils` and check with `SystemUtils.IS_OS_WINDOWS`"
"@@ -28,10 +28,10 @@ import ( ""github.com/mysteriumnetwork/node/core/connection"" ""github.com/mysteriumnetwork/node/services/wireguard"" ""github.com/mysteriumnetwork/node/services/wireguard/key"" - ""github.com/mysteriumnetwork/wireguard-go/device"" - ""github.com/mysteriumnetwork/wireguard-go/tun"" ""github.com/pkg/errors"" ""github.com/rs/zerolog/log"" + ""golang.zx2c4.com/wireguard/device"" + ""golang.zx2c4.com/wireguard/tun"" ) const (","From this, it was clear, that we are using our version of wireguard-go. And now it looks like we are using original packages which is confusing.",remove this line.,Fix this in library-go,Can we please fix imports in this file? Our check apparently failed here. :-(,Why was these lines changed?,Can you move this up with OS?,Security: create directory for storing the server's public key that has been downloaded from the server.,Group in with other external deps.,Group in with other external deps.,Group in with other external deps.,"Why ""github.com/coreos/etcd"" is changed to ""go.etcd.io/etcd"" ? @nolouch"
"@@ -43,7 +43,7 @@ namespace Nethermind.JsonRpc public static ResultWrapper<T> Fail(Exception e) { - return new() { Result = Result.Fail(e.ToString()), ErrorCode = ErrorCodes.InternalError}; + return new() { Result = Result.Fail(e.Message), ErrorCode = ErrorCodes.InternalError}; } public static ResultWrapper<T> Fail(string error, int errorCode, T outputData)",Any particular reason for this? This potentially will make harder to investigate users issues,Just so the generated file name would become `LoggerMessage.cs` instead of `LoggerMessageGenerator.cs`,"this is only used from a test, doesn't belong in `core`",this will have to be considered in DataSense tests,Could the other unused variants of this method be removed?,"Out of curiosity, what necessitated the change from reporting the diagnostic directly to storing in a set? Were there duplicates? Probably not in scope for this PR, but in future iterations I would recommend doing the same for emitted member-level diagnostics (in other words, we should try to make the mapping layer pure).",Where do the checks happen that result in NSE here?,can you make the implementation null safe and pass no value instead of a wrong value for this case?,"`CreateConverter` shouldn't return nullable. It can, if someone implements it incorrectly, which is why we need to guard against it. However, the public API shouldn't state that.","Where is a polymorphism from superclass? What is the reason to extract superclass, if you don't change the inheritor?","@steveharter would know better, but I don't see why `options` should be nullable here."
"@@ -999,7 +999,8 @@ Blockly.BlockSvg.prototype.updatePreviews = function(closestConnection, // grayed-out blocks instead of highlighting the connection; for compatibility // with Web Blockly the name ""highlightedConnection"" will still be used. if (Blockly.highlightedConnection_ && - Blockly.highlightedConnection_ != closestConnection) { + (Blockly.highlightedConnection_ != closestConnection || + Blockly.localConnection_ != localConnection)) { if (Blockly.insertionMarker_ && Blockly.insertionMarkerConnection_) { Blockly.BlockSvg.disconnectInsertionMarker(); }",Do you also need to check if Blockly.localConnection_ is non-null?,Doesn't this still have the potential to be slow if the input size is large? Programs can be of arbitrarily large size can't they? What about a version of `Coreutils.GetCodeBlock` that takes an initial index to check? I guess eventually we'd want to stop using arrays and start using a sorted or balanced data structure with fast lookup?,"Dang, maybe at this point, not saying for this PR, ConnectionStatsTable should just take in the stats object itself or we use a spread operator to pass in all stat values (`{ ...this.state.stats }`)or have ConnectionStatsTable listen instead of just ConnectionIndicator.",`this.closeState = null; if (url.hasParameter(LAZY_CLOSE_STATE_KEY)) { this.closeState = Boolean.parseBoolean(url.getParameter(LAZY_CLOSE_STATE_KEY)); }`,I had to reuse some code since I couldn't get the code to detect the needle.,I had to reuse some code since I couldn't get the code to detect the needle.,I think even with optimistic locking it's possible that the originator forwarded the PrepareCommand to other nodes after it finished executing locally.,`return client == null ? false : client.isClosed();`,I removed the `state store %s` because seems not useful for the user. The LOG will print it in the ksql.log debugging purposes.,"This line has to be called after `this.recheckVisibilityState_()` call, otherwise it will misreport. Probably just better to call `recheckVisibilityState_()` as soon as `viewerVisibilityState_` and `docState_` are initialized?","Very minor thing. I would rename this to isDialogVisible, which fits better the way we name such methods in general."
"@@ -1,5 +1,6 @@ module RSpec module Core + # Internal container for global non-configuration data class World include RSpec::Core::Hooks","Not really a container, and it's not just about non-config data, not sure of a better description, @myronmarston ?",One question why did you move this to the cpp?,Use the new Ruby 1.9 hash syntax.,"I am quite convinced that there is a more ""C++"" way of doing this with `std::chrono` (haven't checked though :) )",  I noticed this matcher was missing on one of my own PRs and I forgot how to add negated matchers so I just wrote `.not_to include` and forgot to look into it :joy:,"@ptarjan which of these changes fixes the bug with double requiring / constant already defined, and which one just changes what's printed?","Ugh, let's not pull in `Kernel` here.","`#include` order should be PCH (emu.h), module header, project headers, framework headers, and standard library headers in that order. This helps avoid a lot of pitfalls. Please don't `#include` anything before the PCH in particular.",this is not needed since it is already called within define_python,I think this is one of those things that makes it easier for us devs but harder for anyone coming to the codebase for the first time so I'm going to edit it out during the rebase/merge - sorry!,"do not include this header. it is only valid for tets and triangles, while the laplacian element is expected to work for any gometry"
"@@ -3,6 +3,8 @@ const { basename } = require('./path-utils'); const shim = require('./shim').default; const JoplinError = require('./JoplinError').default; const { Buffer } = require('buffer'); +const { Readable } = require('stream').Readable; +const { GetObjectCommand, ListObjectsV2Command, HeadObjectCommand, PutObjectCommand, DeleteObjectCommand, DeleteObjectsCommand } = require(""@aws-sdk/client-s3""); const S3_MAX_DELETES = 1000; ","The desktop app will load this fine. on iOS I get `TypeError: undefined is not an object (evaluating '_$$_REQUIRE(_dependencyMap[8], ""stream"").Readable.Readable')` if I change it to `const Readable = require('stream').Readable;` or `const { Readable } = require('stream');` I get undefined errors from the stream on iOS: `[TypeError: stream.on is not a function. (In 'stream.on(""data"", function (chunk) { return chunks.push(chunk); })', 'stream.on' is undefined)]` What am I missing?",This type had been incorrect,4MB? That might be too big  . Lets do 2MB for now (matches the array pool max).,put below const,"Remove anything that starts with ""unused"".","Do we know how much it would improve if we increase this to an higher number instead of 16? I assume 16 is a good trade off between memory usage and read speed, but have we explored other options?",We know it's not an array from the typing.,"Are you sure, both question marks are necessary?","Unfortunately, we can't make changes in the vendored dependencies, because they'll be wiped out the next time we update the AWS SDK. When we run into missing constants, the first thing to do is double-check that they haven't been added in a new version of the SDK. If they haven't, then we can define our own constants in the directory `aws/internal/service/s3` and also file an issue with AWS either on the SDK or with support",why removing this? Are they mocked by jest himself?,why removing this? Are they mocked by jest himself?
"@@ -93,7 +93,9 @@ func (m *MockStorer) Put(ctx context.Context, mode storage.ModePut, chs ...swarm po := swarm.Proximity(ch.Address().Bytes(), m.baseAddress) m.bins[po]++ } - m.store[ch.Address().String()] = ch.Data() + b := make([]byte, len(ch.Data())) + copy(b, ch.Data()) + m.store[ch.Address().String()] = b m.modePut[ch.Address().String()] = mode // pin chunks if needed","this is needed since the chunk feeder shares memory across calls to the pipeline. this is in order to avoid multiple allocations. this change mimics the behavior of shed and localstore, and copies the data from the call into the in-memory store","It's not necessary to change `c` to a pointer in varbit, since the size and capacity of the slice never changes.",this declaration could go closer to the point of use.,"Could you explain why we need this change, please?","We should change this to error if its a duplicate within the batch, to match server behaviour.","I'd prefer it if we kept this around, but set it to the runtime's `DetachKeys` instead of hard-coding C-p C-q. That way, we don't have to unconditionally pass the keys in as part of `StartAndAttach()` - we get the defaults if not overridden.","pull out as plain var, no need to make each time.",Can we just do `return c.EncodeTo(nil)`?,"This was copying all 100 bytes of buf even if the message was shorter, and then those extra bytes were being included in the hash","IMO, staking transactions are never eth compatible right? We have a notion of a staking directive and require some BLS key verification for some staking transactions. None of this is captured with a generic eth tx.",Maybe emit and obviously incorrect string if err != nil? (also above)
"@@ -42,6 +42,10 @@ import ( ""go.uber.org/yarpc/yarpcerrors"" ) +func init() { + opentracing.SetGlobalTracer(nil) +} + func TestHandlerSuccess(t *testing.T) { mockCtrl := gomock.NewController(t) defer mockCtrl.Finish()",wut. We can do this at the beginning of tests if we want right? Why are we depending on init?,"These env vars only take effect in a call to `transport.NewHTTPTransport`. `elasticapm.NewTracer` uses `transport.Default`, which is initialised at package-init time. You would either have to call `transport.InitDefault` after setting these, or alternatively (my preference) call `transport.NewHTTPTransport` with the arguments directly.","Nit: now that there are a couple of APM-related initialization statements here in the `init()` function, maybe move them into their own function like `initRand()`?","For clarity, can't you move L144 up here, and wrap that same `origRunServer` in L166?",Is this used anywhere?,This is the only meaningful change. Previously we were ignoring this error.,"Added these logging statements since they looked like nice output to have, but I can remove them from the PR since it's not strictly tied to this change.","PipelineConnector is the 'smaller' interface. I hope to merge Pipeline and PipelineConnector interfaces in the future, such that Pipeline will not have any extra methods anymore.",That string isn't going to be accurate for most commands. Can we pull it out of the cobra.Command?,Are we synchronous on both of these when stopping the runner?,"What other ""extensions"" do you expect to add?"
"@@ -1403,9 +1403,12 @@ func (c *client) processConnect(arg []byte) error { c.mu.Lock() acc := c.acc c.mu.Unlock() + srv.mu.Lock() if acc != nil && acc != srv.gacc { + srv.mu.Unlock() return ErrTooManyAccountConnections } + srv.mu.Unlock() } c.authViolation() return ErrAuthentication",Same trick here IMO.,"We are resetting an account so we have a passphrase - kill secrets, don't force","This did fix a bug, but only the bug that reconnect always failed after it failed once. It doesn't fix the original failure.",Expose state machine on g itself instead of this other way which is too confusing.,close on shutdown?,"Can't multiple threads have control of this object at the same time? And we don't have a lock here, so it might race.","deleting account, so nuke secrets forcibly",Maybe Info or Debug? It is expected when there multiple goroutines trying to create connection at the same time?,I'm not following why we even need this goroutine here? If we're going to wg.Wait() right after starting it we can just make a blocking call to connectAndWritePump or even inline that code here,TODO: Cast to sendError and check its not something expected like nonce too low. Also consider adding Trace logging,"So this code doesn't seem to call cancel? Might be worth adding it? Probably makes sense to move this context out of the for loop then as well, and instead of waiting on `ec.chStop` use `ctx.Done()` ?"
"@@ -108,10 +108,11 @@ module Selenium def initialize(source, duration, x, y, element: nil, origin: nil) super(source) + @duration = duration * 1000 @x_offset = x @y_offset = y - @origin = element || origin + @origin = origin || POINTER end def type",Should be `@origin = element || origin || POINTER`,"nit: move the `cubic-bezier(0.4, 0.0, 0.2, 1)` to a constant (`DEFAULT_EASING`?)","Slightly out of scope, but I believe @mramato suggested to rename this to `bearing` in the main pull request. Did we, instead, rename `bearing` elsewhere to `rotation`? I care more about consistency than I do which name we use; however, `bearing` is more precise. Similarly, `stRotation` should be kept in sync, e.g., `stBearing` if we rename.","`CS.out.vEgo > CS.CP.minSteerSpeed` where minSteerSpeed == default of 0 is almost the same thing as `CS.out.standstill`, but I'd like to keep both conditions. In the early days of the port, I used `vEgo < 0.01` as my standstill condition and had problems with EPS faulting coming to a standstill until I raised it to `vEgo < 0.1` (since replaced with the EPS hydraulic hold flag).","start will attempt to connect right away, setting the open_timeout in the block is too late","The crash is fixed, but it does not seem like setting the radius works anymore / it does not change. Do you mind testing using the eyetracking Builder demo? Maybe setting the base `visual.Circle` radius is no longer working?","I think for `particle` itself, we should just stick with `start` and `end`?","Throughout Cesium, we call this `height`. We should do the same here unless we have a compelling reason.",Use safe navigation (&.) instead of checking if an object exists before calling the method.,"nit: would be nice to annotate what `0, 0` are.",This looks completely unrelated to temperature regulator.
"@@ -50,11 +50,14 @@ func NewUpgradeCStorSPCJob() *cobra.Command { Long: cstorSPCUpgradeCmdHelpText, Example: `upgrade cstor-spc --spc-name <spc-name>`, Run: func(cmd *cobra.Command, args []string) { + util.CheckErr(options.RunCStorSPCUpgradeChecks(cmd, args), util.Fatal) options.resourceKind = ""storagePoolClaim"" - util.CheckErr(options.RunPreFlightChecks(cmd), util.Fatal) - util.CheckErr(options.RunCStorSPCUpgradeChecks(cmd), util.Fatal) - util.CheckErr(options.InitializeDefaults(cmd), util.Fatal) - util.CheckErr(options.RunCStorSPCUpgrade(cmd), util.Fatal) + if options.cstorSPC.spcName != """" { + singleCstorSPCUpgrade(cmd) + } + if len(args) != 0 { + bulkCstorSPCUpgrade(cmd, args) + } }, } ",this example needs a fix?,This follows the same pattern as in deploy and abstract away the auth and client during tests.,"If both `vm-timeout` and `cordon-drain-timeout` are provided, I think we should validate to make sure `vm-timeout` >= `cordon-drain-timeout`. Otherwise I think it doesn't make sense. Want to know you'll thoughts before I add that check?",would this cause issue later if the existing version is not supported? Shouldn't we error out before calling this?,feels like here should have a warning message as well. to make sure user does not reset flag during other process is actually running,"This was adding the current version to the allowed upgrade matrix, making the Cmd validation pass. the upgrade process however was re validating the same thing, disallowing same-version upgrades, and skipping validation alltogether for HostedMaster. I chose to move the validation in the cmd and let the underlying library (operations/upgradecluster) do the upgrades as it pleases.","This is upgrade command, name the flag as UpgradeInProgress.","Looks like these vars are not needed any longer, or they should be used for the input to the construction of the struct below.",separating the validation logic,include `webhook` to follow the pattern?,"This refactor is fine, you could also pull this out into its own PR to reduce churn in this one"
"@@ -248,9 +248,9 @@ static void close(struct roots_view *view) { struct wlr_xdg_surface *surface = view->xdg_surface; struct wlr_xdg_popup *popup = NULL; wl_list_for_each(popup, &surface->popups, link) { - wlr_xdg_surface_send_close(popup->base); + wlr_xdg_popup_destroy(popup->base); } - wlr_xdg_surface_send_close(surface); + wlr_xdg_toplevel_send_close(surface); } static void destroy(struct roots_view *view) {",Is it safe to assume this surface is a toplevel?,"I'm pretty sure that you should just add second `_darkroom_undo_callback`, and just make those call appropriate `dt_undo_do_undo`/`dt_undo_do_redo`",(style) externs should be avoided in .c files,since you have 100% the same spec & code for _event_dnd_received maybe just: `G_CALLBACK(dt_thumbtable_event_dnd_received)` And you can remove `_event_dnd_received` completely.,"This is the cause of the most recent error, we were logging a raw uuid as a string. This code is about five months old, so I can only conclude something else has landed elsewhere where we're now taking this code-path where we weren't before.",I suggest to increase to 765,This is not used by culling.,(style) externs should be avoided in .c files,"or just declare rc_cleanup within this code block (our coding style allows this, but not arbitrary place)",We may want to get this only if needed so if DT_DEBUG_LIGHTTABLE is activated: `if(darktable.unmuted & DT_DEBUG_LIGHTTABLE)` Also since this is a timing we may want to activate it also if DT_DEBUG_PERF is on. `if(darktable.unmuted & (DT_DEBUG_LIGHTTABLE | DT_DEBUG_PERF))`,So what if pool destroy failed after tgt_pool_create_ranks()? I assume it still needs to destroy the pool?
"@@ -225,6 +225,16 @@ projCtx pj_ctx_alloc() return new (std::nothrow) projCtx_t(*pj_get_default_ctx()); } +/************************************************************************/ +/* pj_ctx_clone() */ +/************************************************************************/ + +projCtx pj_ctx_clone( projCtx ctx ) + +{ + return new (std::nothrow) projCtx_t(*ctx); +} + /************************************************************************/ /* pj_ctx_free() */ /************************************************************************/",we don't need that function,(style) trailing whitespace,same here - an example of cross-core access?,this is meant to be public api function for multiprovder support. You likely want to use/create some new internal function instead with swim_idx being passed into it.,This change fixes the crash and will want backporting.,A `memset` here will overwrite the included `std::vector`/`QueryData`. All we need to do is initialize pointers and integrals.,"Are the default props used only during new pool creation, or might also be used afterwards? If the latter, or even regardless, it'd be more straightforward to initialize them fully during module initialization.","How do we make sure any write to this container will be done with a pool map version >= pm_ver? - Looks like we are not filling cont_op_out.co_map_version. - dc_cont_glob does not include a pool map version field. If there's a write to this container done with a lower pool map version, what may happen?",This will fail on 32-bit system _today_. Because all involved numbers are 32-bit integers. One of them has to be converted to uint64_t prior multiplication.,"I don't know for sure, though this doesn't looks like what Coverity usually tries to complain about.","I spotted a few in this code (although this one was me, it only landed last week) so i was going to try it though the fault injection framework next week."
"@@ -72,6 +72,13 @@ public enum Platform { } }, + WIN10(""windows 10"", ""win10"") { + @Override + public Platform family() { + return WINDOWS; + } + }, + MAC(""mac"", ""darwin"", ""os x"") {}, SNOW_LEOPARD(""snow leopard"", ""os x 10.6"") {","we'll also have to think about adding ""Windows Server 2014"" or whatever they come up with later.",Maybe should be restricted. NIT,"I'm concerned this test is not going to be robust enough. While it may work as desired today, it may not give the desired results in the future, in particular if OpenJ9 is picked up and used in other ways. If you want to know if jps and jstack are supported, how about looking for these files?",iirc this is not enough to detect most Linux distributions.,Just curious - does the `v` add anything in particular?,WindowTop can be aligned the same way.,"This is OK because it is a private test class, but usually a subclass could even be incompatible.","There's nothing that derives from `GraphicsAdapter` that overrides this method, is there?","There's nothing that derives from `GraphicsAdapter` that overrides this method, is there?","So here, both are plural.","in order to avoid `!` on `localClassName `in this method, you may want to change condition at line # 137 to if ( _className is null)"
"@@ -35,6 +35,9 @@ public interface ExecutorLoader { Map<Integer, Pair<ExecutionReference, ExecutableFlow>> fetchActiveFlows() throws ExecutorManagerException; + Pair<ExecutionReference, ExecutableFlow> fetchActiveFlowByExecId(int execId) + throws ExecutorManagerException; + List<ExecutableFlow> fetchFlowHistory(int skip, int num) throws ExecutorManagerException; ",curious do we have an API to fetch an inactive flow?,PagingContext already have a count and starting number. Can we use that instead of having an additional count?,Make this abstract since a reasonable implementation is required for a fully functional `JobStatusRetriever`.,"is it correct that it would be `0L`? if so, just wondering whether problematic to break the reasonable presumption that endTime > startTime. if is, possibly use MAX_LONG? also, musing, could we approximate with greatest end time among the job statuses here (even though none `isFlowStatus`)--or do those not have the end time even set?","I changed this because my understanding of signature, `(String, Object...)`, is that it treats all trailing args as format string interpolations, not recognizing that the final one might be `? extends Throwable`. thus it won't print the stacktrace, as `(String, Throwable)` would. if that's incorrect, or I misinterpreted the intent here, let's revert these lines.",Is this a configuration key? Users are never expected to set this by hand.,It would make sense to spell out the number of queries in the file and the current limit in place.,As stated before : This means that stream consumption check should always be run on the engine as it contributes to the shape of the EG.,This already exists! We have getFlowExecId() method in DagManagerUtils.,This should probably be restored as it appears to be useful for debugging live flows,I did this so we don't need the extra commons lang dependency for something so simple as this.
"@@ -116,10 +116,6 @@ function upgradeToVNodes(arr, offset) { if (Array.isArray(obj)) { upgradeToVNodes(obj); } - else if (obj && typeof obj==='object' && !isValidElement(obj) && ((obj.props && obj.type) || obj.text!=null)) { - if (obj.text) continue; - arr[i] = createElement(obj.type, obj.props, obj.props.children); - } } } ",This branch is not needed anymore because every `vnode` that passes through `h` in compat or core will have the `$$typeof`-property now .,Nit: `checkUserValidity` is doing wayyyyyyyyyy too much.,"We are relaxing the condition a bit, but it is OK imo.",I don't think we should be changing third_party code.,@mjkkirschner do we want to continue to look into the preloaded nodes for the types if the exception happens?,Is the assumption that `amp-selector` somehow will implement this interface? Do we have issues that would track this work? In particular `required` is very sensible for `amp-selector`.,It is actually easier to identify jQuery and jqLite instances using `instanceof jqLite`.,"What if `tryUpgradElementNoInline` fails, do also want to remove it from `stubbedElements`? Another thing is removing element and decrease the i here is not super straightforward, do you think that starting from the end of the array would be better?","I guess the check for `isArray()` is for performance reasons, since `isArrayLike()` already returns true for arrays?","`instanceof SVGElement` potentially results in a deep prototype lookup, and that's not totally ideal for performance reasons, for now it might be better to just ignore the possibility of SVG, as jQuery does... I think we should make jqLite more or less match jQuery's behaviour since that's what people expect, but maybe handling special cases for SVG elements can be done in the HTML compiler",don't you want to support the `keepData` parameter here?
"@@ -0,0 +1,16 @@ +const { getComposedParent } = axe.commons.dom; + +function shouldMatchElement(el) { + if (!el) { + return true; + } + const ariaHiddenValue = el.getAttribute('aria-hidden') + ? el.getAttribute('aria-hidden') + : null; + if (ariaHiddenValue === null) { + return shouldMatchElement(getComposedParent(el)); + } + return false; +} + +return shouldMatchElement(getComposedParent(node));",Did you mean to use `hasAttribute`? You shouldn't. This does not improve performance and it messes with the readability.,Consider verifying the value of the attribute?,"It's inheriting the behavior from core, right ?","I don't know if we still need it for IE9, but there is _nodename helper method to get name in a cross browser happy way","Are you sure ? From a (super) quick look, we seems to be updating `$viewValue` with `attr.value` and here we are comparing it with `attr.value` again.",Is there a reason why `ariaExpanded` attribute can't be strict and accept just `true` and `false`?,@eviltrout Seems like simple aliases can be handled very easily like this.,"I think we want to use the hashKey api from src/api.js for this, rather than an array (this would work for 1.2.x as well)","Unless Ian Hixon agrees to alter the spec (and in turn, fixes get added to browsers), what we really need to check for here is !validity.badInput --- because if badInput is set, then we're really suffering from bad input and not a ""real"" value missing.","If you're using `===` to compare with `true` and `false`, `isPresent` isn't needed, is it?","I think this check should be before setting `this.isDisplayed_`, so that if we become unowned we can still unload."
"@@ -37,13 +37,14 @@ import pytest import py.path # pylint: disable=no-name-in-module import helpers.stubs as stubsmod +from helpers.utils import CallbackChecker from qutebrowser.config import config, configdata, configtypes, configexc from qutebrowser.utils import objreg, standarddir from qutebrowser.browser.webkit import cookies from qutebrowser.misc import savemanager, sql from qutebrowser.keyinput import modeman -from PyQt5.QtCore import pyqtSignal, QEvent, QSize, Qt, QObject +from PyQt5.QtCore import QEvent, QSize, Qt from PyQt5.QtGui import QKeyEvent from PyQt5.QtWidgets import QWidget, QHBoxLayout, QVBoxLayout from PyQt5.QtNetwork import QNetworkCookieJar",Please import modules and not classes (except for Qt stuff).,We group imports. Please configure GoLand File Watchers as follow: ![Uploading Screenshot 2021-05-13 at 17.53.52.png ](),"In the commit message, ""Using `FragmentFactory` is used "" should have a single ""to use"" verb. I don't understand ""Remove the responsibility of communicating with dialog entirely to the delegate."" I suppose that instead of Remove, the verb should be ""Move""",Should this dependency be version constrained? Probably `@3.8.10.3:` at the very least.,"This needs a when clause, otherwise the versions will conflict. `depends_on('sqlite@3.8.10.3:', when='@4.8.0:')`","can't make Qt pick up `freetype`, don't really want to dig further at this point in time.",Probably nicer for clarity and consistency here to make this a `time.Duration` as well and pass `disconnectTimeout.Milliseconds()` to the mqtt lib,Don't remove the old versions. Someone might still have the tarballs in their download mirror.,This is great. @dmanek and I were just discussing in #30901 about where event listeners should be. It's really not consistent between components.,Nit: brace style,nit: import order
"@@ -20,6 +20,11 @@ public class DummyJavaNode extends AbstractJavaNode { super(id); } + @Override + public void setImage(String image) { + super.setImage(image); + } + @Override public Object jjtAccept(JavaParserVisitor visitor, Object data) { return data;","Hm... why do we have a ""DummyJavaNode"" in src/main? Looks like, this should have gone into src/test....",ditto on the exception type,(optional) surprised there's not an override for `showThemedToast` which expects a `@StringRes`,Could use some spaces between parameters. Also is the 'this' needed?,"I really like this style but in spite of it looking neater, the removal of the line is a potential conflict before we get a chance to merge. Better have those kind of changes is isolated contributions.","I'm not entirely sure designers will understand that constructor when generating/parsing Designer.cs files, did you test that?",this is set on upload right? how/where do we detect it then?  ,nit: final. (make `dataSourceExtractor` final while you're in there),This was unrelated to this feature but found the error when testing bombing in TWW.,for creating a proxy node we need to know its displayed name and number of its inputs and outputs,The common style is to throw Exception ...
"@@ -14,6 +14,7 @@ See the License for the specific language governing permissions and limitations under the License. */ +// Package v1alpha1 package v1alpha1 // CasKey is used for all cas specific annotation keys",This seems meaningless. If we cannot add any info let us remove this.,If it's not used why even bother?,@patrickxb git blame shows you might have old tools?,"I think it might be best to move this setting into its own nested inner class here like the others; something like `SessionReplicationProperties`. This will make it clear that `sessionCookieName` is really only used for session replication. I imagine that the session-store will likely be enhanced with additional properties in the future, which would then be available in `SessionReplicationProperties`. (It's important that we try to optimize placement of properties as much as possible early on, as moving them around in the future generally is a not-so-pleasant op for upgrades) PS I updated the description of the property based on your original notes in the PR.",Probably don't want these changes in protocol here to merge?,"Note if you try this out locally, you need to be on the VPN.",I think we also need test for the `substitution` annotation element.,Nit: Please sort this new import in the third-party imports section near the other services,updated the protocol so this got updated,"if you update your node_modules, you'll get a version of the compiler that doesn't timestamp files.",Was this needed?
"@@ -493,6 +493,14 @@ func (c *Container) GetLabels() map[string]string { return c.labels } +// GetPorts gets the ports for a container +func (c *Container) GetPorts() []PortBinding { + c.lock.RLock() + defer c.lock.RUnlock() + + return c.Ports +} + // HealthStatusShouldBeReported returns true if the health check is defined in // the task definition func (c *Container) HealthStatusShouldBeReported() bool {",Can you rename `Ports` to `PortsUnsafe`?,"nope, that's the best way :)","could you call CGroupPath() in here instead of c.config.CgroupParent, fmt.Sprintf(""libpod-conmon-%s"", c.ID())?",Did you duplicate all of this logic? It looks like it was copied from container_internal,I think you want a check to make sure WithPrevious and pre-checkpoint are not used at the same time.,Should this be GetContainer?,"Do we need to restore these when the container is retrieved from the database? Or do we just need them to pass into conmon, and we don't ever need them again?",I know libpodListPods is not required. But it would be more consistent.,"`provider.Normalize(container.ServiceName + ""-"" + p.getBackend(container) + ""-"" + serviceName)`","Does it matter that we never change this back to false, when volsLocked is no longer locked?",Shouldn't we call it `DefaultNetwork` instead?
"@@ -0,0 +1,10 @@ +module ReturnToHelper + def make_return_to(name, path) + sig = OpenSSL::HMAC.digest( + OpenSSL::Digest::SHA256.new, + Rails.application.secrets.secret_key_base, + name + ""$"" + path + ) + {name: name, path: path, sig: Base64.urlsafe_encode64(sig)} + end +end",This feels like it could be moved out to your first gem!,this is going to get slower by a bunch and i'm not in love with that since we pay the cost on EVERY invocation. Is there some other way? Can we depend on md5 and package it or something? Shelling out to ruby will basically double our `srb tc` cost,I wonder if this function isn't tested anywhere?,"I think that both regexes should use `\A` and `\z` instead of `^` and `$`. I don't think that anything bad can happen here, but this is a good habit as we already had issues from HackerOne where people could exploit our code by using multilines.","If grepping is correct, it looks like these changes to pass `with_sig: false` make all the callsites pass `false`...is there any point in keeping the parameter and attendant code around?","@ptarjan which of these changes fixes the bug with double requiring / constant already defined, and which one just changes what's printed?","I think our linter is failing on the line-length here, there's a hard limit at 80 characters. I'd split up the hash over multiple lines and/or assign them to some variables outside of the example (using `let` seems most idiomatic in our codebase).",1 trailing blank lines detected.,Let us avoid all these cosmetic changes as it pollutes the commit history.,Since there will be a few more calls that need replacing I extracted this `shared_context` now.,typo: its instead of it's
"@@ -44,7 +44,7 @@ public abstract class NewSessionQueue implements HasReadyState { public abstract boolean offerFirst(HttpRequest request, RequestId requestId); - public abstract Optional<HttpRequest> poll(); + public abstract Optional<HttpRequest> poll(RequestId requestId); public abstract int clear(); ","The expected behaviour for `poll` would be to match what `Deque` does, which is: > Retrieves and removes the head of the queue represented by this deque As such, you shouldn't need the `RequestId` here.",i kind of like having the query object create its own ID in the object constructor versus using numerous external classes,We talked about `throws MessagingException` here - let's not forget - either do it here or create a JIRA.,unnecessary whitespace change,"Per other conversation, prefer to leave logging (especially debug logging) unlocalized.",Refactor repeated use of this type of thing into static helpers in ComponentLocation.,Missed to remove lambda definition  ,That's in the hot path of any send operation and `rollbackIds` would be contended by all the producers/consumers using the same AMQSession and it create a Long instance on any call of it. There are other ways to implement it?,"getPriority is always called with 0 as the default argument, maybe remove the parameter",This will kill performance.. we cannot accept this Matching Queue on every onSessionSend.. not happening!!!!,"why not use AddressSettings for such configuration instead of changing the wire and the Client API? I think such decision is better to be transparent from the client, and set through server's configuration. Address-settings or some other generic setting?"
"@@ -7,4 +7,17 @@ axe.utils.toArray = function (thing) { 'use strict'; return Array.prototype.slice.call(thing); -}; +}; + + +/** + * Creates an array without duplicate values from 2 array inputs + * @param {Array} arr1 First array + * @param {Array} arr2 Second array + * @return {Array} + */ +axe.utils.uniqueArray = (arr1, arr2) => { + return arr1.concat(arr2).filter((elem, pos, arr) => { + return arr.indexOf(elem) === pos; + }); +};","This is super minor, but it'd be nice if this iterated over an arbitrary number of array inputs.","you never explained in the docs, what strict is? Not obvious that it is == instead of substring","You need to make this visible globally to jshint, otherwise it will complain about this. See the top of the file for examples",Perhaps we should just remove the wrapping `BindArray` object? Otherwise a typo between the key name and the function name is a possible source of errors.,"`isEnumerable` is unneeded here, for-in only iterates enumerable properties.","I think we want to use the hashKey api from src/api.js for this, rather than an array (this would work for 1.2.x as well)","The same for this line, we need to change `'filter` to `orderBy`","This is not sufficient. We are using `array.filter`, which `isArrayLike` does not guarrantee to exist. Maybe we could change `array.filter(...)` with something like `isArray(array) ? array.filter(...) : Array.prototype.filter.call(array, ...)`. It might even be better to always use the latter form regardless of the type of `array`. This needs a little more investigation.","Same deal as the other global typed arrays here with `Uint8ClampedArray`, which was introduced at some point to replace `CanvasPixelArray`.",@erwinmombay Why did we remove `Array.isArray` uses before?,"FYI, functions have a .length property which is why the jQuery implementation was explicitly making sure it wasn't a function. Should probably continue to handle that case so functions aren't treated as ArrayLike"
"@@ -1676,9 +1676,10 @@ _tmain(int argc, TCHAR *targv[]) } # ifdef UNIX /* i#1676: detect whether under gdb */ - _snprintf(buf, BUFFER_SIZE_ELEMENTS(buf), ""/proc/%d/exe"", getppid()); - NULL_TERMINATE_BUFFER(buf); - i = readlink(buf, buf, BUFFER_SIZE_ELEMENTS(buf)); + char path_buf[MAXIMUM_PATH]; + _snprintf(path_buf, BUFFER_SIZE_ELEMENTS(path_buf), ""/proc/%d/exe"", getppid()); + NULL_TERMINATE_BUFFER(path_buf); + i = readlink(path_buf, buf, BUFFER_SIZE_ELEMENTS(buf)); if (i > 0) { if (i < BUFFER_SIZE_ELEMENTS(buf)) buf[i] = '\0';","What is the problem here? The commit message has strange wording ""readlink is defined with restrict pointers"": do you mean ""restricted""? Is that a well-defined language term? I'm not sure what it means.","It would be better to use a different code, here, from the one above - to distinguish the two cases, so that you can produce a sensible error message that distinguishes this case (which we know how to report) from the other (which definitely isn't this).","Yeah, this doesn't help, and actually hurts because of chdir. chdir actually should be removed from this code, it doesn't make sense.",(style) line over 80 characters,"Why is this `w+`, and not just `w` i wonder. We only write, do not read...",(style) line over 80 characters,(style) line over 80 characters,This should be done right after `LmdbEnvOpen()` or in the `err:` section to make sure it also happens if the database fails to be opened.,Adding a new interface means this doesn't need to change.,"(Stray thought) Could also be phrased: if (ret2 + 1 == 0) without a cast. [edit] ... or, indeed, if (0 == ~ret2)",You need to check dst_filename != NULL after this.
"@@ -17,6 +17,7 @@ package com.google.api.codegen.util.ruby; import com.google.api.codegen.util.Name; import com.google.api.codegen.util.NameFormatter; import com.google.api.codegen.util.NamePath; +import com.google.common.collect.ImmutableSet; /** * The NameFormatter for Ruby.",Why are we not wrapping here?,It is not recommended to import star.,Don't use import * pls.,"can you add this into the default configs and to default to `[druid.s3.accessKey,druid.s3.secretKey druid.metadata.storage.connector.password]` when null or empty?",nit: at first it wasn't clear to me that these were tied to the _currentContext and that _currentContext would actually change as the emitter did its work. It might make sense to associate this mutable state to a single object or name it in a way that makes it clear how it applies and when it changes.,Please use explicit imports instead of wildcards.,this could be removed,this could be removed,it is missing the ordering flag in cacheKey.,"Our coding standards discourage the use of star imports, mind replacing this with the individual imports? Please and thanks!",@carlossanlop we can't use cref's here since the source generator doesn't reference STJ. Would it perhaps make sense to use xref's though?
"@@ -2,12 +2,10 @@ namespace Shopsys\FrameworkBundle\Model\Product\Filter; -use Shopsys\FrameworkBundle\Model\Product\Parameter\Parameter; - class ParameterFilterData { /** - * @var \Shopsys\FrameworkBundle\Model\Product\Parameter\Parameter + * @var \Shopsys\FrameworkBundle\Model\Product\Parameter\Parameter|null */ public $parameter; ","I though that all data objects are being unified in the fashion where all default values are initialized in constructor, are not they?",Not sure this belongs in the interface...,Weird no? How is this possible and why do we change the interface to allow null? Especially if `supports` method does require this argument can't it be mandatory?,Can't we do it without introducing a state?,Mongo is marked as `@experimental`. Not sure BC is relevant here...,you are not using `filters` as plural in other places,Add the phpdoc for `int[]` for $swaggerVersions,"Same: this regex really sucks, it doesn't allow array filters like `?foo[]=bar`, but this pattern is required by API Gateway on Swagger doc import",Can't we just change the wiring in the extension instead of injecting `backward_compatibility` here?,Here (and for `oauthScopes`) too,"Same here, new parameters should be at the end of the signature and have default values."
"@@ -22,16 +22,16 @@ var sourceHashes = map[string]string{ ""libflux/flux-core/src/ast/flatbuffers/mod.rs"": ""00c75dc1da14487953a4a017616fb8a237fe3da437c876f1328532dd7906f015"", ""libflux/flux-core/src/ast/flatbuffers/monotype.rs"": ""4e82aae8e7edb8e230302241fe702ece9ae84fc708003c24709c2ea944cfaae8"", ""libflux/flux-core/src/ast/flatbuffers/tests.rs"": ""ea85b78049f0c3d79daedcf9e171ccb00d0a596d1a643aa218590c99e6b160bc"", - ""libflux/flux-core/src/ast/mod.rs"": ""676e22d24cd7a97525688ed391a980d08b4bee40c5b5067d187f3ae6d66210ca"", + ""libflux/flux-core/src/ast/mod.rs"": ""29b25b75a01cf1e1ac2b52d99b91986cec32011dc55af1ffd7f145838fce858d"", ""libflux/flux-core/src/ast/tests.rs"": ""bc7f77d569d8bbd4b9d00653f48bacd47eed46f53024dce836d3c8bbb6a80555"", ""libflux/flux-core/src/ast/walk/mod.rs"": ""e8a03023d7426bcf6dfdb1a61ac3263f5cf9194a595a1584dff7c899d06562f1"", ""libflux/flux-core/src/ast/walk/tests.rs"": ""f7b2d7dd5643bb795a86c04b6979b136b0de46b52b213caff094aed6d204a05d"", ""libflux/flux-core/src/formatter/mod.rs"": ""945736a4ad87adb6a3f359b6f2da6e5492b3cb0efd282e277303e2acae137763"", ""libflux/flux-core/src/formatter/tests.rs"": ""b0a10998a65fc4b54a8f68b3a0ed186d8548ba3d7638f911eb188d2ce485206f"", ""libflux/flux-core/src/lib.rs"": ""d19b7054e07f234c107d457030a0031374c123fe14a84a5b8e35537d138bac7a"", - ""libflux/flux-core/src/parser/mod.rs"": ""e3f11fe29f47271b5c04accc2d7efa35e1dc62c6de036bf0cc0cccda5e4742e8"", + ""libflux/flux-core/src/parser/mod.rs"": ""daf24b2c439f4c7a6f138e2b25064a205aee73bb6cffc898df22dd0c962ca5df"", ""libflux/flux-core/src/parser/strconv.rs"": ""748c82f6efc2eafaafb872db5b4185ce29aafa8f03ba02c4b84f4a9614e832d2"", - ""libflux/flux-core/src/parser/tests.rs"": ""e3a7c9222f90323a7ea9b319bd84f96f66c6f115af6d199a0da332c894713ae4"", + ""libflux/flux-core/src/parser/tests.rs"": ""43a1e5d3de85d76da2107544e417f583a1f66c20910286285b9645a309c42425"", ""libflux/flux-core/src/scanner/mod.rs"": ""2e15c9e0a73d0936d2eaeec030b636786db6dbe7aab673045de3a3e815c49f8a"", ""libflux/flux-core/src/scanner/scanner.rl"": ""530c062363b66daded3c521af44111b99ffee0eeb2a12ccffa8b8f349002d852"", ""libflux/flux-core/src/scanner/scanner_generated.rs"": ""d65dcc216ccbb88d8f2e261a994ba2789075e434cb7a0f5e39e390bee2821e5b"",",Does this file actually need to be committed to git? Having to run `make generate` is rather tedious on each PR and it conflicts easily.,nitpick: It would also be great if you could add a return type to this.,Why has this changed? Seems unrelated.,"At some point maybe we should fold source and destination into just a single `metricsServerAddonFilename`, for example.","Ok to this change, but we shouldn't rely on this `TestAll` to test metricsets, we were close to remove it. Each metricset should contain their own tests, this will help to run service tests in parallel in CI.",Should this be `LoadJSON`? The sourcemaps are not uploaded as `ndjson` but as `json`.,Security: was used to test the shared secret.,const UdpType should be UDPType,Why were these lines removed?,Should be below the none beats imports.,"Import seems out of order, should be with the other `github.com/elastic/beats/v7/...`"
"@@ -440,18 +440,6 @@ func parseConfig(loc location.Location, opts options.Options) (interface{}, erro cfg.ProjectID = os.Getenv(""GOOGLE_PROJECT_ID"") } - if cfg.JSONKeyPath == """" { - if path := os.Getenv(""GOOGLE_APPLICATION_CREDENTIALS""); path != """" { - // Check read access - if _, err := ioutil.ReadFile(path); err != nil { - return nil, errors.Fatalf(""Failed to read google credential from file %v: %v"", path, err) - } - cfg.JSONKeyPath = path - } else { - return nil, errors.Fatal(""No credential file path is set"") - } - } - if err := opts.Apply(loc.Scheme, &cfg); err != nil { return nil, err }","We don't need this anymore, as Google's library handles various auth mechanisms for us. We'll be less explicit about why we're failing but we gain support for several authentication methods- swings and roundabouts!",I also don't think this can run anymore.,shouldn't we error out if this doesn't work?,(the important part - loading a uid/kid for a team sigchain link),"this is a hack. We should avoid global variables as they can cause issues when reusing code, among many other problems (I'm ok with this for testing the approach, but we need to find another solution before merging). I think the `Beat` object is exposing the keystore through `beat.Keystore()` method. Probably you can get it somewhere and pass it to autodiscover.","Why the hate for tracing? Its set to a pretty high level and useful message, especially when people are setting the env var.","I wonder if it would make more sense to support something like `PULUMI_HOME`, which if set would be used instead of `~/.pulumi` as the place `pulumi` stores user state information? Then if we had to add another file, we could reuse the same logic.","I wonder if it would make more sense to support something like `PULUMI_HOME`, which if set would be used instead of `~/.pulumi` as the place `pulumi` stores user state information? Then if we had to add another file, we could reuse the same logic.","I wonder if it would make more sense to support something like `PULUMI_HOME`, which if set would be used instead of `~/.pulumi` as the place `pulumi` stores user state information? Then if we had to add another file, we could reuse the same logic.","After second thought, I don't think we need specific error type here, considering it will not be exportable anyway. Also let's change the message to ""You need to set your password first before uploading secret keys""",Feels like this constant should be defined in the workspace package.
"@@ -1,11 +1,12 @@ package plugin type Config struct { - SocketPath string `yaml:""path""` - Volumes VolumesConfig `yaml:""volume""` + SocketDir string `yaml:""socket_dir"" default:""/run/docker/plugins""` + Volumes VolumesConfig `yaml:""volume""` + GPUs map[string]map[string]string `yaml:""GPUs""` } type VolumesConfig struct { - Root string + Root string `yaml:""root"" default:""/var/lib/docker-volumes""` Volumes map[string]map[string]string }",No need to speficy attribute here. Moreover in yaml it is default to use lowercase names.,Shouldn't you check for errors here before trying to stat?,"NIT: Should call the new interface from the old one, for completeness. Fix if forced to repush. LGTM","I'd prefer keeping the var definition, but `\_()_/`","Again, don't like the name here - we have more than one type of plugin now. `NetworkPluginDir`? Actually, that probably doesn't work, there are non-CNI network plugins. Probably needs to be `CNIPluginDir` still.","Umm... if I am not mistaken, doesn't this mean that rootless containers created with earlier versions of `podman` can no longer be used with `podman exec`? I wonder if we can soften the blow somehow. One option that came to my mind was to not hard depend on the `ConmonPidFile`. Maybe we can fallback to getting the PID of the container's PID 1 through `ctr.PID()`, and then walking back up the process tree to find the `conmon` process using some heuristics? Although, I don't know what could happen if someone tricks the heuristics into a false positive.","just to be sure, did you do 'libpod --help' and not see this listed?",Can you add a note that this conflicts with `RootfsImageID` and `RootfsImageName`?,What do these things mean?,It seems like we should be setting c.config.CgroupParent to the value you're computing when we make the container? That would fix this and probably make other things more accurate.,"@andrewkroh What's your opinion on adding a default for `MatchPIDs: []string{""process.pid"", ""process.ppid""}`?"
"@@ -8,10 +8,12 @@ using System; using System.Collections.Generic; using System.Globalization; using System.IO; +using System.Linq; using System.Net; using System.Net.Http; using System.Text; using System.Threading; +using System.Threading.Tasks; using Task = System.Threading.Tasks.Task; namespace Microsoft.DotNet.Build.CloudTestTasks",In general I'm a trying to understand the reason behind this PR. Looks like if a blob (name) already exists we check if the contents are identical? In what scenarios this is not the case? When we want to publish a package/asset that has changed but still we want to use the same version?,My formatter got greedy here. I can revert if needed.,Why not import the namespace `System.Text.Json.Tests.Serialization.CollectionTests`?,nit: `using System.IO` should appear in alphabetical order and thus be first in the list of using's.,FWIW the `System.Text.Json.Tests.Serialization` namespace has crept up in quite a few other places as well.,Are all these `using`s still needed?,needs a cleanup,"In general we should be deliberate and careful with API changes. We are currently not going through the API approval process for System.Net.Quic, but that means we need to have our own internal process for discussing and agreeing to API changes. I'd prefer to handle any API changes separately from this PR, if possible. That will avoid delaying this PR while we discuss API changes. Is that possible?",Something I missed. The `control` must either be nullable or throw.,"(nit) Can this get moved inside the `namespace` declaration, please?",This using is redundant
"@@ -151,7 +151,9 @@ class BlacklistRuleBook(bre.BaseRuleBook): lists: first one is IP addresses, second one is network blocks """""" - data = urllib2.urlopen(url).read() + req = urllib2.build_opener() + req.addheaders = [('User-Agent', 'Forseti blacklist rules engine agent')] + data = req.open(url).read() ip_addresses = re.findall(r'^[0-9]+(?:\.[0-9]+){3}$', data, re.M) netblocks = re.findall(r'^[0-9]+(?:\.[0-9]+){0,3}/[0-9]{1,2}$', data, re.M)","Can rename `req` to be `opener`, since that is the object, and it wraps `req` internally?",maybe it should be .get?,This seems like a pretty fundamental change... or this is okay because this is only for debugging?,"This needs to match whole words only, as otherwise we might be matching components of identifiers. `\b` does the trick (both at the beginning and the end).",can you please include a screenshot of what the new agents file looks like? this didn't render well for me at all but i am assuming with the new style it does?,"This should mention `sample` as well, but that is not supported yet.","I might just make the docstring description `Exposed for testing only.`, since we really want to make it clear to users that this isn't a public parameter.","This try/except around the import is probably unnecessary - as the perfstress framework can only be run under Python 3 anyway, as it's natively async.",How do you think about moving _enforce_https into shared utils?,should `query_language` be removed as well?,The skip message should indicate whether the package was skipped intentionally or because it was not installed. There are now multiple ways to reach this `else` block
"@@ -1405,6 +1405,8 @@ def getFormatFieldSpeech(attrs,attrsCache=None,formatConfig=None,unit=None,extra linePrefix=attrs.get(""line-prefix"") if linePrefix: textList.append(linePrefix) + breakpoint=attrs.get(""breakpoint"") + if breakpoint: textList.append(breakpoint) if attrsCache is not None: attrsCache.clear() attrsCache.update(attrs)","@MichaelDCurran, thoughts on adding a breakpoint format field attribute? It seems almost app specific, but I guess it does seem odd abusing line-prefix. Is there any more generic concept here?",mind stripping out the space case since we don't need it anymore?,"Small nit, but this can be a set literal now which is slightly nicer.","Small nit, but this can be a set literal now which is slightly nicer.","Does `kwargs` ever contain `'fromfile'` here or is this using the default 100% of the time? If the latter, drop the clause?",I think this is >10x more readable and will hopefully avoid future confusion about the `invert` argument.,Is it still useful to store the `self.isolated` on `ConfigOptionParser` ?,Is it still useful to store the `self.isolated` on `ConfigOptionParser` ?,"We already know it's an object here, by convention (and pretty much everything in python is one), so this naming is redundant. If you really wish to indicate it's a private member then I'd just rename it `_config`.","We already know it's an object here, by convention (and pretty much everything in python is one), so this naming is redundant. If you really wish to indicate it's a private member then I'd just rename it `_config`.",Geez. I'm zealously looking a f-strings now.
"@@ -539,7 +539,10 @@ class WebElement(object): @property def rect(self): """"""A dictionary with the size and location of the element."""""" - return self._execute(Command.GET_ELEMENT_RECT)['value'] + if self._w3c: + return self._execute(Command.GET_ELEMENT_RECT)['value'] + else: + return self.size, self.location @property def screenshot_as_base64(self):",This would return a tuple of two dictionaries. You need to combine them and return a dictionary,"I'm on the fence about constraining the serializer classes to return `bytes`. In this case, it adds additional work. In the case of, e.g., Pandas DF -> CSV -> bytes it might add significant overhead.","Doc above needs to be updated. And what about `(float, float)`?",Do we still need this conversion though?,Can we remove extra empty lines in resolvers? I think they are not necessary since these functions are short and simple.,Can we remove extra empty lines in resolvers? I think they are not necessary since these functions are short and simple.,why not have a no-op `serialize_value` in the descriptor base class to avoid this hasattr?,"Ditto above regarding names. Fine to leave TODOs/FIXMEs, but rather than targeting them at a particular person, create a ticket with enough explanation to allow anyone to fix the issue. Or if the TODO is self-explanatory or low priority, can skip a ticket.",I think this assertion is redundant now that you're checking for the type,`CPY_INT_TAG` is kind of confusing here since the real empty value is a null pointer (`0`). Please change the initializer for `CPyPtr` to 0 (why not also change for `int32_t` and `int64_t` as well). `CPyTagged` should still have `CPY_INT_TAG`.,"I am still not sure about removing empty strings. If someone defines an empty string, it will be removed from the dict, and it will become None. What tests were failing? Maybe the tests need to be fixed?"
"@@ -7,10 +7,14 @@ import ( ""errors"" ""fmt"" + ""github.com/aws/amazon-ecs-cli-v2/internal/pkg/archer"" + ""github.com/aws/amazon-ecs-cli-v2/internal/pkg/manifest"" + ""github.com/aws/amazon-ecs-cli-v2/internal/pkg/store/secretsmanager"" ""github.com/aws/amazon-ecs-cli-v2/internal/pkg/store/ssm"" ""github.com/aws/amazon-ecs-cli-v2/internal/pkg/term/color"" ""github.com/aws/amazon-ecs-cli-v2/internal/pkg/term/log"" ""github.com/aws/amazon-ecs-cli-v2/internal/pkg/term/prompt"" + ""github.com/aws/amazon-ecs-cli-v2/internal/pkg/workspace"" ""github.com/spf13/cobra"" )","What do you think of moving the example to the help text of the prompt? and the prompt itself can be ""What is your application's GitHub repository URL?""",Nit: Please sort this new import in the third-party imports section near the other services,"In principle light metricsets shouldn't appear here as they don't have code, this one appears here probably because of the `elb.go` file, that I think should be moved to `elb_test.go`.",what is the difference between the 2 cloudformation packages?,"Similarly here, this testing did not need extra providers or to save the instances.",This pkg will no longer be needed after switching the error check to use `isAWSErr`,The keycache library is already pulling a lot of weight. Nice!,"for my own edification, why did this need to change?","for my own edification, why did this need to change?","for my own edification, why did this need to change?","[nit] It's nice if the imports are sorted; first stdlib, then third-party deps, then internal deps. `goimports -local github.com/chef/automate` supports that."
"@@ -58,9 +58,12 @@ public class TracerTest { public void shouldBeAbleToCreateATracer() { List<SpanData> allSpans = new ArrayList<>(); Tracer tracer = createTracer(allSpans); + long timeStamp = 1593493828L; try (Span span = tracer.getCurrentContext().createSpan(""parent"")) { span.setAttribute(""cheese"", ""gouda""); + span.addEvent(""Grating cheese""); + span.addEvent(""Melting cheese"", timeStamp); span.setStatus(Status.NOT_FOUND); } ",Break out tests for events into their own tests rather than placing them in other ones. That makes it easier for us to figure out where problems lie and to do a TDD-driven implementation over new APIs.,Good catch - I missed this in the code review.,"It would be nice if we could somehow make `@TimerId` and `@StateId` automatically apply `@SuppressWarnings(""unused"")` somehow... No idea how that might work though. Maybe @kennknowles has an idea.",jobOrchestrationTime -> jobOrchestratedTime.,"Should this be JOB_START_TIME = ""jobStartTime""?",@szhnet wouldn't it be better to just replace the `%d`s with `{}`s?,Why shrink it? Does the test get really slow? Is this going to be a perf problem overall?,"Can you explain what the +999999 here is for? It seems to contradict the commit message, which offers sub millisecond ticks.",Why we've FQCN instead of importing it?,Can you get rid of the sleeps in this class now?,are all tests in this class flaky?
"@@ -266,7 +266,7 @@ bool parse_it(Iterator &first, Iterator last, RDKit::RWMol &mol) { } else { if (!parse_atom_labels(first, last, mol)) return false; } - } else if ((first + 9) < last && + } else if (std::distance(first, last) > 9 && std::string(first, first + 9) == ""atomProp:"") { first += 9; if (!parse_atom_props(first, last, mol)) return false;",Nice use of std::distance. I'm a bit worried about first += 9 though.,why are u deriving from the 3D one? i would not do this... the flatter the hierarchy the easier to read,It would be better to use a `constexpr double relative_epsilon = 1e-3;` to be more clear the code and easier to be changed in the future,Since the action is one line this opening bracket and the closing one below are not needed. Surrounding code may do otherwise though.,If the pre-initialized variable declarations are being put on separate lines... They look like assignments. It just makes sense to have both consistent.,"This may have hurt ""compiling"" performance, which will be important for the responsive of a UI generating styles. I don't know for sure so we can see what a profile looks like later; at the least, we can order the linear search so the most common operators are first.","nit: numbers and other primitives are non-nullable by default, so no need for `!`","0.499 is a valid value!! for example in our tests we use 0.4995!, and in incompressible literature it is typical to use more 9s","What's the objective of making this a `char`? I think it was kind of advantageous to pass a string as it will use all of those tokens as delimiters. Maybe we could introduce another overloaded function that's specific for splits with 1 delimiter? I don't think it matters much, as this function seems to not be used much in the code base.",what about the elements? => what if they use `r_material_properties[YOUNG_MODULUS]`?,We also need the FW fingerprints added and the car should be added to the IGNORED_FINGERPRINTS list
"@@ -578,8 +578,9 @@ func (c *Operator) syncNodeEndpoints(ctx context.Context) error { ObjectMeta: metav1.ObjectMeta{ Name: c.kubeletObjectName, Labels: c.config.Labels.Merge(map[string]string{ - ""k8s-app"": ""kubelet"", - ""app.kubernetes.io/name"": ""kubelet"", + ""k8s-app"": ""kubelet"", + ""app.kubernetes.io/name"": ""kubelet"", + ""app.kubernetes.io/part-of"": ""prometheus-operator"", }), }, Subsets: []v1.EndpointSubset{","Shouldn't this be `app.kubernetes.io/managed-by` as prometheus-operator manages this resource, but this resource isn't a part of prometheus-operator?",There is still `<%= app.baseName.toLowerCase() %>.<%= kubernetesNamespace %>.<%= ingressDomain %>` could you please check for all occurance of `kubernetesNamespace` in templates,There is still `<%= app.baseName.toLowerCase() %>.<%= kubernetesNamespace %>.<%= ingressDomain %>` could you please check for all occurance of `kubernetesNamespace` in templates,"Why is this here? It should be better in the `resourcemanager` package, or?",Is this >= 1.17.1 correct? Shouldn't it be 1.18.0-alpha.1?,Nit. Move beats imports to the last group of imports.,unrelated to the PR but why is this in types and GetMasterKubernetesLabels in helper?,"Nit. Imports order, this libbeat import should be below with the other ones.","nit: If you decide to add .trim(), can we change this to `if (kubernetesStorageClassName)`","nit: If you decide to add .trim(), can we change this to `if (kubernetesStorageClassName)`",Why the switch to string instead of model.LabelValue?
"@@ -41,8 +41,9 @@ namespace Datadog.Trace.ClrProfiler if (parent != null && parent.Type == SpanTypes.Http && - parent.GetTag(Tags.HttpMethod).Equals(httpMethod, StringComparison.OrdinalIgnoreCase) && - parent.GetTag(Tags.HttpUrl).Equals(UriHelpers.CleanUri(requestUri, removeScheme: false, tryRemoveIds: false), StringComparison.OrdinalIgnoreCase)) + parent.GetTag(Tags.InstrumentationName) != null && + httpMethod.Equals(parent.GetTag(Tags.HttpMethod), StringComparison.OrdinalIgnoreCase) && + UriHelpers.CleanUri(requestUri, removeScheme: false, tryRemoveIds: false).Equals(parent.GetTag(Tags.HttpUrl), StringComparison.OrdinalIgnoreCase)) { // we are already instrumenting this, // don't instrument nested methods that belong to the same stacktrace","As long as we're being extra-vigilant about NREs, should we check that `httpMethod` and `requestUri` are not null?","Please use `String#StartsWith(String, StringComparison)`",Why not keep the internal `CompareOrdinalHelper` method around? One benefit is that we can contain all of the unsafe logic in that method rather than sprinkling it around throughout these call sites.,"Here there was no cast to object, but you still made the change. What is the rule?","For all of these NamespaceURI cases, how do we know they're not null?","a couple of typos, change `Cahced` to `Cached`, change `ALias` to `Alias`",Using `OriginalString` instead of `_string` makes this fast-path also work for Uris with non-ascii characters,"Please use `String#StartsWith(String, StringComparison)`","Is this allocation better than three `Equals(..., StringComparison.InvariantCultureIgnoreCase)` calls?","`RecordEventsReadableSpan.setAttribute()` is internally guarded against null, and it wasn't checked before. Is it really needed?","Separately, @geoffkizer, we might want to audit use of Headers and update appropriate sites to use NonValidated."
"@@ -19,6 +19,7 @@ import ( ""github.com/iotexproject/iotex-core/cli/ioctl/cmd/node"" ""github.com/iotexproject/iotex-core/cli/ioctl/cmd/update"" ""github.com/iotexproject/iotex-core/cli/ioctl/cmd/version"" + xrc20 ""github.com/iotexproject/iotex-core/cli/ioctl/cmd/xrc20"" ) // RootCmd represents the base command when called without any subcommands",No need to have `xrc20` alias,Should we really call this also modules? All things modules? :-D,Is there a reason this needs to be imported as `gopkg.in/pachyderm/yaml.v3` rather than as `github.com/pachyderm/yaml`?,You can't have this dependency. kube depending on origin will make a cycle we can't reasonably resolve during a rebase.,@sayden that also seems wrong,"~~nit: reorder to the top with ""errors""~~ (forgot this is already wrong in upstream)",I've been using `c` for the variable name to avoid this conflict. But this works too.,external packages should under go's packages with a blank line.,no need to specify a type here.,This is totally wrong...,The rdsServer naming can be removed
"@@ -172,6 +172,19 @@ def define_environment_cls(pipeline_def): ) +def context_cls_inst(pipeline_def): + check.inst_param(pipeline_def, 'pipeline_def', PipelineDefinition) + pipeline_name = camelcase(pipeline_def.name) + return SystemNamedDict( + name='{pipeline_name}.Context'.format(pipeline_name=pipeline_name), + fields={ + 'context': define_maybe_optional_selector_field( + define_context_context_cls(pipeline_name, pipeline_def.context_definitions) + ) + }, + ).inst() + + def define_expectations_config_cls(name): check.str_param(name, 'name') ",the naming convention I'm been adopting if `_type` for instances of these classes. So maybe `context_config_type` is a better name for this fn,Why do you need this change? I don't see anything below that requires there to be exactly two.,"Can we add a brief description of this feature, and if this is meant to be temporary, link to a JIRA to resolve this workaround?",Seems unused. Please check.,This is so much neater :),This seems unrelated to the platform checks?,Thanks! Kind of odd we were using only `root` as the unique name.,"Ditto above regarding names. Fine to leave TODOs/FIXMEs, but rather than targeting them at a particular person, create a ticket with enough explanation to allow anyone to fix the issue. Or if the TODO is self-explanatory or low priority, can skip a ticket.",Should it be an error if this attempt fails?,"Flagging this line, because it will always be passed unicode no matter the Python version. This seems to be okay per the tests, though.","This is a bit confusing. The ``self.xxxx_list`` variable was created to explicitly represent it contains a list of flags, not a unique string. Maybe we want to return to the ``sharedlinkflags`` variable? This was added because some CMake was complaining about receiving a string and it always needed a list, but better double check it."
"@@ -54,6 +54,7 @@ public class BlockMiner<C, M extends AbstractBlockCreator<C>> implements Runnabl private final ProtocolSchedule<C> protocolSchedule; private final Subscribers<MinedBlockObserver> observers; private final AbstractBlockScheduler scheduler; + private Boolean gpuMining = false; public BlockMiner( final Function<BlockHeader, M> blockCreatorFactory,","Don't call it GPU mining, call it `externalMining`, here and throughout.",Remove this `giver == null` then?,Remove. This doesn't inheritDoc does it?,Do we still have a test for that elsewhere?,What should be the right expectation if it's not initialized ? Simply returning gives a false impression to the client that it's flushed.,`LockFactory` must be obtained from the muleContext or injected,Aren't the default of these values `false`?,Do you get a warning for this? Eclipse doesn't complain when the `@Id` annotation is present.,Why not `set` ?,Was this just unused? We may want to look into why if so. that might affect some functionality,"So how is this flag going to be used? I see that it is only set to true, but never read in OSS codebase."
"@@ -252,6 +252,15 @@ return [ | folder - a folder prefix for storing all generated files inside. | path - the public path relative to the application base URL, | or you can specify a full URL path. + | + | For the 'media' resource you can also specify: + | + | imageMaxWidth - Resize all media manager image uploads to be + | within this with (in pixels, 0 = ignore) + | imageMaxHeight - Resize all media manager image uploads to be + | within this height (in pixels, 0 = ignore) + | imageQuality - Set this quality to all media manager image uploads + | (1-100) */ 'storage' => [","`within this with` typo, should be `within this width`",Sorry if i am wrong but why you setting it to 80? is it going to be ignored for jpg (quality=80)?,"how about the kwarg is just the format, so `format=png` and if it's not `'png'` we just pass it directly to the save, like `im.save(fp, format)`? That makes it a bit more general in case we decide to use this for other stuff beyond the hero shelves.",Maybe add that it should only be a filename.,"There are two places in the docstring that need to be updated. Where it says `""...padding it evenly with zeros""` and `""...this op centrally pads with 0 along...""`. Could you update the description please?","I think those should be standalone functions, and not as part of the class object. Currently, there is no way for the user to obtain the crop parameters without instantiating the object, which is annoying.",I think if we want a complete functional interface we should have a `center_crop` function which has this logic and then calls the generic `crop` function,"Shouldn't that say something like: > The footer **mascot width** will be resized to this value, defaults to 52 ? Same for the height couple lines below",Could we either drop the method param entirely or make it explicitly required?,Could we either drop the method param entirely or make it explicitly required?,why do you need additional wrapper on resize if you can provide flag?
"@@ -22,10 +22,12 @@ import ( ) // Prometheus defines a Prometheus deployment. +// +k8s:openapi-gen=true type Prometheus struct { metav1.TypeMeta `json:"",inline""` // Standard object’s metadata. More info: // https://github.com/kubernetes/community/blob/master/contributors/devel/api-conventions.md#metadata + // +k8s:openapi-gen=false metav1.ObjectMeta `json:""metadata,omitempty""` // Specification of the desired behavior of the Prometheus cluster. More info: // https://github.com/kubernetes/community/blob/master/contributors/devel/api-conventions.md#spec-and-status",how come this is false?,Move up to k8s imports.,"What about validation for this field? Also, maybe we should use `IntOrString` for this as it's done e.g. for a deployment's `MaxUnavailable` field.",nit: I would probably change this to `podYAMLTemplate` now,"`appsv1client` is the preferred name of this alias, we're trying to enforce everywhere.","Is this correct (especially `name=rawExtension`)? Why is not it not done for all inline types (e.g., `TypeMeta`)?","Nit. Imports order, this libbeat import should be below with the other ones.",why you dropped this?,Was this needed?,"isn't this equivalent to `Name == """"`?",Should we default it to `true` in the `defaults.go`?
"@@ -24,6 +24,19 @@ function node_require(module) { return require(module); } +function typeOf(obj) { + return ({}).toString.call(obj).match(/\s(\w+)/)[1].toLowerCase(); +} + +function checkTypes(args, types) { + args = [].slice.call(args); + for (var i = 0; i < types.length; ++i) { + if (typeOf(args[i]) !== types[i]) { + throw new TypeError('param ' + i + ' must be of type ' + types[i]); + } + } +} + const performFetch = typeof fetch === 'undefined' ? node_require('node-fetch') : fetch; const url_parse = require('url-parse');",How about `Object.prototype.toString`? Or using the `typeof` operator?,Nit: Do the same for this case.,Nit: File extension is unnecessary.,Why do we have to replace it + unCamelCase it in two places?,Why do we have to replace it + unCamelCase it in two places?,"Rather than special-casing this, can we add an option to the typecheck target definitions like `ts: true` or something and make this more generalized, rather than explicitly making it about the compiler here?",add `sign` (we polyfill it already so support is there),"just for my info, what do these do?",This broke things in our project. It changed the behaviour of `$filter`. I don't think it is OK to change the behaviour in minor releases.,"This is wrong, since it will make them global per entire file. Those variable should be local to a function in question. Otherwise, if you have two functions in a file those variables will be mixed and confused. We might have to rewrite the transpiler substantially in order to handle the function scope properly...","This is wrong, since it will make them global per entire file. Those variable should be local to a function in question. Otherwise, if you have two functions in a file those variables will be mixed and confused. We might have to rewrite the transpiler substantially in order to handle the function scope properly..."
"@@ -83,6 +83,7 @@ type ReporterKBPKI struct { notifySyncBuffer chan *keybase1.FSPathSyncStatus suppressCh chan time.Duration canceler func() + ctx context.Context } // NewReporterKBPKI creates a new ReporterKBPKI.","I know @jzila suggested this, but I disagree: you're really not supposed to save a context in a struct. Can you get by with just saving the `Done()` channel instead? The `ctx` should continue to be passed around explicitly.","The auth service creates it's own transaction contexts to run `InTransaction` methods, so we need to support a transaction context with no PFS server.",remove this line,line 55 should be context.Background(),So we target  English instead of   English right? (I see the same for behavior also) Not a blocking thing nor to be changed. Just wanted to check :),The callback is necessary here so that a new context scoped to the renewer can be passed through?,"Why was this removed? If I remember correctly, at least some extensions might use it.",Why do we need another local Tracer?,Is this still needed? Doesn't seem like we reference this anywhere?,"it would help review a lot if these changes were made in a separate commit, or even a separate PR, as it's not clear initially if it's directly related to the goals of the changeset.",Could we rollback this change too?
"@@ -12,12 +12,7 @@ namespace Microsoft.AspNet.Server.Kestrel.Networking { IsWindows = PlatformApis.IsWindows; - var isDarwinMono = -#if DNX451 - IsWindows ? false : PlatformApis.IsDarwin; -#else - false; -#endif + var isDarwinMono = !IsWindows && PlatformApis.IsDarwin; if (isDarwinMono) {",This check isn't right though.,I think maybe I missed one... this may need the same fix as the other locations. We'll see what the next build says.,I think maybe I missed one... this may need the same fix as the other locations. We'll see what the next build says.,Thinking about this more - how can this work properly? This will cause compilation error if both `__SANITIZE_ADDRESS__` and `_MSC_VER` are defined. There is `#undef __SANITIZE_ADDRESS__` missing.,We should update the summary text here to make it clear that we're not using `libobjc.get_operatingSystemVersion` to get the host macOS version but returning the actual iOS support version that MacCatalyst targets.,Another FIXME that needs an explanation.,Another FIXME that needs an explanation.,"Why NTBUILD? This could also be gated on INTL_WINGLOB, which I think is a bit more specific, but then again this entire file (except for two functions) is gated on INTL_WINGLOB, so I think it can just be free-standing.","in order to avoid `!` on `localClassName `in this method, you may want to change condition at line # 137 to if ( _className is null)",Can you also add a newline to end of this file?,"Should this be just ""IsWindows11OrLater"" then?"
"@@ -96,6 +96,8 @@ public abstract class DynamicLangXApiView implements ViewModel { return missingDefaultServiceAddress() || missingDefaultServiceScopes(); } + public abstract String codeGenVersion(); + @Override public String resourceRoot() { return SnippetSetRunner.SNIPPET_RESOURCE_ROOT;","maybe `toolkitVersion` instead? It doesn't necessarily have to be called that in the generated code, but in the view model classes, I think it makes it clearer that it is the version of toolkit itself.",it's really bad that we need this list. Can we access classpath resources in here?,"Why do we still store epoch, version and release as single values? Could we just change the getters to return packageEvr.getXXX() ?","Why do we still store epoch, version and release as single values? Could we just change the getters to return packageEvr.getXXX() ?",Can you update to 4.0.2,Can you update to 4.0.2,"This class is marked `Public` and `Stable`, I guess we should keep this method for compatibility.",When is `generation` expected to be -1?,can we use a logger here?,We could take the opportunity to add `boolean isJava17Compatible();` method.,validate the option is actually set and throw descriptive exception otherwise
"@@ -230,15 +230,13 @@ module.exports = class XHRUpload extends Plugin { const body = opts.getResponseData(xhr.responseText, xhr) const uploadURL = body[opts.responseUrlFieldName] - const response = { + const uploadResp = { status: ev.target.status, body, uploadURL } - this.uppy.setFileState(file.id, { response }) - - this.uppy.emit('upload-success', file, body, uploadURL) + this.uppy.emit('upload-success', file, uploadResp) if (uploadURL) { this.uppy.log(`Download ${file.name} from ${file.uploadURL}`)","the response data was added intentionally in #612, i think we could keep the `setFileState` stuff here as a special case, at least for now ",Would it be possible to do `{ fileName: file.name }` in the uppy _upload mixin so we can omit the `||`?,"Minor nit: since you're using `_uppyInstance` without `?.` above, it means it either will fail earlier or this `?.` isn't needed",do we ever remove the listener here ?,Probably could just do this.fileInputEl?.removeE....,I think you could just do `this._uppyInstance = ...` if you are not using uppyInstance in hbs templates you probably don't need to use set.,"@jridgewell, we have a pending discussion around this piece of code in one of the earlier PRs, where you wanted to skip this part. If we want to skip this we'll need to change code in `assetSuccess` and `verifyAmpCorsHeaders` code as they both rely on Response type","Fetch polyfill is explicitly for IE11, so let's undo this.",Now I'm wondering: is `Object.keys(this.data).length` necessary? Imo even `this.data` part isn't strictly required (`deepMerge()` does `value || {}`),These todos will be resolved in another PR,"Docs on `isEmpty`: > Verifies that a value is null or undefined, an empty string, or an empty array. > isEmpty({}); // false"
"@@ -134,7 +134,7 @@ func (s *stream) Read(p []byte) (int, error) { } else { select { case <-s.readChan: - case <-time.After(deadline.Sub(time.Now())): + case <-time.After(time.Until(deadline)): } } s.mutex.Lock()",This isn't really easy to read.,"Why change the return type here? Prefer to return concrete types, but accept interfaces.",this break will not exit the loop anymore. It is now scoped by 'select'. Better use `return`,we need the `r.ch <-` line to be in the select statement.,I think we need a select here as well.,I removed this line as it generated too much debu output.,I see how access to h.state.Source can race. Consider printing the last state in defer statement when Harvest returns (but after workers have been finished).,"as the underlying reader might block on syscall, the file must be closed right after closing the channel.",why remove the `sync.Once` here? Can we guarantee only one go-routine calling Close just once now?,"Maybe make this debug? This would get sent to the user since it is `Error`, and it will just look confusing.",This is to prevent a race for f.offset and f.lastTimeRead. It's probably better to introduce getters which have the lock as otherwise this causes issue every time the variable is used somewhere else.
"@@ -123,7 +123,7 @@ func (c *CStorVolumeReplicaController) cVREventHandler(operation common.QueueOpe err := volumereplica.DeleteVolume(fullVolName) if err != nil { - glog.Errorf(""Error in deleting volume %q: %s"", cVR.ObjectMeta.Name,err) + glog.Errorf(""Error in deleting volume %q: %s"", cVR.ObjectMeta.Name, err) c.recorder.Event(cVR, corev1.EventTypeWarning, string(common.FailureDestroy), string(common.MessageResourceFailDestroy)) return string(apis.CVRStatusDeletionFailed), err }",This line changed due to go formatting. Format was not there earlier.,Why switch this to the message we get from the Portlayer? Since this error return will need to be specific to docker.,"Does this trigger volume creation in the client in the same way image 404 triggers pull? IIRC that on-demand creation was implemented explicitly, but don't recall hearing that we checked for implicit behaviours.",at line 174 we do RemoveVolume. Should we return with an error there only if the --force option isn't in play too?,This is required else delete keeps retrying with an `InvalidAddressID.NotFound` error code when the Network Border Group specifies a Wavelength (or Local) zone.,"You cannot remove volume after the appliance vm is removed. Cause we need the capability to rerun delete if anything wrong, and appliance vm keeps all the information for next run.","Hey @hickeng -- I remember in a PR seeing you tell Emma to use `%q` at the end of this log string, so I wanted to bring your attention to this and make sure it's OK that I replaced it with `%s`. When it was `%q` it was printing out like this: <pre>WARN[2016-08-10T12:08:50-05:00] Since --force was not specified, the following volume stores will not be removed. Use the vSphere UI to delete content you do not wish to keep. ""\tdefault: [datastore1] ians_volume_store_fo_sho\n"" </pre> Now it looks like this: <pre>WARN[2016-08-10T12:29:07-05:00] Since --force was not specified, the following volume stores will not be removed. Use the vSphere UI to delete content you do not wish to keep. default: [datastore1] ians_volume_store_fo_sho </pre> (Fixes #1651)",It seems strange to log when we ignore the error and ignore the error here.,Should we cap the given grace periods at some maximum? This would prevent users from spamming the system in case of (accidental) misconfiguration.,We can remove this logging   Otherwise the code here should prevent panics by replacing the raw dereferencing with `aws.StringValue(pg.State)` in case it is `nil`.,Why do you have to compute this here and then pass it in each call to the status update?
"@@ -28,13 +28,13 @@ type staticUpstream struct { Path string Interval time.Duration } + Without string } // NewStaticUpstreams parses the configuration input and sets up // static upstreams for the proxy middleware. func NewStaticUpstreams(c parse.Dispenser) ([]Upstream, error) { var upstreams []Upstream - for c.Next() { upstream := &staticUpstream{ from: """",","The name ""Without"" in code is a little nebulous. Maybe something more descriptive like TrimPrefix or StripPrefix or WithoutPathPrefix or something like that. (Thoughts?)",any reason for this change? or just previous one was wrong?,Using a deferred function here seems like it could potentially confuse someone and might make debugging hard. I think it'd make more sense to define iterator as a variable in the function. Or just add `newIndexIterator` to each of the return sites.,"What is left to do ? :angel: (should be written here, or the `TODO` should go away :stuck_out_tongue_closed_eyes: )",What if suffix (the stream) is already set?,"As it seems to be difficult to avoid the import cycle, is this FIXME usefull ? Same question for in types/metrics.go","not too fussed, but I'd probably go `int` since it's usually easier to work with and setting huge limits isn't sensible",Assuming this is for noticing a server bug. This should log immediately so there's no chance the error is missed by the error value being dropped.,"it would help review a lot if these changes were made in a separate commit, or even a separate PR, as it's not clear initially if it's directly related to the goals of the changeset.","Could add our own validation function that is 'isHTTPVerb' (although given not all the http verbs are here, maybe that would be more confusing?) What do you think?","did you check how this reads? sometimes these `wrap` calls feel very unnatural and redundant, and what matters for the user at the end is that the sourcemap hasn't been generated correctly, as the user can't do nothing with a parsing error other than generating it again."
"@@ -254,6 +254,12 @@ public class MoveIT { linkDataset.then().assertThat() .statusCode(OK.getStatusCode()); + // A dataset cannot be linked to the same dataverse again. + Response tryToLinkAgain = UtilIT.linkDataset(datasetPid, dataverse2Alias, superuserApiToken); + tryToLinkAgain.prettyPrint(); + tryToLinkAgain.then().assertThat() + .statusCode(FORBIDDEN.getStatusCode()); + Response getLinksBefore = UtilIT.getDatasetLinks(datasetPid, superuserApiToken); getLinksBefore.prettyPrint(); getLinksBefore.then().assertThat()","is this test in the move tests? I see what you mean then - it works, but I wonder if we won't lose track that it's being tested here.","@ron-murhammer Kind of related to #2600... In the current implementation, it doesn't look like `dataCopy` will be used by the Battle Calculator anymore. Even though it's passed to `simulateBattles()`, it never gets passed to the calculator, which ends up just using the original game data. Just want to confirm if not using this possibly-different copy of the `GameData` is a problem that needs to be fixed, as well.","Hmmmm, is this really needed? You check whether an entry has been read or not by looking into the InvocationContext. If the entry has been read, the context should have it as one of the looked up entry. Also, anything you add to a command is generally because it needs to be replicated. Do you really need to replicate this information to other nodes?","See if you can avoid this. The way `cloneGameData` data works is by serialized the gameData object to disk and then reading it back. For a larger game file this can take seconds, a performance killer.",intentional? (same for other methods),Use an `xor` to simplify the if statement? `!(Properties.getControlAllCanalsBetweenTerritoriesToPass(data) ^ canPass)`,Is there a unit test that covers this?,Please wrap all conditional branches with brackets.,This is way too long of a method name! As this has only one usage: What about splitting this into multiple matches and grouping them together with `Match#allOf`?,Ditto above question with respect to `testRoute` and `defaultRoute`.,"Can `landRoute` and `defaultRoute` have different values for `numberOfSteps()`? If so, what was the justification for removing this sub-expression?"
"@@ -368,5 +368,8 @@ type Instance struct { EBSOptimized *bool `json:""ebsOptimized""` // The tags associated with the instance. - Tags map[string]string `json:""tag""` + Tags map[string]string `json:""tags""` + + // The security groups associated with the instance. + SecurityGroups map[string]string `json:""securityGroups""` }","I'm not sure if this wanted to be `json:""tags""` (which I'd set in my PR) or `json:""tag""` that someone elses PR had set. Given that the rest of the fields had their JSON field name set to the same as the struct field name, I opted for `tags`.","I wonder, should we have a `TaggedResource` type shared amongst all taggable EC2 resources?","I wonder, should we have a `TaggedResource` type shared amongst all taggable EC2 resources?","I wonder, should we have a `TaggedResource` type shared amongst all taggable EC2 resources?","fyi, changing the type is not backward compatible change","Since it is true only for VPC-based instances, what do you think of updating this message with: `VPC-based instances require at least one security group to be attached`? Source: > [EC2-VPC] Changes the security groups of the instance. You must specify at least one security group, even if it's just the default security group for the VPC. You must specify the security group ID, not the security group name.","Minor nitpick: In a future enhancement, we should be able to move this into a `CustomizeDiff` function to perform this validation during planning  ","I don't want to formalize this in the API - it's a terrible structure that we'd love to replace. I don't think we want to engrave this into the API for all eternity as the definitive standard that containers are built from. We should either mark this as subject to change, or do a full review on the struct and see what can be done to make it less insane to support.","Is it the case that nested secrets are represented in a first-class fashion (i.e. in a fashion that makes it clear that the nested value is secret)? I think I saw that in the related PR, but it's important to call out.","Is it the case that nested secrets are represented in a first-class fashion (i.e. in a fashion that makes it clear that the nested value is secret)? I think I saw that in the related PR, but it's important to call out.","Is it the case that nested secrets are represented in a first-class fashion (i.e. in a fashion that makes it clear that the nested value is secret)? I think I saw that in the related PR, but it's important to call out."
"@@ -47,6 +47,11 @@ module Ncr message: ""must be three letters or numbers"" }, allow_blank: true + scope :for_fiscal_year, lambda { |year| + range = self.class.range_for_fiscal_year(year) + where(created_at: range[:start_time]...range[:end_time]) + } + def self.all_system_approver_emails [ self.ba61_tier1_budget_mailbox,","since the logic here and in `Proposal` is exactly the same, do you think it makes sense for us to include it elsewhere? I am not opposed to duplicated code when it makes sense, but the reason I first identified this was that I was looking for code in NCR::WorkOrder that was not specific to Work Orders. Seems like fiscal year logic might be helpful for reporting for other clients. In that case, we'd want this scope on those client data classes as well. Might be wrong to include this in the FiscalYear mixin, but it does seem like it should be outside of Proposal and WorkOrder. Does that make sense?",Prefer Date or Time over DateTime.,"Unfortunately, this doesn't pass all of the tests, as the value is _automatically_ converted to `nil` when there is a date in an invalid format. This was quite surprising to me - but we learn something new every day! Replace the second check with `!record.date_before_time_cast.blank?` to check whether the date string before trying to convert it was empty or not.",Prefer `!expression.nil?` over `expression != nil`.,Line is too long. [100/80],Doesn't look like `will_save_change_to_active` is being used at all here,I think we could also use some tests in `spec/requests/internal/broadcasts_spec.rb` that test that this attribute does/does not update correctly from the controller side,Trailing whitespace detected.,"I feel like we shouldn't add this in the specs, the services should require the files?","I feel like we shouldn't add this in the specs, the services should require the files?","minor ... no point updating name when it did not change .... `WHERE name IS NOT NULL name <> LEFT(name, 100)`"
"@@ -42,6 +42,11 @@ class InfluxWriterSubscriber(object): self.time = 0 + def on_connection_closed(self, connection, reply_code, reply_text): + self.log.info('RabbitMQ connection got closed!') + self.connection.add_timeout(5, self.connect_to_rabbitmq) + + @staticmethod def static_callback(ch, method, properties, body, obj): return obj.callback(ch, method, properties, body)",there is no static method as a go between -- how does this work?,At somestage (during setting the adapter up the first time) the program would crash (typically when variables are set incorrectly iirc) but it wouldn't print any info. So this could be removed if necessary.,"Rather than hard-coding in the value ""3"" - this should be some kind of configurable connection retry value.","I think you want to start callbacks immediately, there's no requirement that anyone ever calls `loop_until_closed`",This new parameter only seems to get added to the synchronous receiver and not the async one?,I'd prefer putting constant values to a central point in the code and not inlined,Any way close for one handler could fail? Do we want to log an error and continue on in that case? (Just thinking defensively),Do we need to change READ_TIMEOUT = 20 on line 15,"Can we just add a `NullHandler` to the parent (i.e. `dvc.paramiko`)? I think that makes all child loggers a no-op? But, I'm fine as-is, it was just a question (I'm not really sure if my suggestion works :smile:).",Under what circumstances there is no peer_max_message_size? When the link is not open?,I think this retry policy should now be built from the configuration?
"@@ -0,0 +1,8 @@ +# frozen_string_literal: true +# encoding: utf-8 + +class StringifiedSymbol + include Mongoid::Document + store_in collection: ""stringified_symbols"", client: :other + field :stringified_symbol, type: StringifiedSymbol +end",Can you please change the name of this class to be something else?,i would refactor the SnippetController to use the metadata to get the form-type,"late to the party, but consider modifying the docstirng to `Bing Entity Search unique identifier ...`","Why is this one prefaced with ""is"" while others are not? I'd be consistent for your language. Also, I'm not clear on what this `_attribute_map` is, since there's no `isHidden` on the model itself but, this is to be the reverse of `retrievable` that is on the model.","I'm hesitant to remove the ""encoded url"" part if it still doesn't work by the service since we had customers stumble into this problem before when submitting a URL that had a blank space in it. Why did we want to remove this?",Shouldn't this class be defining its own `to_s` method to ensure that our intrinsic implementation isn't just calling `rb_str_to_s` directly?,Does `self.__dict__` work here for hashing?,"How about changing that to just `image`? and `background_image_alt` to `image_alt`? Right now we are using this image in way more places than just the background, also we should not predefine the usage at the database level, what if someone wants to use it, as for example, a thumbnail?","How about changing that to just `image`? and `background_image_alt` to `image_alt`? Right now we are using this image in way more places than just the background, also we should not predefine the usage at the database level, what if someone wants to use it, as for example, a thumbnail?","In the Category model, this field is not nullable (while it allows for blank values). Can we keep consistency and have the same signature here? This affects `schema.graphql` so we'd have to regenerate it. For migrations, we could just change the `0078_auto_20181119_0535.py` accordingly.","In the Category model, this field is not nullable (while it allows for blank values). Can we keep consistency and have the same signature here? This affects `schema.graphql` so we'd have to regenerate it. For migrations, we could just change the `0078_auto_20181119_0535.py` accordingly."
"@@ -403,7 +403,7 @@ size_t h2o_strstr(const char *haysack, size_t haysack_len, const char *needle, s } /* note: returns a zero-width match as well */ -const char *h2o_next_token(h2o_iovec_t *iter, int separator, size_t *element_len, h2o_iovec_t *value) +const char *h2o_next_token(h2o_iovec_t *iter, int separator, size_t *element_len, h2o_iovec_t *value, int coma_separator) { const char *cur = iter->base, *end = iter->base + iter->len, *token_start, *token_end; ","I think we might prefer generalizing the interface rather than creating an exception. Current design of `h2o_next_token` assumes the input to be a comma-separated list, and allows the caller to specify a different separator when parsing a nested list. As I understand, what we are trying to attain in this PR is to have a way of parsing a flat list of semicolon-separated list. Assuming that is the case, I think it would be better to change the API of the function to accept two separators (i.e. inner and outer), where for our existing use-cases `outer` would be `,`.","OOC, what is the purpose of `owOptref` + `owOptreference` ?",This can be removed.,"I'd remove ""due to"" here. I think the "":"" alone corresponds a bit better to standard error messaging.",The original check that `bool(value) == False` is lost. Is that ok?,"hm, should we have AAD1 AAD2 etc tags instead?",Nitpick: this should be indented so `EVP_PKEY_CTRL_KHDF` is under `ctx`,It may also be beneficial here for users if we additionally rename buffer to source to further make it obvious it's RO data. Most of the other function updated here already have the name change afaict.,"suggest switching to a new line after `ast.List,`","suggest switching to a new line after `ast.List,`","As per last review, can we keep this one as `of` please? It's not doing any parsing..."
"@@ -43,8 +43,8 @@ namespace Nethermind.Blockchain { private const long LowestInsertedBodyNumberDbEntryAddress = 0; private const int CacheSize = 64; - private readonly ICache<Keccak, Block> _blockCache = new LruCacheWithRecycling<Keccak, Block>(CacheSize, CacheSize, ""blocks""); - private readonly ICache<Keccak, BlockHeader> _headerCache = new LruCacheWithRecycling<Keccak, BlockHeader>(CacheSize, CacheSize, ""headers""); + private readonly ICache<Keccak, Block> _blockCache = new LruCache<Keccak, Block>(CacheSize, CacheSize, ""blocks""); + private readonly ICache<Keccak, BlockHeader> _headerCache = new LruCache<Keccak, BlockHeader>(CacheSize, CacheSize, ""headers""); private const int BestKnownSearchLimit = 256_000_000; ",why not recycling? I Lru cache now recycling?,"Passivation potentially invokes listeners and throws an exception, so I would put it after the finally block.",@wburns Is this TODO still relevant?,I wonder if we could change this so we lazily ressurect this object. This way if no listener is installed we wouldn't have to read this object. But that would probably require changing `evictionManager` API. So maybe for ISPN 10? @tristantarrant WDYT?,Each param should be on a separate line,This is the actual big bug fix. The problem was this was passing the address pointer to remove (which would be a fine assumption from the name as Dan mentioned). However this method required the address of the first node in the memory lookup. This is required since this is a forward linked list only and such when we remove an element we need its parent to mend the linked list. By not passing this the list would be corrupted which could cause all sorts of issues (especially if this memory location was reused by another entry - which was almost always the case),"I think if we can move the `passivate` call to after we unlock the `entryWriteLock` would be better. This way we won't block other off heap reads and writes for the same lock while performing the passivation, which can take a while. We will still hold onto the ISPN lock for the given key so it should be fine.",So there's an extra 80-64=16 bytes even when the `MetaParamsInternalMetadata` isn't used?,This can be short circuited as well so we don't have to iterate through all addresses.,"isEvict is used more than once in this method, shouldn't we use isEvictionRemoval in the other places as well?",this is useless because `return undefined` is the same thing as `return`.
"@@ -69,7 +69,7 @@ func (consumer *createConsumer) Consume(requestPtr interface{}) (response interf issuerID := consumer.peerID if request.ConsumerInfo != nil { issuerID = request.ConsumerInfo.IssuerID - if request.ConsumerInfo.PaymentVersion == PaymentVersionV2 { + if request.ConsumerInfo.PaymentVersion == PaymentVersionV3 { indicateNewVersion = true } } else {",Why it is now called `PaymentVersionV3`?,make an accessor like the above?,"This ofc is not generically valid, but I think with our current version handling (`alpha, beta, rc1, ..`) it should be good enough.",Be careful with that. I found at least one place `pkg/api/latest/tags_test.go#TestDescriptions` which skips test based on that. You need to update it.,I believe this should be 3.2.0-alpha,I believe this should be 3.2.0-alpha,I believe this should be 3.2.0-alpha,"is it for debug only? if yes, we can use Debug().",you can still use the msg.GetType().String() right?,"view change message has different format, msg.GetViewchange(). need separate checking","I'll admit, it wasn't evident from reading this change why we need to rev the formats. It would seem all changes to the deployment/checkpoint structures are purely additive."
"@@ -165,7 +165,7 @@ func (dc *DownstreamController) syncSecret() { } nodes := dc.lc.SecretNodes(secret.Namespace, secret.Name) - klog.Infof(""there are %d nodes need to sync secret, operation: %s"", len(nodes), e.Type) + klog.V(4).Infof(""there are %d nodes need to sync secret, operation: %s"", len(nodes), e.Type) for _, n := range nodes { msg := model.NewMessage("""") msg.SetResourceVersion(secret.ResourceVersion)",changed for debug purpose?,"part of the `kubernetes` package just for consistency, an alternative is to move it to package `cmd`",why delete all this stuff?,`type` is redundant,The in-cold should be added into the log.,Log messages are usually capitalized across the code base,Finally! I know you've been gunning for this nested loop.,not the good package `github.com/pkg/errors ` -> `errors`,I think it's more conventional in Go to not camel case import names. I'd suggest `ttls` or `traefiktls` instead.,"Is there a design available for this work? I assume there's a reason to introduce `Auditf` as a distinct method (instead of just using `Infof`), but it's not clear from this PR. Understanding the long-term plan will help with review of this PR. Some initial thoughts: * Maybe this method should call `Infof` to avoid duplicate code (or maybe that's a silly suggestion given the long-term plan) * Maybe a `trace.BeginAndAudit` method (or just `trace.Audit`?) could be introduced that calls `trace.Begin` and `op.Auditf` to avoid the need to for two lines duplicating the operation name at each of these call sites","This will make applications service crash if it can't connect to NATS, which means we can't silently fail to start ingesting messages any more."
"@@ -46,6 +46,13 @@ namespace OpenTelemetry /// <inheritdoc /> public abstract override void OnEnd(T data); + internal override void SetParentProvider(BaseProvider parentProvider) + { + base.SetParentProvider(parentProvider); + + this.exporter.ParentProvider = parentProvider; + } + /// <inheritdoc /> protected override bool OnShutdown(int timeoutMilliseconds) {",@cijothomas I needed a way to set the Exporter.ParentProvider when the Processor's gets set. Internal to SDK though.,"Both ServiceConfig and ReferenceConfig have this property, how about moving it to one shared superclass.",the doco for this seems to imply it is an extension point but everything is internal,And this one needs to be public so they can combine it with the above. You could replace them both with `addFallbackCoderProvider` so they are only allowed to add alternatives (which should have precedence),This one is definitely public. It enables users to set various universal fallbacks beyond those that we configure when we ship.,@trask I think this stopped making sense when making all the `startSpan` return `Context` since there's no way to skip injection otherwise.,"Does ""Arbitrary order"" mean that the order will be always the same or not?",This won't conflict with the server behavior when both are used? /cc @kenfinnigan,just checking that this rename was intentional?,"This will put the ProviderConfig instance into ConfigManager, which is not an action expected.","This may return null value, are you expecting that? Typically when you want to return a List, user will expect an empty list rather than null."
"@@ -31,9 +31,13 @@ inline extractor::RoadClassification roadClass(const ConnectedRoad &road, return graph.GetEdgeData(road.eid).flags.road_classification; } -inline bool isRampClass(EdgeID eid, const util::NodeBasedDynamicGraph &node_based_graph) +inline bool isRampClass(EdgeID eid, + const util::NodeBasedDynamicGraph &node_based_graph, + bool from_motorway = true) { - return node_based_graph.GetEdgeData(eid).flags.road_classification.IsRampClass(); + return node_based_graph.GetEdgeData(eid).flags.road_classification.IsRampClass() || + (from_motorway && + node_based_graph.GetEdgeData(eid).flags.road_classification.IsLinkClass()); } } // namespace",Talking through this scenario with @srividyacb and she's wondering if there should also be a check of `(from_trunk && node_based_graph.GetEdgeData(eid).flags.road_classification.IsLinkClass())` as highways with trunk classifications can also have this scenario.,"This bothers me, because we don't normally modify vendored files. But I guess it's needed to stop mypy complaining about the pkg_resources code.","This bothers me, because we don't normally modify vendored files. But I guess it's needed to stop mypy complaining about the pkg_resources code.","Same value for all cars, we can move it out.",let's change to be terminal: nil,"This if statement is complex. This will be hard to maintain, and complex boolean conditions have a higher correlation with defective code. Is there anything that can be done? The series of 'if' statements suggest a decomposition into polymorphic objects refactor could simplify this.",So the hack now is that this is a variable and the binder doesn't know whether it's true or false?,"meh, I would still keep it. Ideally mpc should be completely independent from the car and steerRateCost should not be defined in interfaces.",It looks like this property is not actually used but I assume it will be used in the future when using meg points for the automatic fits.,You can't do this for `amp-sidebar`. `amp-sticky-ad` is OK because 0.1 is fully deprecated.,"we should not do this, if paths have multiple X, there's no reason to store just one you should replace all old things with plurals, stop and stops is wrong so let's make everything branches, cities, junctions nodes etc"
"@@ -13,7 +13,7 @@ module Beaker :q_verify_packages => ENV['q_verify_packages'] || 'y', :q_puppet_symlinks_install => 'y', :q_puppetagent_certname => host, - :q_puppetagent_server => master, + :q_puppetagent_server => master_certname, # Disable database, console, and master by default # This will be overridden by other blocks being merged in.",where does `master_certname` come from?,Layout/TrailingWhitespace: Trailing whitespace detected.,Layout/TrailingWhitespace: Trailing whitespace detected.,typo: its instead of it's,Line is too long. [82/80],"what about passing the `request_id`in the URL params and deriving the SP info from that? We are already doing that in some places, figure it's possible to use the same technique to preserve SP info outside of session?","what about passing the `request_id`in the URL params and deriving the SP info from that? We are already doing that in some places, figure it's possible to use the same technique to preserve SP info outside of session?",@solipet Does this still accomplish what you wanted? I'm not totally sure yet if doing a `.clear` will mess up the test suite in any way.,@solipet Does this still accomplish what you wanted? I'm not totally sure yet if doing a `.clear` will mess up the test suite in any way.,How sure are we that this will remain true in the future?,this whole file is a bit trickier. I think it's best not to alter anything.
"@@ -1,5 +1,7 @@ from .resnet import ResNet, make_res_layer from .resnext import ResNeXt from .ssd_vgg import SSDVGG +from .hrnet import HRNet -__all__ = ['ResNet', 'make_res_layer', 'ResNeXt', 'SSDVGG'] +__all__ = ['ResNet', 'make_res_layer', 'ResNeXt', 'SSDVGG', + 'HRNet']",The line breaking is unnecessary.,This should include `KeyClient` and `SecretClient` as well so users can do e.g. `from azure.security.keyvault.aio import KeyClient`,Don't expose `Optimizer` here.,Don't expose `Optimizer` here.,"Do we really need to import all? I mean, do we only need `StaticModelRunner` ?","Do we really need to import all? I mean, do we only need `StaticModelRunner` ?",Put `DeblurringModel` into common folder instead.,Put `DeblurringModel` into common folder instead.,We haven't decided whether to make the class itself public. For the initial release let's follow Azure/azure-sdk-for-net#11045 by keeping the class internal but adding it to `DefaultAzureCredential`.,Shouldn't `VisionDataset` contained in `__all__` if we want to expose it?,Quantization Strategy is not included?
"@@ -28,7 +28,7 @@ void DatasetLoader::SetHeader(const char* filename) { // get column names if (io_config_.has_header) { std::string first_line = text_reader.first_line(); - feature_names_ = Common::Split(first_line.c_str(), ""\t ,""); + feature_names_ = Common::Split(first_line.c_str(), ""\t,""); } // load label idx first",why not enable split by space here ?,"if you're doing a literal comparison, you may as well just use `operator==` when you have a `std::string`, there's no need for a roundabout `strcmp`","What's the objective of making this a `char`? I think it was kind of advantageous to pass a string as it will use all of those tokens as delimiters. Maybe we could introduce another overloaded function that's specific for splits with 1 delimiter? I don't think it matters much, as this function seems to not be used much in the code base.","Hi, @rijaspk. Thanks for your contribution. Before we can merge your pull request, we would like you to make the following changes. The body of the `if` structure must be enclosed by braces and there must be a space between the `if` keyword and the parenthesis.","I'd even make it stricter, requiring that it should start with a letter: `[a-zA-Z][a-zA-Z0-9_]+`","How does the designer set these names? I can only assume it doesn't do it via `Name`, otherwise it should be persisted.","This one must be removed, we **DO NOT** want to be forced having all the confs of the `.dist` file inside our `.conf`",Why use `c_str` and work with pointers and a manual loop when you can use reverse iterators and `find_if`? This is the kind of C to C++ conversion that minimises actual benefits.,"Is max() really a good choice here? What if (it's extremely unlikely, but still) a user deliberately wants more than 7 rows?",getQueryColumnsInternal is not reliable way for extracting the types,You need to edit the config.default file to keep the actual behavior And also edit the docs to make this change clear
"@@ -1076,7 +1076,8 @@ fpga_result mmio_error(struct RASCommandLine *rasCmdLine) return result; } - if(value != FPGA_INTEGRATED_DEVICEID) { + if( (value != FPGA_INTEGRATED_DEVICEID) || + (value != FPGA_DISCRETE_DEVICEID) ) { FPGA_ERR(""Failed to read Device id""); return FPGA_NOT_SUPPORTED; }",Shouldn't the operator be && ?,Why did you add || _M_ARM64 here instead of converting to !defined(_M_IX86) like above?,I don't think we want the base exception chained here.,"Now that we are resetting multiple things and executing decent size code underneath it, i would condition it based on 'sucess'.","This file is @galibert K&R style, please stick to it.",You can now remove `DeveloperError` from the list.,Why not defined with a `using` statement?,"Instead of skip I think we want snooze.. We never really want people to skip an update, it might be critical!? For example, OSX nags you a lot but you can snooze instead of skipping.","> `Debug.WriteLineIf(CompModSwitches.ActiveX.TraceInfo, ...);` Note that observing this message without the above fix applied requires a debug build and running in a debugger. It can be tested by running the NativeHost from inside VS (flip the comparison back to test the original regression).","These macros wrap the argument in `PSTR()` but the input is already `PSTR` (`const char *`), so this won't work.",What does PROP_PO and PROP_CO stand for?
"@@ -161,6 +161,17 @@ module Beaker FileUtils.rm_rf(@vagrant_path) end + #snapshotting depends on https://github.com/scalefactory/vagrant-multiprovider-snap + def take_snapshot(host,snapshot_name) + @logger.debug ""Creating snapshot of #{host}"" + vagrant_cmd(""snap take #{host} --name=#{snapshot_name}"") + end + + def restore_snapshot(host,snapshot_name) + @logger.debug ""Restoring snapshot of #{host}"" + vagrant_cmd(""snap rollback #{host} --name=#{snapshot_name}"") + end + def vagrant_cmd(args) Dir.chdir(@vagrant_path) do exit_status = 1",My best guess is that you want to use host.name in these parts to get the name of the host ?,"This config key has been isDynamic as false, why not making this variable dynamic?",If we're also supporting version override for download and delete we should add to the docstring :),can primaryStore be `null` here?,`result =` is not needed. Also an `if` construct seems more appropriate here.,This should be called through the pre/post/clean scripts. This code should be moved to the owsirch network drivers,Use 'repository' for variable name,this might cause API response issues.,Why not `def execute`?,Style/NumericPredicate: Use revision_number.to_i.zero? instead of revision_number.to_i == 0.,move into if statement below
"@@ -270,13 +270,6 @@ func (n *Node) UnmarshalBinary(data []byte) error { n.entry = append([]byte{}, data[nodeHeaderSize:nodeHeaderSize+refBytesSize]...) offset := nodeHeaderSize + refBytesSize // skip entry - // Currently we don't persist the root nodeType when we marshal the manifest, as a result - // the root nodeType information is lost on Unmarshal. This causes issues when we want to - // perform a path 'Walk' on the root. If there is more than 1 fork, the root node type - // is an edge, so we will deduce this information from index byte array - if !bytes.Equal(data[offset:offset+32], make([]byte, 32)) { - n.nodeType = nodeTypeEdge - } n.forks = make(map[byte]*fork) bb := &bitsForBytes{} bb.fromBytes(data[offset:])","IMO this edge case handling could remain here, just instead of overwriting the `n.nodeType`, the `makeEdgeType` method of `n` should be called, so `n.nodeType = nodeTypeEdge` -> `n.makeEdge()`","There's a little bit of math involved each time we call `.UnixNano()`. Since we do it once for each entry and we know we have 1M+ entries per ingester, we could store the result of `.UnixNano()` at the beginning of the function.",why does getting it again prevent us from modifying a re-assembled version? Because if it's been queried recently it will live in the memory cache instead?,why is it safe to drop the second half of the conjunction?,Remove this log line.,"Please use `String#Equals(String, StringComparison)`","what does regular-file mean or imply? Is there another type of file? If not, just ""file"" is probably description enough, no?","Not sure if this is quite right, but something like `file at \""%s\"" is a regular-file, but the \""%s\"" already exists` would be even clearer","This is just a cleaner way of doing this, right? Not meaningful for this change?","Can we call this `Meta` field `Data`? We had a similar conversation on another field, but `Meta` is to obscure / abstract of a name in my mind.","Please don't remove the context here. We need to keep this because we're going to start pushing context through the stack in order to simplify things like process hierarchies, logging and db transactions."
"@@ -205,9 +205,10 @@ public class DownloadService extends Service { Log.d(TAG, ""Service shutting down""); isRunning = false; + boolean showAutoDownloadReport = UserPreferences.showAutoDownloadReport(); if (ClientConfig.downloadServiceCallbacks.shouldCreateReport() - && UserPreferences.showDownloadReport()) { - notificationManager.updateReport(reportQueue); + && (UserPreferences.showDownloadReport() || showAutoDownloadReport)) { + notificationManager.updateReport(reportQueue, showAutoDownloadReport); reportQueue.clear(); } ","Just wondering... The two kinds of notifications are now quite different (Channel, text, maybe even icon). Would it make sense to extract the auto download notification to a new class instead of handling everything in the existing `notificationManager`? I have not checked if this will lead to a lot of code duplication, though.",Are these properties set by the `CheckForProductUpdate` method?,"Just in case, better to wrap the code by <code>catch (Exception ex)</code>. Downloadables can come from the external plugin, and a NPE there may impact the startup flow",(!) Isn't this going to break detailed behavioural logging? Marking as DNM until we've discussed.,Please make a JIRA ticket instead.,You appear to have changed these lines unnecessarily - that makes it hard to read diffs. Please only change lines necessary to implement the required change - can you revert the change to these lines?,"the `requesterToJobCount` (aka `quotaMap`) is already a `ConcurrentHashMap`. seems reasonable synchronization granularity, sine AFAICT every requester's quota is separate. synchronizing here (on the `DMThread` instance anyway wouldn't ensure atomicity *across* different threads. you're right on the need for concurrency control though. to ensure atomic check-then-set semantics (and never drop/miss an increment), use the three-param version of `.replace`, rather than `.put`. (`AtomicInteger.compareAndSet` would afford the same, but is overkill, since CHM already effectively synchronizes on `key`.) to account for the potential rejection to `.replace`, you'll need a loop within.","Hi @errose28 , I noticed that this check is just the same as `checkScmHA()`, so this block of code is somewhat 'dead' after `checkScmHA()` ?",Could you change `size` for `count` here. Size (to me) implies a file size.,SonarLint: Replace the usage of the `instanceof` operator by a catch block.,"There must be some way this already gets handled, right? I had a situation in the POC where the Streams app crashed but the query never ""noticed"" (just hung instead of terminating). That was a totally different implementation, though, so this might not be a concern. I just needed it in the diff to call it out."
"@@ -140,3 +140,11 @@ func (c *Call) RoutingDelegate() string { } return c.ic.req.RoutingDelegate } + +// Features returns the RequestFeatures for this request. +func (c *Call) Features() transport.RequestFeatures { + if c == nil { + return transport.RequestFeatures{} + } + return c.ic.req.Features +}",Do we need to put this on the Call? We only need the API communication between the Encoding and the Transports which is currently done through the Transport.Request. The Call is used by users right?,"Is reassigning to the `ctx` variable a deliberate change here, or mostly left over from the previous version of the diff? We might be able to undo all the changes down in this part of the file?",can leave this in too as a sanity check but shouldn't we check before making the API request so we don't mash the endpoint each time?,Add a `Level` and log this out.,I need to remove the `resourceReferences` case here.,I need to remove the `resourceReferences` case here.,I need to remove the `resourceReferences` case here.,The one place we add rate limits to the result now.,@bboreham Should we add `tracer.Inject` to the exclude list?,I'm worried that this could trigger a bunch of goroutines.,Add similar change to `SignatureKind Kind` as well?
"@@ -1202,3 +1202,15 @@ L: } return filtered } + +func (a *WebAPI) GenerateAPIKey(ctx context.Context, req *webservice.GenerateAPIKeyRequest) (*webservice.GenerateAPIKeyResponse, error) { + return nil, status.Error(codes.Unimplemented, """") +} + +func (a *WebAPI) DisableAPIKey(ctx context.Context, req *webservice.DisableAPIKeyRequest) (*webservice.DisableAPIKeyResponse, error) { + return nil, status.Error(codes.Unimplemented, """") +} + +func (a *WebAPI) ListAPIKeys(ctx context.Context, req *webservice.ListAPIKeysRequest) (*webservice.ListAPIKeysResponse, error) { + return nil, status.Error(codes.Unimplemented, """") +}",`ctx` is unused in GenerateAPIKey,is there any harm in supporting both `GET` and `POST`?,can we add the validation rule here? or is there an issue with type map and validations?,This at the very least needs a `compatibility` check.,This at the very least needs a `compatibility` check.,This at the very least needs a `compatibility` check.,"This change is unrelated to the main refactoring - can you please move this to a separate PR? It's a bit subjective whether this is an improvement, and I don't want to block this PR on tangentially related changes.","Another idea is to have only one argument member that an interface, and can work for either JSONPayloads or HTTPArgs.","Typo, pressed a wrong Emacs chord here.","Typo, pressed a wrong Emacs chord here.","Typo, pressed a wrong Emacs chord here."
"@@ -75,6 +75,7 @@ type ( func NewBlockDAO(indexers []BlockIndexer, cfg config.DB) BlockDAO { blkStore, err := filedao.NewFileDAO(cfg) if err != nil { + log.L().Fatal(err.Error(), zap.Any(""cfg"", cfg)) return nil } return createBlockDAO(blkStore, indexers, cfg)",Can you judge the type of error?,There are `NewMetaContextTODO(g)` and `NewMetaContextBackground(g)` functions btw,You must use tab instead spaces.,is this safe?,does this work if there was no config file before?,failed to list directory?,"This is all locked so it doesn't matter, but IMO the `dirtyDirsSyncing` and `deferredDirUpdates` assignments should be together. After the for loop below.",Why wasn't there a default before?,"There's some sort of cross-dependency here - we only create a table client for the store that holds the index, even though we may need to create tables for chunks too.",we shouldn't have a new `err` variable in this case but return the error since we are force writing the index,"@strib when I was referring to the metadata DB, I meant the one right underneath here. That should give the biggest wins."
"@@ -204,7 +204,7 @@ class GridInterface(DictInterface): if edges and not isedges: data = cls._infer_interval_breaks(data) elif not edges and isedges: - data = np.convolve(data, [0.5, 0.5], 'valid') + data = data[:-1] + np.diff(data)/2. return data ",Much simpler than a weird and confusing ``convolve`` call!,Note I also had to add some dumb exception for 3.5. I think somehow Anaconda's builds of `scipy` are not reliable.,"typo, missing `l` in `default`",can we specify +/- 1.96 here as expectation?,"This should not be hard coded to a fixed size. It makes more sense for this to depend on the print settings. Also, considering lines are often, say, 0.4mm, and this used to use 1/2 of that, bumping it up by 150% is a big jump!",don't you need to cast to real?,we could alternatively write idx or index in the title.,@larsoner you don't pass a parameter anymore but fit results stay the same. Can you explain how you made this happen? you pass data with proj on?,this was the bug...,"Remove ',' at the end",better to use `assert_equal` when possible because the error message is nicer
"@@ -739,8 +739,8 @@ describe('suspense', () => { expect(scratch.innerHTML).to.eql( `<div>Hello first 2</div><div>Hello second 2</div>` ); - expect(Suspender1.prototype.render).to.have.been.calledThrice; - expect(Suspender2.prototype.render).to.have.been.calledThrice; + expect(Suspender1.prototype.render).to.have.been.calledTwice; + expect(Suspender2.prototype.render).to.have.been.calledTwice; }); }); });","Huh, this seems weird to me... Surely the suspenders render was called again in order to get the new `<div>Hello second 2</div>` output... Imma take a peak at these tests to understand what's going on","`evaluate` is expected to throw, right? Just put that in the `expect` function.","It's weird to import from a task file in `.eslintrc.js`. Would it be possible to do the following? - Move out all the configuration / allowlists / messages, etc. for `forbiddenTerms` for JS files from `presubmit-checks.js` to a new file called `build-system/test-configs/forbidde-terms.js` - Have the `local/forbidden-terms` lint rule automatically load its rules from that file Then, this `require` statement can go away. Also, `amp presubmit` will no longer have anything to do with JS files. I can go in later and figure out what to do with the rest of the `presubmit-checks.js`. (It has been a long-term goal to get rid of it, and this PR has provided the necessary momentum  )","Detecting the wasteful double-call of `getUnitTestsToRun()` was a nice catch! However, removing this check will cause Karma to error out if the local changes affect zero tests. Can we reinstate this code and then save the results of `getUnitTestsToRun()` so they can be reused while starting the Karma server?",@rsimha Do I need to list this file somewhere to setup CI targets?,"I have no explanation why but after this, it silently fails rest of the tests in the file. What should have been an execution of 100 tests altogether, are now just 9 tests but passing results via locally running `gulp test --files=test/functional/test-xhr.js --watch`",Care to export these alphabetically if you're already here?  ,Might be worth moving to `ksql-test-util` module.,Better to exit explicitly with a non-zero exit code?,please add `()` should be type `{!Array<function()>}`,"I am not familiar with SVG, but I can't seem to find any reference to `xmlns:xhref`. Did you mean `xlink:href` (or am I missing something) ?"
"@@ -80,6 +80,10 @@ class ApplicationController < ActionController::Base def failed_destroy_error(obj, obj_name) ""#{_('Could not delete the %{o}.') % {o: obj_name}} #{errors_to_s(obj)}"" end + + def success_message(obj_name, action) + ""#{_('Successfully %{action} your %{object}.') % {object: obj_name, action: action}}"" + end private # Override rails default render action to look for a branded version of a","Since this is just a helper function to create text, perhaps this could live in a helper? I noticed that we have a few other error/message creators in the application controller as well, but I think this type of function should be re-factored to be part of a helper.","I think this should be `opts.fetch(:headers, {})`",Line is too long. [121/80],Line is too long. [83/80],Style/RedundantParentheses: Don't use parentheses around a method call.,"It turned out that we didn't have visible flash messages on the main page, so those set up on deletion were useless. Including the one that had already existed (when destroying an account), so I had to implement visible flash messages.",What if we called this `extra_view_variables` instead of `pre_render`?,What if we called this `extra_view_variables` instead of `pre_render`?,Line is too long. [82/80],Missing space after #.,"Change with ""... text result"", just so the coder wouldn't think it's actually a text :O."
"@@ -92,7 +92,7 @@ evaluation=10.0 - ((float(5 * error + warning + refactor + convention) / stateme # Template used to display messages. This is a python new-style format string # used to format the message information. See doc for all details -#msg-template= +msg-template=[{msg_id}] {path}:{line:3d}:{column}: {msg} [SPELLING]","Will this mess up parsing the messages by other editors? (vscode, vim ...)","If this weren't needed as a quick patch, I'd actually transition it to using loggers properly. `TODO` though.",in my experience it would actually be nicer to see a bit of the beginning and a bit of the end..,"Shouldn't it be `find_language(default_locale)` ? Also, if `default_locale` is `None`, that'd be bad - I assume it's checked by the caller ?","all of the changes in this file should be reverted, everything should be handled inside `check_integrity` (see above)","Are you testing for the presence of the `signing_severity` key here? If so, using `'signing_severity' in message` might be clearer?",One of the biggest changes is that both the printing and the json output of the graph work now over the serialized graph. It seems way more structured that each one traversing the ``DepsGraph`` object in its own way.,I generally prefer not to use insertions to modify lists with a prescribed order. This avoids future issues if say the argument API for `Package` changed later. If these were `kwargs` (i.e. a dictionary) it wouldn't be an issue.,useless ``cd hello``,"Remove docstring, instance var, repr, for warnings here, as well. Also doesn't `SentenceSentiment` now return `text`?","All the `log` calls in this function will have to be removed. Instead, the function should just return the already existing `messages` data structure that is computed inside this function that holds all the information about what errors or warnings were encountered."
"@@ -1,4 +1,3 @@ -# Set up gems listed in the Gemfile. -ENV['BUNDLE_GEMFILE'] ||= File.expand_path('../../Gemfile', __FILE__) +ENV['BUNDLE_GEMFILE'] ||= File.expand_path('../Gemfile', __dir__) -require 'bundler/setup' if File.exists?(ENV['BUNDLE_GEMFILE']) +require 'bundler/setup' # Set up gems listed in the Gemfile.",Style/StringLiterals: Prefer double-quoted strings unless you need single quotes to avoid extra backslashes for escaping.,Style/StringLiterals: Prefer single-quoted strings when you don't need string interpolation or special symbols.,this is too early for us to use `IdentityStore.config` right? Where do we control this env var?,this is too early for us to use `IdentityStore.config` right? Where do we control this env var?,ran `rails app:update` here,Prefer single-quoted strings when you don't need string interpolation or special symbols.,What if we added a local opt-out? Like `BOOTSNAP=false` would also have us skip loading? ex `BOOTSNAP=false bundle exec rails s`,What if we added a local opt-out? Like `BOOTSNAP=false` would also have us skip loading? ex `BOOTSNAP=false bundle exec rails s`,"I'm not sure if `ApplicationConfig` should be used in `config` files as well, but I assume it should be.",Style/StringLiterals: Prefer double-quoted strings unless you need single quotes to avoid extra backslashes for escaping.,Style/StringLiterals: Prefer double-quoted strings unless you need single quotes to avoid extra backslashes for escaping.
"@@ -28,8 +28,13 @@ namespace Microsoft.AspNet.Server.Kestrel.Filter _filteredStream = filteredStream; _socketInputStream = new SocketInputStream(SocketInput); - _filteredStream.CopyToAsync(_socketInputStream).ContinueWith((task, state) => + var block = memory.Lease(); + // Use pooled block for copy + _filteredStream.CopyToAsync(_socketInputStream, block).ContinueWith((task, state) => { + var returnedBlock = task.Result; + returnedBlock.Pool?.Return(returnedBlock); + ((FilteredStreamAdapter)state).OnStreamClose(task); }, this); }",Why can the pool be null?,"At this point in the code I am not the fan of throwing an IllegalArgumentException, wouldn't it be better to keep this as an IOException with a specific explaining message?","Can you please extract these 2 lines to a separate method (and replace other 2 duplicate fragments, too)?","This is an interface call, so pushing it up to constructor rather than calling it twice per `AllocateSegment`","@bartonjs, I decided to not fight the tooling and just do the easily-observed-as-correct thing.","Note the condition is different here, might not be safe to replace with `writeChunkIfNeeded()`.",Can we pass `new OzoneClientConfig()` instead of `null`? This way we can avoid null checks and use the default configuration seamlessly.,There's something wrong with this metric no need NODE_STATUS  and NODE_STATUS is not a metric,"If we are not throwing the exception here, that means we are effectively hiding a putBlock failure from the code that uses this code path. I see two places, one is checkAndWriteParityCells, in the ECKeyOutputStream class, which first use the executePutBlock during handleParityWrites, where it checks the failed streams, but handleStripeFailure does not check for errors after calling the executePutBlock. So if the error happens during stripe failure handling we do not throw the exception anymore. When it will be checked? As in stripe failure handling after the executePutBlock, we just release the ec buffers as I see. Do I miss something?","With this call, we are synchronising on parity write, and we loose the async nature of the write on this front as well. We discussed today that the grpc client does not do writes async, if we fix that, then we still loose async writes as parity writes become synced. I believe this we should record as a future improvement here, as handling the rewrite of the stripe in a more async manner would probably require a significant change in how we buffer data.","Probably not an issue, but that this will lead to `_singleBufferHandle.Dispose()` in `Complete`. Also note that after these changes, the only semantical difference between `ProcessIOCPResult` and `ProcessIOCPResultWithSingleBufferHandle` is the pinning of the handle. Isn't it worth to dedupe that code at this point?"
"@@ -74,6 +74,15 @@ class ToggleButton(ia2Web.Ia2Web): return states +class PresentationalList(ia2Web.Ia2Web): + """""" Ensures that lists like UL, DL and OL always have the readonly state."""""" + + def _get_states(self): + states = super().states + states.add(controlTypes.STATE_READONLY) + return states + + def findExtraOverlayClasses(obj, clsList): """"""Determine the most appropriate class(es) for Chromium objects. This works similarly to L{NVDAObjects.NVDAObject.findOverlayClasses} except that it never calls any other findOverlayClasses method.","It might be good to have a note here: > work-around for issue #7562 allowing us to differentiate presentational lists from interactive lists (such as of size greater 1 and ARIA list boxes). In firefox, this is possible by the presence of a read-only state, even in content editable.",I believe `type(self.state_handlers).__name__` will always evaluate to the word `list`.,@robertwb do you see any concerns with adding a top level `finalize` method here?,"Perhaps ""The returned object should be independent of the underlying state.""? Any `T` returned should not perform write-backs without going through the appropriate state interface, and modification to the state should not be mirrored in the returned object.",I see this referenced half a dozen times below. Perhaps encapsulate the increment+return in a method `_unique_id` or similar?,"It would be convenient to allow space separated strings as well. Use `.accepts(String, lambda str: [ s.trim() for s in str.split(""\s+"") ])`.","Logically the ElementType should hold the ExternalCoder, and the ExternalCoder should hold the proto. (This will also help some issues where coders are requested manually and then not respected.)","> modify this list in-place this sounds dangerous in regards to WAL, however I can not see this through yet.","TIL about Python properties--cool! But it doesn't look like we're taking advantage of them at all, right? This is just removing `()` from after `a.internal_states`",Prevents vCruise skipping when engaging for `pcmCruise` cars only.,"Should this be an ExternalElementType? Even better, perhaps this should be a CoderElementType that holds a Coder (external or not), and then an ExternalCoder would be a Coder that holds a proto."
"@@ -66,16 +66,16 @@ import java.util.Set; * the current node) may be queried. * */ -class DigraphNode implements Cloneable, Serializable { +class DigraphNode<E> implements Cloneable, Serializable { /** The data associated with this node. */ - protected Object data; + protected E data; /** * A <code>Set</code> of neighboring nodes pointed to by this * node. */ - protected Set outNodes = new HashSet(); + protected Set<DigraphNode<E>> outNodes = new HashSet<>(); /** The in-degree of the node. */ protected int inDegree = 0;",This set of changes is the one part of this that I'm not completely sure is valid. Can someone look over this to make sure I got the E's right?,what this needed by anything?,Why is `delimited` not considered?,"Technically unused, but useful when reading the code and following along in Tarjan's algorithm.",Can we make `LinkedNotes` a private field and a `List<Note>` type?,"Or just delete the tag, since this is not part of the API.",IMHO it does not need to be public,Is this constructor mainly for NodeUtils?,return a boolean esp. given the semantics of the update operation if there is an existing node of the same name that is not the provided node instance,Is this field visible to Reflection in the RI?,"We probably do not need a setter, if we do the resolution inside BaseDataNode."
"@@ -282,8 +282,12 @@ void nano::bootstrap_attempt_legacy::request_push (nano::unique_lock<std::mutex> void nano::bootstrap_attempt_legacy::add_frontier (nano::pull_info const & pull_a) { nano::pull_info pull (pull_a); - nano::lock_guard<std::mutex> lock (mutex); - frontier_pulls.push_back (pull); + // Prevent incorrent or malicious pulls with frontier 0 insertion + if (!pull.head.is_zero ()) + { + nano::lock_guard<std::mutex> lock (mutex); + frontier_pulls.push_back (pull); + } } void nano::bootstrap_attempt_legacy::add_bulk_push_target (nano::block_hash const & head, nano::block_hash const & end)",There doesn't seem to be a reason to copy this here.,"We should expose the building blocks as well, stuff like `ResidualBlock`, `FeatureEncoder`, etc. Should we expose these in a `models.optical_flow.raft` namespace? I remember @datumbox mentioning a few issues when we have both a module and a function with the same name. Ideally, I'd like to keep the `raft()` name for the function builder, but I'm happy to get your thoughts on this","For more experienced maintainers: Is `0` a valid PR ID or not? If yes, this `if` should be updated.",Should probably error if any of these options are specified without providing a `--trigger` option.,Check return value,Why just removed ?,"While you are at it, wouldn't it be appropriate to move this empty line below?","You probably want to change CRYPTO_THREAD_unlock() too, and check for EPERM there","I'm not a native speaker, but isn't it rather ""... to copy a repo to another location"".",Could this be a static inline on xtensa ? (as on xtensa we just check a mask),"Ugh. TODO: Remove "", obviously""."
"@@ -1774,6 +1774,7 @@ std::string h2o_raw_tracer::bpf_text() { #include <linux/sched.h> #include <linux/limits.h> +#include ""include/h2o/ebpf.h"" #define STR_LEN 64 ","We've avoided including h2o headers in BPF programs because it's a runtime dependency. However, IIRC, this is because h2olog was maintained in the separate repository so that h2olog did not know where h2o was installed. Now h2olog can use `H2O_ROOT`, we should add it to BCC's `cflags` in order to include h2o headers in BPF programs.",The file still uses `is_vmalloc_addr()` and trying to backport the patch to 0.8.x results in compile errors. It turns out sys/kmem.h includes linux/mm.h but only in git master. Is this indirection intentional?,"organizationally, you might consider moving all of this pretty-printing code to another file. zpool_main.c is already quite large and contains a lot of different logic. Thus it is becoming unwieldy in its size and scope.","Drop this define, as mentioned elsewhere.",is this the same on centos and ubuntu?,"Actually, I believe we can then remove `./lib/libspl/include/sys/signal.h` as well.",another strcasecmp down there...,"Reminder: Although nullptr and NULL are equivalent by the definition..`fopen` is from stdio.h and returns NULL in case of failure (c++11 standard doesn't have a guarantee for .h files). Besides, fopen_s is from PAL and assigns NULL to FILE.",Why are you doing this when it is defined somewhere already?,"I would argue the other way around, actually.","In the context of previous side note. I have some ~wage~ vague memory that it, header ordering rule, was indirectly discussed at some point. It was formulated as ""cryptlib.h over everything else"", and we do see instance of it here. Do note that cryptlib.h did include e_os.h till now..."
"@@ -170,6 +170,10 @@ type ThanosRulerSpec struct { // Note: Currently only the CAFile, CertFile, and KeyFile fields are supported. // Maps to the '--grpc-server-tls-*' CLI args. GRPCServerTLSConfig *TLSConfig `json:""grpcServerTlsConfig,omitempty""` + // The external Query URL the Thanos Ruler will set in the 'Source' field + // of all alerts. + // Maps to the '--alert.query-url' CLI arg. + AlertQueryURL string `json:""alertQueryUrl,omitempty""` } // ThanosRulerStatus is the most recent observed status of the ThanosRuler. Read-only. Not",I think the docstring here should include the CLI arg `--alert.query-url` just to make it clear to users which setting this uses.,So turns out the serializer will make it a byte if it can regardless but the advantage is less memory when stored on the heap so it's still a minor benefit.,"Do we wanna keep it hidden for now? I don't have strong opinions but, without having in it in the doc, will be difficult for our users to try it out.","Nice addition. If you move this to the CLI flag description, than it would be part of the auto-generated config.","don't want special flags like this in the spec... the fully qualified host should be reported in the status (either copied from spec.host, or displaying the allocated host), so a client can just consume the value from there without doing URL building",Mention the `NewMaxBytesHandler` functionality in a CHANGELOG entry.,"I think it should be `json:""strict-picking-store,string""`, do you test it with `pd-ctl`? BTW, It required 2LGT.",When do we need to disable it?,"I believe we should mark this as `ConflictsWith: []string{""snapshot_identifier""}` because this field will be ignored if the DB is restored, instead of created from scratch.",Can these configs be embedded in a struct and live at the package level?,Do you think it's more clear or confusing if we rename the YAML option from `memberlist_kv` to `memberlist`? The `kv` suffix may not me much clear to the final user. If we keep `memberlist_kv` then I would suggest to rename the root block to `memberlist_kv_config` in `tools/doc-generator/main.go`.
"@@ -224,9 +224,7 @@ func (m *ipipManager) CompleteDeferredWork() error { for _, ip := range m.activeHostnameToIP { members = append(members, ip) } - for _, ip := range m.externalNodeCIDRs { - members = append(members, ip) - } + members = append(members, m.externalNodeCIDRs...) m.ipsetsDataplane.AddOrReplaceIPSet(m.ipSetMetadata, members) m.ipSetInSync = true }",Same change just above?,"logically, this can use `cfg.StartMaster && cfg.StartNode` as well... ""if we're both a master and a node, make sure we know about ourselves"". not sure the all-in-one-ness matters","Suggest this should have a unit test, even though it doesn't seem exactly complex.",There is a similar GetValidatorPeers() function in consensus/consensus.go,**suggestion [non-blocking]**: It may make sense to wrap the logger passed here with a `component` field?,"Was this a ""bug"" before?",Maybe `DeleteMemberDCLocationInfo` is a better name?,Can we keep this simple and return by value instead of pointer? NamespacedService is not a big struct so return by value should suffice.,I'd demote these filters to Infos,How about `there is a member that has not been joined successfully`? PTAL @CaitinChen,"We will end up making an `type Service interface {....}`, it's bound to happen one day"
"@@ -511,4 +511,14 @@ describe('services_SearchEngine', function() { expect((await engine.search('""- [ ]""', { searchType: SearchEngine.SEARCH_TYPE_BASIC })).length).toBe(1); expect((await engine.search('""[ ]""', { searchType: SearchEngine.SEARCH_TYPE_BASIC })).length).toBe(2); })); + + it('should not mistake cyrillic ""l"" for latin ""n""', asyncTest(async () => { + const n1 = await Note.save({ title: 'latin n', body: 'n' }); + const n2 = await Note.save({ title: 'cyrillic l', body: 'л' }); + + await engine.syncTables(); + + expect((await engine.search('n')).length).toBe(1); + expect((await engine.search('л')).length).toBe(1); + })); });","Could you check the result content rather than just the number of search results please? For example with this test if the search engine suddenly starts returning ""latin n"" for both queries, we won't know about it.",Why the code change here?,Can you explain this better? How does it break?,Interesting that `.min.js` files are no longer oneliners. But not **that** interesting to see what changed in highlight.js build pipeline  ,maybe the ads with script should be the canonical? we do want people to explicitly add the script tag.,I am not sure why it started failing - does anyone have any ideas?  ,A null check in `deleteNoteIndex` should be sufficient to re-enable this test.,A null check in `deleteNoteIndex` should be sufficient to re-enable this test.,"nit: For uniformity, remove quotes around the `chrome_canary` key","according to its method definition, `setAsync` only accepts `{function(...*):!Promise<ResolverReturnDef>}` as the 2nd argument. Why do we need to handle the falsy value here?",I think we just want `toBeTrue` here. Looks ok to me
"@@ -47,9 +47,10 @@ const ( otherDomainID = ""spiffe://otherdomain.test"" - serverID = ""spiffe://example.org/spire/server"" - agentID = ""spiffe://example.org/spire/agent/test/id"" - workloadID = ""spiffe://example.org/workload"" + serverID = ""spiffe://example.org/spire/server"" + agentID = ""spiffe://example.org/spire/agent/test/id"" + agentlessID = ""spiffe://example.org/test/id"" + workloadID = ""spiffe://example.org/workload"" // used to cancel stream operations on test failure instead of blocking the // full go test timeout period (i.e. 10 minutes)",nit: I think that `workloadID` should suffice for this test... that's what we'd be issuing anyways,"Instead of finiteNumber, can you just round up to nearest whole number and consider adding warn? Otherwise the number is just not honored. Also are you positive the typing is passed correctly given this is parsed from a string? Perhaps parseInt is sufficient which will cut the decimals?",Are we keeping `v20170831` and `v20180331` around in the AKS Engine codebase?,Would it be possible to add `renderStartImplemented` functionality? This helps us serve ads as fast as possible to users.,I don't see you using this yet. Presumably you'll remove and handle in second PR?,Being that we already have an `action_store.yml` why not place the action token inside of this file? Why the need to seperate it into its own file?,note: this is breaking between 7.8 and 7.9 so maybe we should put a note that agent might change ID in between versions when updating from 7.8,"Is `'src/service/url-replacements-impl.js',` an exception? It's very possible that amp4ads use some other service which then use cid service. But I guess that's fine, because we reject the cid service in amp4ads anyway.",this can be problematic. we should change this.consentConfig_ to this.consentConfigPromise_. all the read of this.consentConfig_ shall wait for the promise.,Consider using basestring instead of str unless you specifically don't want to allow unicode arguments.,"With this change can we move the default up to info? Debug level is still causing duplicate events, which still needs to be solved even in debug."
"@@ -1,4 +1,4 @@ -require 'spec_helper' +require 'rails_helper' feature 'Admin manages mentors' do scenario 'creating a new mentor' do",Prefer double-quoted strings unless you need single quotes to avoid extra backslashes for escaping.,I need this to run a sample number of tests :),What's the need for the above two lines?,I think this is one of those things that makes it easier for us devs but harder for anyone coming to the codebase for the first time so I'm going to edit it out during the rebase/merge - sorry!,Use the new Ruby 1.9 hash syntax.,do we need this in `development.rb` or `test.rb`?,do we need this in `development.rb` or `test.rb`?,how about `||=`,"I did do a check on where we using this, but just want to highlight that I'm removing the ActiveJob Test helper.",why put the JS file here? I don't think it makes sense? Let's just move `recovery_code_controller.js` to `app/assets/javascripts`?,why put the JS file here? I don't think it makes sense? Let's just move `recovery_code_controller.js` to `app/assets/javascripts`?
"@@ -204,11 +204,7 @@ public class ClassTypeResolver extends JavaParserVisitorAdapter { if (className != null) { populateClassName(node, className); } - } catch (ClassNotFoundException e) { - if (LOG.isLoggable(Level.FINE)) { - LOG.log(Level.FINE, ""Could not find class "" + className + "", due to: "" + e); - } - } catch (NoClassDefFoundError e) { + } catch (ClassNotFoundException | NoClassDefFoundError e) { if (LOG.isLoggable(Level.FINE)) { LOG.log(Level.FINE, ""Could not find class "" + className + "", due to: "" + e); }",We should have a rule to detect identical catch branches,Add link to ClassNotFoundException,"I think LinkageError might be a little more robust here, would love to hear what @jasontedor has to say.","Just a minor one, if it's not null we can assume it exists.",Is an explicit `Sidecar18-SE` needed? It is the default `JPP` flag supported.,why not `io.opentelemetry.auto.shaded.org.slf4j`?,Wonder why these are not using `invoke`.,@Scottmitch was this an unused import we did miss ?,no need empty line here,"Hello @dufoli , won't this cause a problem if the `!` character isn't part of the `String` `i`, in which case `lastIndexOf` will return -1?",Do we need to close the stream as well?
"@@ -28,10 +28,6 @@ namespace Microsoft.DotNet.Build.Tasks.Feed public bool PublishFlatContainer { get; set; } - public int RetryAttempts { get; set; } = 5; - - public int RetryDelayInSeconds { get; set; } = 30; - public int MaxClients { get; set; } = 8; public bool SkipCreateContainer { get; set; } = false;",remove these from the targets file.,"[Discussion Question] Do we need this config still? As we get this value anyway from maxRetryTimeOut. (Only case we get now is when retryCount obtained from maxRetryTimeOut is less. I have a mixed view, in few cases, it will help, if the client wants to retry more time than the value we obtain. Not completely sure do we want it or avoid it.",I think after merging #1739 we can remove this setter and its property altogether. Having the `protected getAsyncReplySupported()` we good to go with your internal logic around `this.correlationKey`.,"As the `DefaultTicketRegistry` lies in memory, what's the advantage of encrypting tickets? As it's mostly used in development, it makes debugging harder.",instead of adding extra state can we just allow `gracefulShutdownTimeoutMillis` to be negative and that represent infinite time?,"I'd say that `volatile` must be present exactly on the other variables rather than those which is populated through setters. It's rare operation, but not those which is done from the `handleRequestMessage` and that scheduled task. Or don't I just understand the `volatile` premise?..",@doom369 as this is package-private we can just remove the class imho.,Nit: Perhaps this should be a file-level constant.,Nit: Perhaps this should be a file-level constant.,"I think this is fine, but am going to ask just to be 100% sure, should this be in a conf file so it could be adjusted? I don't think so, but I'm not positive.",Is this test really specific to DTC? I guess the only requirement here should be that the endpoint is transactional.
"@@ -11,14 +11,13 @@ import ( ""time"" ""github.com/ethersphere/bee/pkg/addressbook"" + ""github.com/ethersphere/bee/pkg/bzz"" ""github.com/ethersphere/bee/pkg/hive/pb"" ""github.com/ethersphere/bee/pkg/logging"" ""github.com/ethersphere/bee/pkg/p2p"" ""github.com/ethersphere/bee/pkg/p2p/protobuf"" ""github.com/ethersphere/bee/pkg/storage"" ""github.com/ethersphere/bee/pkg/swarm"" - - ma ""github.com/multiformats/go-multiaddr"" ) const (","now that we have the signature in the hive messages, it might be that this must be drastically reduced, since there are limits on the protobuf reader/writers i believe",remove empty line?,Please add Gitea copyright to header.,It won't like this empty line ),It won't like this empty line ),"You can remove every `mapstructure:"",squash""` now :)",could you move the fmt on the top to have the standard imports together?,nit: there should be no newline here.,Probably nicer for clarity and consistency here to make this a `time.Duration` as well and pass `disconnectTimeout.Milliseconds()` to the mqtt lib,can be a bit more verbose here.,Remove empty line?
"@@ -35,11 +35,12 @@ NAMESPACE_PACKAGES = [ REQUIRED_PACKAGES = [ # Installation related. 'anytree==2.4.3', - 'google-api-python-client==1.7.7', - 'google-auth==1.6.2', + 'google-api-python-client==1.7.10', + 'google-auth==1.6.3', 'google-auth-httplib2==0.0.3', 'Jinja2==2.10.1', 'jmespath==0.9.3', + 'mailjet-rest==1.3.3', 'netaddr==0.7.19', 'pyyaml==4.2b4', 'python-graph-core==1.8.2',","I recommend that we move this to be optional, as other users might not need it. Can you look at `OPTIONAL_PACKAGES` section, around line 68?","I think this should really be a test-only dependency, but it predates us separating those out. Would it also unblock you if we move this to `REQUIRED_TEST_PACKAGES` so it's not required by default?","Could we pin this similar to the other things here, with <7.0.0. Do you know what is the backward compatibility policy for googledatastore?","I'm not seeing this package in pypi, is that going to be a problem?","I worry about what will happen when, say, tensorflow (or any other library) moves to upgrade the protobuf they use. The upgrade / compatibility story may be painful, since we would need to coordinate an upgrade with their release. But I don't see a good way around this here.",Consider adding an upper bound of <0.7.0,"@chamikaramj, how would we go about specifying 'libsnappy-dev' which is a dependency for this? By the way, if we don't have a solution for this at the moment, I can submit the PR without the change to setup.py (until we know how to deal with it), so that we don't block other related work.","How about: `pytz>=2018.3,<=2018.4` There is no reason for us to not support both versions. It gives more flexibility to end users.","this should be in GCP_REQUIREMENTS, not in REQUIRED_PACKAGES. Why do you find you need it here?",Note to self: need to not forget to update it in conda package deps.,"Why are we not using the latest version? Could you include an upper bound also (e.g `,<4`)"
"@@ -8,10 +8,7 @@ package javaslang.control; import javaslang.Serializables; import org.junit.Test; -import java.util.Iterator; -import java.util.NoSuchElementException; -import java.util.Objects; -import java.util.Optional; +import java.util.*; import static org.assertj.core.api.Assertions.assertThat; ",I usually set idea to never use wildcard import such as `import java.util.*;` Now i use setting from javaslang standard.,"I don't know if this is safe. When is the platform code first installed, and where is the first `setCookie` call?",Is this a correct change? from two arguments to one?,Don't use import * pls.,"Switch back to individual imports, not wildcard.",why two of them here?,why is this test not impacting in heisenberg.json?,"unused, but not a big problem","Kinda weird, ideally should mock `isScopeSelectorSupported` instead.",I believe there're a bunch of internal class names that are only reserved for AMP only. For example everything starts with `i-amphtml-*`. Could you please double check? Thank you,Did you forget to commit this file?
"@@ -29,7 +29,9 @@ module Beaker v_file << "" v.vm.box = '#{host['box']}'\n"" v_file << "" v.vm.box_url = '#{host['box_url']}'\n"" unless host['box_url'].nil? v_file << "" v.vm.base_mac = '#{randmac}'\n"" - v_file << "" v.vm.network :private_network, ip: \""#{host['ip'].to_s}\"", :netmask => \""#{host['netmask'] ||= ""255.255.0.0""}\""\n"" + host['ips'].each do |ip| + v_file << "" v.vm.network :private_network, ip: \""#{ip.to_s}\"", :netmask => \""#{host['netmask'] ||= ""255.255.0.0""}\""\n"" + end if host['disk_path'] v_file << "" v.vm.provider :virtualbox do |vb|\n""",Where is host['ips'] coming from?,prefer if !nic[:alias_ids].nil? for single statements,If you enter `0:0:0:0:0:ffff:7f00:1/64` in the console it reports as `0000:0000:0000:0000:0000:0000:0000:0000/64` when you refresh. Replace with a more usual IPv6 CIDR.,@ryndaniels FYI looks like there was one last one  ,W1638 range built-in referenced when not iterating,@ravening can you move this to line 497 and test it ?,maybe we need this to fail with an error message instead of 'rescue 0'?,nit: You don't need to check this here. You know `realpath in vhost_paths.keys()` is `True` because you checked the opposite in the `if` statement.,FIX! this was being set incorrectly before,FIX! this was being set incorrectly before,"too many arguments, let's use a hash"
"@@ -3,14 +3,7 @@ package userns -import ( - ""strings"" - - ""github.com/opencontainers/runc/libcontainer/user"" -) - -func FuzzUIDMap(data []byte) int { - uidmap, _ := user.ParseIDMap(strings.NewReader(string(data))) - _ = uidMapInUserNS(uidmap) +func FuzzUIDMap(uidmap []byte) int { + _ = uidMapInUserNS(string(uidmap)) return 1 }",oh! missed a `:` here; let me fix that; also can get rid of the intermediate variable,is the function supposed to be used only with `findUID(0)` as it seems in the current version? Otherwise it needs to check if the uid is in the `[idmap.ContainerID; idmap.ContainerID+idmap.Size)` range and the offset must be added to the return value.,(the important part - loading a uid/kid for a team sigchain link),This should fix the public key not found issue,"I'd prefer we don't alias this as `v1` but more concretely as `configv1`, same applies to other places where `v1` was used.","Also cc @mmaxim this seems to have fixed my standalone issue. It also sometimes happened during normal daemon mode, I couldn't pinpoint it to anything though (nuking db didn't seem to change anything for better or worse). From my limited understanding of this code, it seemed like `findUsernamePackageLocally` was returning <nil> FullName and OK status despite `forceNetworkForFullNames` being true. It looks like `findUsernamePackageLocally` doesn't even check for `forceNetworkForFullNames`.",If you think it's better I can make this take an options struct or split it out into different functions so callers aren't passing in default values.,Does this mean the api changes? I think this wouldn't have errored before.,arg.MetaContext() is a bit friendlier,Does this work with usernames not in /etc/passwd?,"lite isn't really used in the app, just killed it"
"@@ -1,6 +1,8 @@ describe ""Display status text"" do let(:proposal) { FactoryGirl.create(:proposal, :with_parallel_approvers) } before do + proposal.approvers.first.update(first_name: ""Uniquely"", last_name: ""Named"") + proposal.approvers.second.update(first_name: ""Onlyof"", last_name: ""Itskind"") login_as(proposal.requester) end ",Is this necessary?,Trailing whitespace detected.,Did you change all the places where we call this method using the 2nd arg?,are we using `described_class` in this test suite?,are we using `described_class` in this test suite?,this was just de-namespaced/moved,this was just de-namespaced/moved,Missing space after #.,Interesting... this argument wasn't doing anything before?,Interesting... this argument wasn't doing anything before?,this isn't used implicitly for error messages?
"@@ -1,8 +1,16 @@ -import React from 'react'; +import React, {Component} from 'react'; import 'element-theme-default'; import {i18n} from 'element-react'; import locale from 'element-react/src/locale/lang/en'; +import storage from './utils/storage'; +import logo from './utils/logo'; +import {makeLogin, isTokenExpire} from './utils/login'; + +import Header from './components/Header'; +import Footer from './components/Footer'; +import LoginModal from './components/Login'; + i18n.use(locale); import Route from './router';",I'd create a different method for each render section.,You should remove the logs - that will probably cause the build to fail (I guess we check this in the lint configuration),You should remove the logs - that will probably cause the build to fail (I guess we check this in the lint configuration),please name it as `user-management` as service is used only in context of angular,please name it as `user-management` as service is used only in context of angular,why removing this? Are they mocked by jest himself?,why removing this? Are they mocked by jest himself?,"I wanted to store all the settings in one bunch, but maybe `uiState` doesn't reflect the intention for all sorts of settings. So here I tried to extend this interface, but also planning to dive deeper in Apollo framework, to see how it can handle remote and local data uniform way.","I wanted to store all the settings in one bunch, but maybe `uiState` doesn't reflect the intention for all sorts of settings. So here I tried to extend this interface, but also planning to dive deeper in Apollo framework, to see how it can handle remote and local data uniform way.","$scope.$on, not $rootScope.$on Can we also move the content of initValues function inside this block since this is the only one calling that function?","$scope.$on, not $rootScope.$on Can we also move the content of initValues function inside this block since this is the only one calling that function?"
"@@ -23,6 +23,8 @@ public class EstimateGasOperationTracer implements OperationTracer { private Gas sStoreStipendNeeded = Gas.ZERO; + private boolean isReverted = false; + @Override public void traceExecution( final MessageFrame frame, final OperationTracer.ExecuteOperation executeOperation) {",Instead of storing the revert flag in the tracer is it possible to use org.hyperledger.besu.ethereum.mainnet.TransactionProcessor.Result#getRevertReason? (via org.hyperledger.besu.ethereum.transaction.TransactionSimulatorResult#getResult)? If a TX reverts without a reason do we get an empty revert reason or a revert reason with zero bytes?,Please do reformattings in separate commits in the future. Having formatting mixed with actual code changes makes it harder to review pull requests.,Should we add `@Expremental`? How to decide what piece of SDK is user facing?,Is it possible to only call `asJavaProperties` once?,Can we be sure that `tracer()` will never be `null`?,"Again, this will look terrible in logs. Keep this in mind...",In a case where `properties.get(PARAM_NAME)` returns null the code will fail at line `90` and before this cleaning it failed on `if (trashValue)`. I think in a cleanup / format we not want to change the behaviour -> just keep the wrapper type.,"This worries me a little, as it may conflict with the presence of an OpenTelemetry SDK provided by an observabilty provider (maybe). I know we discussed it, and I get a little confused. If the tracer name is only used to allow ""traces produced by library x"" to be disabled (where from the open telemetry perspective, quarkus is just another library), this is probably ok.","If this is test-only, it should be restricted",nit: Should we note that the user is not expected to call this manually ?,fields should be lower-case?
"@@ -71,7 +71,7 @@ public class TestSparkOrcReader extends AvroDataTest { try (CloseableIterable<InternalRow> reader = ORC.read(Files.localInput(testFile)) .project(schema) - .createReaderFunc(SparkOrcReader::new) + .createReaderFunc(readOrcSchema -> new SparkOrcReader(schema, readOrcSchema)) .build()) { final Iterator<InternalRow> actualRows = reader.iterator(); final Iterator<InternalRow> expectedRows = expected.iterator();",I think this should test with and without container reuse if that is implemented in this PR. Probably just make this test parameterized.,"instead of changing this for all tests, can you override `org.apache.hudi.testutils.providers.SparkProvider#conf()` in your specific test class to pass in the configs you need for your testcase?",why are we changing places to require the implementation instead of the interface?,"ideally pass in a mock, decoupling this test from any specific implementation.","same as above. i.e., formatting doesn't look like it is inline with the template",nit: white space changes in this file.,Can you elaborate why we did not have this before?,`readSchemaPath ` -> `sourceSchemaPath`?,"I'm just liberally creating new registries in the tests where it doesn't really matter what they are. We might be able to share some instances, but I'm in the mood to keep it simple at this point in the PR.","Can you make this `PTransform<PCollection<BeamCalcRelError>, ? extends POutput>` instead? (Or really `PTransform<PCollection<Row>, ? extends POutput>`)",I'm not sure if there's a compelling reason to keep this now that I'm mocking some config behavior?
"@@ -100,6 +100,10 @@ abstract class BaseFile<F> found = true; fromProjectionPos[i] = j; } + if (fields.get(i).fieldId() == ManifestFile.SPEC_ID.fieldId()) { + found = true; + fromProjectionPos[i] = 14; + } } if (!found) {",These modifications allow BaseFile to translate into a SparkRow with the specID as a column,why choose ByteStreams over IOUtils?,"OK, I guess this is the reason why you stopped setting this flag in set_FullName.",Is this used?,"Kept `SYSTEM` around for now, so that using a later CLI with old server doesn't result in a deserialization error. Not strictly necessary, but simple to do.",Change this to do a directly listing of a specific path.,"so, maybe `FileEntriesSerializer` shouldn't inherit from `FileSerializer` any longer if it's not using any of it's fields or methods?",Nit: add trailing comma,"Since it is a public API, should we leave an option of `FsSpecConsumer(Config config)` (by calling this constructor)?","Maybe this method should just throw an UnsupportedOperationException(), instead of returning a wrong result.",This was only used in a test and it is problematic as we may not have registered the methods yet when we try to call this
"@@ -519,7 +519,7 @@ function resolveReadPreference(parent, options) { throw new Error('No readPreference was provided or inherited.'); } - return readPreference; + return typeof readPreference === 'string' ? new ReadPreference(readPreference) : readPreference; } /**",is this something we've been missing this whole time?,I missed `boolean` here,This type had been incorrect,"If the app had started up with real time turned off, turning it on without restarting the app wouldn't then call `loadDictionary()` to ensure that Typo.js was loaded.",Do we need to check the `fnPtr`?,"> ... and functions ... No, JavaScript does not report the type of a function as an object, even though they are object-like. `isObject()` will return false for functions","This means that the whole Object will be serialized as `""null""` even if one sub-property is an invalid date. This is inconsistent with other browsers and doesn't feel right either. I think it is more appropriate to handle this inside the `toJsonReplacer()` function.","We can't I set ""constructor"", when I can get it?",should this be returning the result of the assign?,"sorry, but we need a more solid test than this :)",Use `fs.existsSync` instead.
"@@ -25,6 +25,7 @@ import ( const ( defaultWaitApprovalTimeout = Duration(6 * time.Hour) defaultAnalysisQueryTimeout = Duration(30 * time.Second) + allEvents = ""*"" ) type GenericDeploymentSpec struct {",nit: this is a package-wide constant so better to narrow the scope like `allEventsSign`.,"[non blocking, just FYI] You can achieve the same with `flagext.DefaultValues()`.",@derekwaynecarr more proof why these need to diaf,I understand you plan to use this in other metricsets? :+1:,i had a dream about this being annoying because we would have to specify the tables. i'm glad that was just a nightmare,struct field AwsApiTimeout should be AwsAPITimeout,@kargakis I thought we were trying to eliminate client methods like this.,Same - why is this separate from other imports?,"When I've tried in the AWS Console, it doesn't accept `~` or `.`",should we be using Ginkgo here considering this test is written using the standard Go testing library?,Updating the node-state index name because of the re-index.
"@@ -111,6 +111,15 @@ def generate_thrift_files(thrift_files_dir, env, silent=True): LOG.error('Failed to generate viewer server files') return ret + auth_thrift = os.path.join(thrift_files_dir, 'authentication.thrift') + auth_thrift = 'authentication.thrift' + auth_cmd = ['thrift', '-r', '-I', '.', + '--gen', 'py', auth_thrift] + ret = run_cmd(auth_cmd, thrift_files_dir, env, silent=silent) + if ret: + LOG.error('Failed to generate authentication interface files') + return ret + # ------------------------------------------------------------------- def generate_documentation(doc_root, env, silent=True):",There seems to be some repetition. Does a local function make this code shorter overall?,"Better add it as last argument, just in case someone is using ``tools.run_in_windows_bash`` with positional args.",Is that a lack of oxford comma I see? Probably because other parts are hogging all the commas.,this was a change for preventing stateful test failures in `test_client` whenever your credentials file exists but is empty,"This one is only used in check-ignore, so let's make `ask` public and use it directly in `check-ignore`.",What's causing us to have to escape these characters again? The fact that we're writing it back into Python code?,"""can no longer return""","If users set pkey, the password will be None?","If users set pkey, the password will be None?","I really think that ""-n"" is bad name to use here.","I moved this closer to where the configuration is set, the idea is that it should be easier to understand the flow of the data."
"@@ -298,6 +298,7 @@ function diffElementNodes( } if (dom == null) { + isHydrating = false; if (newVNode.type === null) { return document.createTextNode(newProps); }",Might be cheaper to reuse the `null` assignment of line 313 and set `isHydrating` to null instead WDYT?,let's not have it here. you can have a module level local var in amp-ad-exit to store this.,Shouldn't this just take the place of the `@this` annotation above?,Nit: Why not export as `ieIntrinsicCheckAndFix`? It makes grep'ing easier.,can you explain why we need a specific one for live story? why wouldnt `disabled` just work for that scenario?,"FYI, it's about to be renamed to `stopCallback`.",IIUC we are just pushing this logic into the existing experiment. Is that the desired behavior?,"Looks like the behavior didn't change in the refactor, but it seems weird. Why would the presence of a `value` mean setting the name attribute to an empty string?",Why isn't this using `setDOM.IGNORE`?,"Nit: This variable could be referring to an attribute value (str) or an Element, can you update the name so it's clear that it's a boolean (eg: `isRemote` / `hasHref`). Edit: if this is an unintended change, pls ignore",I think `this.location_` and `url` are always supposed to be the same (minus the additional params).
"@@ -22,7 +22,6 @@ import java.util.List; @AutoValue public abstract class TestCaseView { - public abstract String clientMethodName(); public abstract InitCodeView initCode();",Revert this blank line,Why export? Perhaps with a lower visibility?,Wouldn't be enough to leave the code as it was and just use `Optional.ofNullable`?,The message is not clear enough. I suggest `@deprecated since 5.6. Feature will be removed without any alternatives`.,you can use `<TypeOf>`,"A custom JSON decoder was needed (fun) for Instant deserialization. The server encodes instant into an epoch second plus epoch second, which seems to not be natively supported.",both are unused,Why not delete the method since CORBA is removed from Java 11?,I think it would be better to change the code to always set the property.,"This is used in two kinds of calls: 1. `RandomStringUtils.random`: its `chars` parameter is not intended for charsets, rather the set of characters to use. Eg. for `""UTF-8""` it will generate strings like `""--8F8T8U8T""`. Since we don't need this special kind of random string, this usage can be simply removed. 2. `IOUtils.toInputStream`: can accept `Charset`, too. After removing the first kind of usage, we can convert this constant to `Charset`. (I would also inline it, ie. simply use `UTF_8`.)","What's the idea behind this change, and the makeTopNResults -> makeTopNResultsWithoutRename change? It's not clear to me why the new test is better."
"@@ -50,8 +50,8 @@ public class MoveReplicaHDFSTest extends MoveReplicaTest { HdfsTestUtil.teardownClass(dfsCluster); } finally { dfsCluster = null; - System.setProperty(""solr.hdfs.blockcache.blocksperbank"", ""512""); - System.setProperty(""tests.hdfs.numdatanodes"", ""1""); + System.clearProperty(""solr.hdfs.blockcache.blocksperbank""); + System.clearProperty(""tests.hdfs.numdatanodes""); } } ",This was introduced recently for the Hadoop 3 upgrade. Copy/paste error but definitely causing some of the new test failures.,not sure if its a good idea to overload two configs like this. we may need to break this builder method up separately.,"I couldn't pinpoint a test-case where we create a brand new hoodie write client and write config (which does not have previous avro schema). If there is one already, we are good.",Could this break on older CentOS/Ubuntu KVM hosts where the backfile is not supported?,I think it's prefered to use SCMHA Configuration to set the storageDir,"I think a better name for this parameter might be: ""hdds.datanode.container.rocksdb.cache.size"" That more clearly says ""this is the cache size for the container rocksDBs"". What do you think?","This is where I was getting confused. I am inspecting the code in master, and we were only removing other snapshots, but the last one when it was not a full clone. You changed so we remove all but the last one always.","Check if debug level is enabled in the logger before logging. Also, is string formatting necessary or does the .debug method accept extra arguments for formatting?","Do we want to fail the test if `follower` is no longer a follower, or should we just ignore test result in that case? If the latter, it may be better to change this to `Assume.assumeTrue`.","Nit: will it better to use more descriptive names than variable names. For example, replace `quotaInBytes` by space quota?",NIT: can we wrap this as a helper function as I can see the initialize() has similar logic.
"@@ -2,6 +2,7 @@ class ProposalsController < ApplicationController include TokenAuth skip_before_action :authenticate_user!, only: [:approve] + before_action :check_disabled_client # TODO use Policy for all actions before_action ->{authorize proposal}, only: [:show, :cancel, :cancel_form, :history] before_action :needs_token_on_get, only: :approve",I think we should only need to do this for `:approve` since we are using `authenticate_user!` for all other actions and that checks for disabled client,How do you think about moving _enforce_https into shared utils?,Can we move the if self._cached_token_expired check into get_token method and get_token always returns a non-expiry token?,"I guess this means every release of KV now will need this new azure-identity, be sure to update the setup.py to reflect that",should be `# type: ignore`,def _need_new_token(self): # type: () -> bool return not self._token or self._token.expires_on - time.time() < 300 Seems like self._token is None is not needed?,Need to update as well?,"I'm cool with this, just wanted to ask what prompted you to enable it","While we're here, should we secure compare this?","While we're here, should we secure compare this?","the `:allow_global` flag was introduced to limit the creation of global rules from the admin interface. Given that we're now allowing that, I don't think it's really serving much purpose."
"@@ -56,9 +56,10 @@ class DefaultBucketViewTest(BaseWebTest, unittest.TestCase): self.app.get(self.collection_url, headers=self.headers) def test_querystring_parameters_are_taken_into_account(self): - self.app.get(self.collection_url + '/records?_since=invalid', - headers=self.headers, - status=400) + resp = self.app.get(self.collection_url + '/records?_since=invalid', + headers=self.headers, + status=400) + self.assertIn('Content-Length', resp.headers) def test_option_is_possible_without_authentication_for_default(self): headers = 'authorization,content-type'",I wonder if we should create new tests for header checks; here for instance we're mixing querystring and headers. Thoughts?,Because of the removed: `# FIXME: Here we hit the same remote we did before`,Not wrong but why `frozenset` and not regular `set`?,Interesting - I guess these are our first unicode URLs.,I found that the `Vary` header was now in the response with a value of `Accept-Encoding`. I'm not sure if it's worth checking any of the headers when the response is a 304.,TODO: test ``Access-Control-Allow-Origin`` in a headless test (different PR),"I'm to generalize to `MutableMapping[KT, VT]` but not `Any`","I can think of a few more tests (such as ``Content-Encoding`` already set), but I didn't make @escattone do them for GZip, and it seems those code paths are covered by other tests.","Nit: if ``Cache-Control`` isn't in the response, then the next assertion will fail with a ``KeyError``, so it isn't required to test separately, and a line can be removed.",Do we still need these three tests? Maybe one is good enought?,"For this test scenario, we have a compressed file and we want to pass `decompress=True` when stream downloading the response. This will signal to decompress the body based on the `Content-Encoding` header and then we'll successfully download the file contents (i.e. ""test"")"
"@@ -42,7 +42,7 @@ module Bolt path = File.join(libexec, 'custom_facts.rb') file = { 'name' => 'custom_facts.rb', 'path' => path } metadata = { 'supports_noop' => true, 'input_method' => 'stdin' } - Bolt::Task.new(name: 'custom_facts', files: [file], metadata: metadata) + Bolt::Task.new(name: 'apply_helpers::custom_facts', files: [file], metadata: metadata) end end ","We should be able to add sensitive by hard-coding the parameters, same as you put into the metadata in apply_helpers.","I'd prefer to make these two separate tests, using the `:hcl1_only` tag, that makes it easier to remove. Will do this now",Noice: line 1 and I'm already digging this diff!,+1 for caching the manifest,does this not need the same `support_file = true` setup?,"Sorry for coming in so late with this, but to be more consistent with our naming,m I wonder if `Markdow::Fix` and `Markdown::Traverse` would be better names?","Alternatively, we can be more specific and exclude lockfiles: `/^(?!.terraform.lock).*\.hcl$/`, but this regex is only used to determine if we should rebase etc, so I think it's  ",Extra empty line detected at class body end.,Delete this file.,Prefer single-quoted strings when you don't need string interpolation or special symbols.,Line is too long. [111/80]
"@@ -0,0 +1,11 @@ +<?php + +declare(strict_types=1); + +namespace Shopsys\ShopBundle\Model\Order\Item; + +use Shopsys\FrameworkBundle\Model\Order\Item\OrderItemFactory as BaseOrderItemFactory; + +class OrderItemFactory extends BaseOrderItemFactory +{ +}",Why do you think that it is necessary to create this class?,It should be `ApiPlatform\Core\Api\FilterInterface`.,revert this there should not be any logic here,Should I assume that `['id' => 3]` isn't valid anymore (ie: not using IRIs?),shouldn't `private` come after `protected`?,I would have added it directly in the line before.,Aren't commands discovered by symfony automatically? Why is this necessary?,It should be `ApiPlatform\Core\Api\FilterInterface`.,mhh we're not doing this anywhere else?,Line 22 `Adds filters to the resource metadata {@see ApiPlatform\Core\Annotation\ApiFilter} annotation.`?,Then return `false`?  
"@@ -18,8 +18,8 @@ type Hash struct { // // See http://docs.aws.amazon.com/amazonglacier/latest/dev/checksum-calculations.html for more information. func ComputeHashes(r io.ReadSeeker) Hash { - r.Seek(0, 0) // Read the whole stream - defer r.Seek(0, 0) // Rewind stream at end + start, _ := r.Seek(0, 1) // Read the whole stream + defer r.Seek(start, 0) // Rewind stream at end buf := make([]byte, bufsize) hashes := [][]byte{}",replacing the `1` with `io.SeekCurrent` may be good here,"Whoa whoa whoa, no snake_case in go.","Ah, this is the trade we make for the consolidated interface for users. Not a bad trade.",I feel like this change was part of another bug fix that already got merged wasn't it?,This is to prevent a race for f.offset and f.lastTimeRead. It's probably better to introduce getters which have the lock as otherwise this causes issue every time the variable is used somewhere else.,I removed this line as it generated too much debu output.,This should always be true unless `r.size` is `0` right? Assuming that's true I think it'd be clearer to just do: `if sizeLeft != 0`,what if we block on Read? Consider closing the file and do check on r.done being closed in EOF checks,"This was copying all 100 bytes of buf even if the message was shorter, and then those extra bytes were being included in the hash",Is info message enough? There is a chance we did loose lines.,"This is 32 bytes raw, not hex right?"
"@@ -0,0 +1,15 @@ +package main + +import ( + ""time"" + + ""gopkg.in/square/go-jose.v2"" +) + +type JWKSSource interface { + // FetchJWKS returns the key set and modified time. + FetchKeySet() (*jose.JSONWebKeySet, time.Time, bool) + + // Close closes the source. + Close() error +}",nit: perhaps this file would be better named `jwks_source.go` ?,The PR desc doesn't say where this bug is creating issues?! I susspect it's because we're using the key.ID to grab an advisory lock in the broadcaster!,nit: probably this import should be next to the other libbeat import blocks,"the `@timestamp` and `@metadata` keys are special and must not be written to `event.Fields`. Is this change enough? If `overwriteKeys` is true the `default` in case on the switch statement still uses `event.Fields[k] = v`, but might instead require a deep update (if k is a map).","@patrickxb this is really what I wanted to do, but everything else happened when I needed a `TeamIDWithVisibility`",Can you add gitea copyright line to header (and keep gogs one next to it)?,I'm not seeing where these deleted packages are actually used? Mind pointing me in the right direction?,again nitpick with combining imports from apm-server,please remove the extra line,This would be easier for me to follow with some more concrete variable names. Maybe `keyAge` or something instead of `diff`? And maybe give the return value an intermediate name like `isOneHourFromExpiration`?,Change to Unsafe
"@@ -153,6 +153,9 @@ public class Constants { // Overridable plugin load properties public static final String AZ_PLUGIN_LOAD_OVERRIDE_PROPS = ""azkaban.plugin.load.override.props""; + // File containing param override configs + public static final String PARAM_OVERRIDE_FILE = ""param_override.properties""; + // Azkaban event reporter constants public static class EventReporterConstants { ",It will be helpful to specify the intended priority as well for the properties within this file.,"Does this config cause any problem? AFAIK, it copied from deltastreamer.",This needs to be added in nifi.properties file in nifi-resources.,"`NACOS_NAMING_LOG_NAME` and `NAMING_LOAD_CACHE_AT_START ` are for NacosNamingService. So in dynamicCofnig, not need it, so remove it.","I actually believe we should stop adding configurations into this `ConfigurationKey` class but put all these configurations into most relevant class. The reason is if you put everything here and make them public static final, any constructs within Gobblin that carrying state can modify it without any restriction, and also you lost context on what does this configuration really mean.",Name and value don't match. Should it be source or data?,Can we also refactor the `READ_AVRO_SCHEMA_PATH ` config option. I would like to remove `READ_`. WDYT?,I don't think this is needed. It should always be done. The user can tweak stream locality through the apex properties if needed.,`Properties properties = new Properties().putAll(flowConfig.getProperties());` works,these two are repeated on SchemaConstants. Remove it from there and change all uses to these references to these ones. Also verify there're no additional repetitions,"Should be `static`. No `final` for arg, please. Your name to the `@author` list. Thank you!"
"@@ -23,6 +23,8 @@ import ( ""github.com/GoogleCloudPlatform/compute-image-tools/go/osinfo"" ) +type RunFunc func(*exec.Cmd) ([]byte, error) + var ( // AptExists indicates whether apt is installed. AptExists bool","Make this private and update all the public functions to not take this argument. The variable you set below should also be private, then in the tests instead of passing the variable in to the function just update the variable. We don't want to expose the testing implementation in the public api if it can be avoided.","Sorry, been buried in a BZ all morn. shouldn't this still be set to true by default? The change below looks really good, nice catch.",Total nit - and no change needed - but I was surprised this wasn't inverted (`if err == ErrPlugins` {`).,Total nit - and no change needed - but I was surprised this wasn't inverted (`if err == ErrPlugins` {`).,Total nit - and no change needed - but I was surprised this wasn't inverted (`if err == ErrPlugins` {`).,Breaking CLI change.,The wrap function seems unnecessary?,Move this to the other commit.,Where is this coming from? Feels like it would break compilation,"Maybe note that this mean the ""Artifact has been build with security disabled""? Because removing that warning is only doable by recompiling.","Found a typo here while playing with Docker tests. ""deprectad"" is on a couple of different lines."
"@@ -1956,7 +1956,7 @@ SDDkwd__(EXE_DIAGNOSTIC_EVENTS, ""OFF""), DDkwd__(HIVE_DEFAULT_CHARSET, (char *)SQLCHARSETSTRING_UTF8), DD_____(HIVE_DEFAULT_SCHEMA, ""HIVE""), DD_____(HIVE_FILE_CHARSET, """"), - DD_____(HIVE_FILE_NAME, ""/hive/tpcds/customer/customer.dat"" ), + DD_____(HIVE_FILE_NAME, ""/user/trafodion/hive/tpcds/customer/customer.dat"" ), DD_____(HIVE_HDFS_STATS_LOG_FILE, """"), DDui___(HIVE_INSERT_ERROR_MODE, ""1""), DDint__(HIVE_LIB_HDFS_PORT_OVERRIDE, ""-1""),",Do you now why is it a specific table name is used as a default?,(style) line over 80 characters,(style) line over 80 characters,"Seems like current code added support only for `\\host\path` (UNC) paths, not `\Device\path` paths so I'd leave the `\Device\` part of todo. seems like it's least popular of paths on windows tho.",Security: create directory for storing the server's public key that has been downloaded from the server.,"Minor CheckStyle violation (unused import), I will remove before merging your PR. For the future, you can run ""mvn clean install -Pcontrib-check"" from the nifi-nar-bundles/nifi-hive-bundle to catch these errors (and any compilation or unit test errors).",why are we excluding self_test?,I am surprised you don't have to update any hash,"Better to simply leave out the array-size altogether. Then, next time someone adds an entry to the array, forgetting up update this line won't be a problem !",do datasets need the shared param?,"does it make sense to give a specific amount here? guess it could vary widely, depending on repo size and what you do?"
"@@ -414,8 +414,8 @@ namespace Microsoft.DotNet.Build.Tasks return Environment.GetEnvironmentVariable(""TMPDIR""); else if (DirExists(Environment.GetEnvironmentVariable(""TMP""))) return Environment.GetEnvironmentVariable(""TMP""); - else if (DirExists(""/home/DDITAdministrator/myagent/_work/_temp"")) - return ""/home/DDITAdministrator/myagent/_work/_temp""; + else if (DirExists(Path.Combine(Environment.GetEnvironmentVariable(""HOME""), ""myagent/_work/_temp""))) + return Path.Combine(Environment.GetEnvironmentVariable(""HOME""), ""myagent/_work/_temp""); else { Log.LogMessage(""No TEMP dir found."");","If all you're doing is checking for the existence of a directory as your ""temp"" directory, why does it matter what OS you're on?",I would just skip defining `WORKSPACE_TMP` in this case.,Why is this CORERT only?,"Since the regular expression is being used in multiple places, I would recommend making this a `public static final` constant in one of the toolkit utility classes.",How come this is needed? To handle Windows paths?,"@monikaprabhu: Thanks for adding. Just note that this behavior will work for any file with the Manula Flag set, not just VM related files",When will this case be true?,@steveisok this will also be reenabled as part of your PR right?,was this a necessary change for some reason or just a nice cleanup unifying tests?,would you remove the extra lines,@rsimha do you mind re-reviewing this part. had to whitelist files in build-system/babel-plugins test/fixtures
"@@ -60,10 +60,11 @@ package server import ( - ""fmt"" + v2 ""github.com/algorand/go-algorand/daemon/algod/api/server/v2"" + ""github.com/algorand/go-algorand/daemon/algod/api/server/v2/generated"" ""net/http"" - ""github.com/gorilla/mux"" + ""github.com/labstack/echo/v4"" ""github.com/algorand/go-algorand/daemon/algod/api/server/common"" ""github.com/algorand/go-algorand/daemon/algod/api/server/lib""",nit- would be cleaner to import it once,I would call this envoyRoute,"whoa, that's interesting... I don't see that problem locally, but I might be using an older version of goimports.","This is already imported, under a different name, one line above.",This now is guaranteed not to grab things off github.,This now is guaranteed not to grab things off github.,This now is guaranteed not to grab things off github.,"[nit] looks a bit out of place, should be in the last block below.",Not sure this map is thread-safe. And I also don't think it should be globale. You are creating a new map at each config reload. And there is also one in `middlewares/logger.go`. Do you really need this one ?,"v2 is a bit ambiguous, envoyV2? For ex `v2.DiscoveryResponse` seems a bit odd compared to `<envoy|envoyV2>.DiscoveryResponse`",Please use `github.com/ngaut/log`.
"@@ -159,6 +159,14 @@ class GenericProxyHandler(BaseHTTPRequestHandler): # allow pre-flight CORS headers by default if 'Access-Control-Allow-Origin' not in response.headers: self.send_header('Access-Control-Allow-Origin', '*') + if 'Access-Control-Allow-Headers' not in response.headers: + self.send_header('Access-Control-Allow-Headers', ','.join([ + 'authorization', + 'x-amz-content-sha256', + 'x-amz-date', + 'x-amz-security-token', + 'x-amz-user-agent' + ]) self.end_headers() if len(response.content):",Looks like there is a closing parenthesis `)` missing here.,"Why Mutable? We're just reading it here, and ""MutableMapping"" is a subtype of ""Mapping"", so Mapping should not matter","Is there a reason for having the token prepended with ""Bearer""? It seems not super necessary to me",I don't quite understand what the purpose of this is?,Is this not creating a list of a list?,How do you think about moving _enforce_https into shared utils?,"`request.http_headers.set_default('content-type', 'application/xml; charset=utf-8')`?",Then the pipeline will call on_request or send or both? Do we have a design for this scenario? @annatisch,breaking change ... you can extend but dont remove,"You can't change this signature, since it's coming from your inheritance. Add a pylint ignore if necessary. I'm surprised you don't get a pylint warning saying you don't inherit your base class",def _need_new_token(self): # type: () -> bool return not self._token or self._token.expires_on - time.time() < 300 Seems like self._token is None is not needed?
"@@ -1684,8 +1684,8 @@ void PairTlsph::coeff(int narg, char **arg) { } // end energy release rate failure criterion else { - sprintf(str, ""unknown *KEYWORD: %s"", arg[ioffset]); - error->all(FLERR, str); + snprintf(str,128,""unknown *KEYWORD: %s"", arg[ioffset]); + error->all(FLERR, str); } }",this one bothers me. There are many places where this one is written to for an error message and just a single callsite is changed.,"Shouldn't this assert still be somewhere, since you are still using binary and instead of division ?",should we be testing this kind of thing?,"@jimis: we should probably have a matching `#pragma GCC diagnostic warning` after the function (or functions) for whose benefit this is included (and, at least, before the `#endif` for TEST_SNPRINTF).","This should not be necessary, or is the wrong place to fix the buffer overrun. If `cnt >= sizeof(strerror_pool)` then the string did already exceed the array bounds.",Is it really a really a good idea to remove the pvk related command line option(s) without substitution? It might be better to leave them in place to provide a better error message when failing.,`4 * sizeof(...)`?,not sure if the `for keygen` should be also dropped from the text,I think we can get rid of this nonsense.,"Hmmm. Actually, on second thoughts, if strerror_r is well behaved, this should never happen, right?",Why do we need a new function for this? Seems like a trivial wrapper.
"@@ -706,6 +706,7 @@ func TestKBFSOpsGetBaseDirChildrenCacheSuccess(t *testing.T) { ops := getOps(config, id) n := nodeFromPath(t, ops, p) + config.mockMdserv.EXPECT().FastForwardBackoff().AnyTimes() children, err := config.KBFSOps().GetDirChildren(ctx, n) if err != nil { t.Errorf(""Got error on getdir: %+v"", err)","You can put this in `kbfsOpsInit()` in you want, so we don't have to call it in every test.","I agree with @rtribotte, I would also prefer to be more explicit and declare each test cases.",Is this a bugfix?,Did this part get accidentally committed maybe?,You should test this but I think by doing `Debugf` here you'll make it so these don't show up when users run the code since the debug level is set at `Info`. `Infof` will show up though.,"This is stuttering (retry.RetryWithConfiguredTime) also you don't need a function, just set DefaultMaxElapsedTime to the value you desired before calling Do, that's why they are exported",Thanks for this change :) I should have made that long ago.,Maybe we can add an option for it and we don't need two functions.,"This still sometimes races, although I'm inclined to merge with it anyway.","Small quibble to have `ctx` on the next line down, and keep the rest of the params on lines less than 80 chars.","It's a bit confusing that this is declared all the way up here, when it isn't used until the `TogglePrefetcher` much lower. Or did you intend to use it in the `TogglePrefetcher` on line 1864?"
"@@ -528,8 +528,10 @@ drx_insert_counter_update(void *drcontext, instrlist_t *ilist, instr_t *where, } } #elif defined(AARCHXX) +# ifdef ARM_32 /* FIXME i#1551: implement 64-bit counter support */ - ASSERT(!is_64, ""DRX_COUNTER_64BIT is not implemented""); + ASSERT(!is_64, ""DRX_COUNTER_64BIT is not implemented for ARM_32""); +# endif /* ARM_32 */ if (use_drreg) { if (drreg_reserve_register(drcontext, ilist, where, NULL, &reg1) !=","`ARM_32` is what clients define as an input to DR, and is not always defined internally: we use just `ARM` to mean AArch32.",is defined in interrupt.h platform specific header? Is this more accurate?,"Are you sure this ROM isn't on the PCB? If it is, I believe the policy is to load it, even if it is unused.","I'd be tempted to make a hard assert here. Seriously, if we have a `cap` value that's *internally* set to something higher than our own maximum, we've implemented it wrong.","My indentation was even worse, but yours is still off-by-one, you need to add one more space (lines 382-384).",Maybe this error should be covered by a test.,"That's not a very nice workaround. What methods did you try? If there really is no other way, can't you pretend this internal rom is external?",Does someone over at the cheats forum want to make a cheat for this?,"it is in byte now as well, is not it?","I'm confused, too, Your added bios rom for gl1500sl is 100% the same as the current gl6000sl in source. Can you explain how or what brings you to this conclusion that these are the same?","This should be a warning or info then, but not an error."
"@@ -38,8 +38,11 @@ import javax.annotation.Nullable; /** A field declaration wrapper around a Discovery Schema. */ public class DiscoveryField implements FieldModel, TypeModel { private final List<DiscoveryField> properties; + // Dereferenced schema for use rendering type names and determining properties, type, and format. private final Schema schema; - private final Schema originalSchema; // Not dereferenced schema. + + // Not dereferenced schema; used in rendering this FieldModel's parameter name. + private final Schema originalSchema; private final DiscoApiModel apiModel; /* Create a FieldModel object from a non-null Schema object, and internally dereference the input schema. */",s/for use/to use for/,do we need `toLowerCase()`. avro is case sensitive?,`other.getKey().getName().getLocalPart().equals(field.getKey().getName().getLocalPart()))` => `MetadataTypeUtils` ?,All of these fields are immutable. Add `final`?,I believe all event handlers above should be nullable,@prashantwason : doesn't line 299 needs fixing too? basically any calls to SchemaCompatibility.* should need a fix wrt reader and writer schema arg right?,"This is a problem, but maybe we can copy the TypeInfoToSchema class and customize it so that it uses the compat helper. Not great, but I think the blast radius will be small and manageable.",Shall we change this line as well to consistently use the object API ?,would `info.GetMethod?.IsPublic` be more concise?,"This could be marked by multiple different threads concurrently, so we need to make sure that it is protected. Marking it as 'volatile' should take care of this.","This is an internal function call that is being used by both `rewriteRecordWithOnlyNewSchemaFields` and `rewriteRecord`. `getAllFieldsToWrite` does not really make sense in case of `rewriteRecordWithOnlyNewSchemaFields` and won't really do anything in that case because old and new schema is same. I think it would be better to refactor `rewrite` to receive `List<Schema.Field> fieldsToWrite` as a parameter instead of `schemaWithFields`. In case of `rewriteRecord` we can call `getAllFieldsToWrite` and pass its value in the parameter, while in case of `rewriteRecordWithOnlyNewSchemaFields` just pass `schema.getFields()` here."
"@@ -60,7 +60,7 @@ class UserCreatedEventProjector 'language' => $event->getLanguage()->getCode(), 'password' => $event->getPassword()->getValue(), 'is_active' => $event->isActive(), - 'avatar_id' => $event->getAvatarId() ? $event->getAvatarId()->getValue() : null, + 'avatar_filename' => $event->getAvatarFilename() ? $event->getAvatarFilename()->getValue() : null, ], [ 'is_active' => \PDO::PARAM_BOOL,",` $event->getAvatarFilename()` this function return `string` or `null`. In this place ` $event->getAvatarFilename()->getValue()` return `Fatal error `,mt_rand really is fine for this. base 36 just to make it shorter.,"maybe we could describe the more specific term (start, archive) and have the more generic one as alias (time, name).",Please update the database docs under `doc/database/db_locks.md`,"Brackets were left here on purpose? With multiline strings, we don't actually need them.","Brackets were left here on purpose? With multiline strings, we don't actually need them.","Actually, given the escaping of the single backslash, do we still need to escape the case when a backslash is followed by quote ?",Don't modify the existing migration. Make a new one.,"This field does not exists. Field to store keywords of file is ""keywords""",we should use the same method to get the entity in all functions here... sometimes it uses `$this->getFileVersion()` and the others uses `$this->entity` could you change it to the same in this PR?,must use if (!empty($filearray[$key]['rowid']) && $filearray[$key]['rowid'] > 0) { to have same effect.
"@@ -34,7 +34,7 @@ import ( var ( // ErrPersistenceLimitExceeded is the error indicating QPS limit reached. - ErrPersistenceLimitExceeded = serviceerror.NewResourceExhausted(""Persistence Max QPS Reached."") + ErrPersistenceLimitExceeded = serviceerror.NewUnavailable(""Persistence Max QPS Reached."") ) type (",why not creating a new error type for server's own resource limit exceed error and do conversion within rpc interceptor?,"I think ""rate limited"" is misleading here. We only drop the request if queue is full, which can be for various reasons (slow queries, queriers crashed, no querier connected or all queriers are busy). I'd suggest to start without ""reason"" label. Also I don't think we should use ""validation"" reasons (used for validating incoming samples) here.","Why `nil` here? (if there were a context instead, this feels like it would be a `context.TODO`).","Why `nil` here? (if there were a context instead, this feels like it would be a `context.TODO`).","Why `nil` here? (if there were a context instead, this feels like it would be a `context.TODO`).","Should we for backwards-compatibility purposes keep the `ERR_INFRA_INSUFFICIENT_PRIVILEGES` code while mapping it to the same as `ERR_INFRA_UNAUTHORIZED` but deprecating it? This will allow us to merge this PR without ""breaking"" existing usage of these codes (e.g. in the Gardener Dashboard). After some releases we can then finally drop this deprecated code from the code base. WDYT?",What kind of error was this raised as before?,"Camel case for packages is a bit weird, could we do `kube_api`?",don't think this should make it's way up to the user,"[nit] It's nice if the imports are sorted; first stdlib, then third-party deps, then internal deps. `goimports -local github.com/chef/automate` supports that.",Maybe name this type something public-specific?
"@@ -27,13 +27,10 @@ namespace OpenTelemetry.Instrumentation.AspNet public class AspNetInstrumentationOptions { /// <summary> - /// Gets or sets <see cref=""TextMapPropagator""/> for context propagation. Default value: <see cref=""CompositeTextMapPropagator""/> with <see cref=""TraceContextPropagator""/> &amp; <see cref=""BaggagePropagator""/>. + /// Gets or sets <see cref=""TextMapPropagator""/> for context propagation. + /// By default, <see cref=""Propagators.DefaultTextMapPropagator"" /> will be used. /// </summary> - public TextMapPropagator Propagator { get; set; } = new CompositeTextMapPropagator(new TextMapPropagator[] - { - new TraceContextPropagator(), - new BaggagePropagator(), - }); + public TextMapPropagator Propagator { get; set; } = Propagators.DefaultTextMapPropagator; /// <summary> /// Gets or sets a Filter function to filter instrumentation for requests on a per request basis.","Could be a timing thing here. When options are created they'll copy the ref for the current default propagator. If user sets through SDK the global propagator after that, it won't be reflected. Could leave it null here and then when it is used in instrumentation do `options.Propagator ?? Propagators.DefaultTextMapPropagator`. It would be a slight perf hit but it makes it hot-swappable.",there's still a global call in here...that seems like a problem.,"W3CBaggagePropagator shouldn't be registered as part of `TraceMultiPropagator`, i.e. it should be added directly through `addTextMapPropagator()` ;)",@carlosalberto `W3CBaggagePropagator` should be first one or last one? it doesn't matter for inject but for extract we return context from last propagator.,I think we should add `inject` method to `Instrumenter`. My problem with approach like this is that it is very easy to end up using different instances of `OpenTelemetry` .,"Always on the fence on this, mentioning it anyway: should we try to hint why it is discouraged? Or say ""for further information consult the upgrade guide""?",Not sure we should be modifying code in third_party. Do these generate errors? I thought we did some selective filtering of errors in third_party.,@trask I think this stopped making sense when making all the `startSpan` return `Context` since there's no way to skip injection otherwise.,"I'd expect this to get a bit more specific description so that users actually know what it's good for a and how to use it. But the whole `Options` related docs are WASM addition so it's up them how much details they want to put in, cc @lewing.",Should this be named `Properties` instead of `Options`? They are called `Properties` in the `TransportOperation` class in the `Transports` namespace.,"I'd rather see `public PipelineSettings PipelineSettings { get; }` as the property represents pipeline settings, not the pipeline."
"@@ -158,7 +158,6 @@ public class TransactionSimulator { callParams.getFrom() != null ? callParams.getFrom() : DEFAULT_FROM; BlockHeader blockHeaderToProcess = header; - if (transactionValidationParams.isAllowExceedingBalance()) { updater.getOrCreate(senderAddress).getMutable().setBalance(Wei.of(UInt256.MAX_VALUE)); if (header.getBaseFee().isPresent()) {",Unrelated file. Please remove from PR.,btw jsdocs start with /** * *,oh its here. then its not needed in `class/abstract-hd-wallet.js`,"not needed, we have this in parent",Please use chainbaseManager instead of dbManager,Nice! Havent noticed that blockchain info response actually has block height and we can calculate confirmation num,Please use chainbaseManager instead of dbManager,Please use chainbaseManager instead of dbManager,Please use chainbaseManager instead of dbManager,Please use chainbaseManager instead of dbManager,the variable dbManager of BandwidthProcessor should be removed completely. The implementation that both Manager and ChainBaseManager reserved used as the combination inheritance is redundancy. So I advise that implementing the function getHeadSlot() in the ChainbaseManager and then removing the Manager from the BandwidthProcessor construction function.
"@@ -2663,6 +2663,7 @@ static work_queue_msg_code_t process_http_request( struct work_queue *q, struct } else { // Other requests get raw JSON data. send_worker_msg(q,w,""Content-type: text/plain\n\n""); + send_worker_msg(q,w,""Access-Control-Allow-Origin: *\n\n""); process_queue_status(q, w, &path[1], stoptime ); } ",Careful: you only want two newlines after the final header message. (That indicates the end of headers and the start of data.),Why do we want this change (and the one L52)? they don't seem necessary for the test to pass.,"`devAssert`s will be striped from production. Also, if there were no accessControllAllowOrigin header on the response, we wouldn't have a response to interact with! Unless it opaque, maybe?","Wondering about making this a `log.info`, perhaps even making it `'*'` by default. @havocp I understand why `--host` was previously needed when we were relying on the HOST header. Is there some reason for keeping allowed ws origins tightened down by default?","I would change this to something like `""origin: '"" + origin + ""' is not allowed""` in case the origin header is empty.",Does this TODO need to be removed / updated?,"From public default constructor it should be nullable, but i guess that is not the intent","You already know `corsConfig.origins.get()` will pass, so just pass that in and have `isOriginAllowedByRegex` accept a `List<String>`.","So, it looks like if I revert this change and the one below it here on line 89, tests start to pass. Doesn't look like Django 1.4.5 has RequestFactory",@Gregable theoretically canonicalOrigin can be `null` if there is misconfiguration (might only happen when the page is invalid AMP). what does CID API server do in that case?,Is this still needed if we're just going to mock OPTIONS in the test? (If not I would remove it since people unfortunately use our code as a basis for their own server).
"@@ -9,6 +9,9 @@ def request(flow): flow.request.headers.pop('If-Modified-Since', None) flow.request.headers.pop('Cache-Control', None) + # do not force https redirection + flow.request.headers.pop('Upgrade-Insecure-Requests', None) + # proxy connections to SSL-enabled hosts if flow.request.pretty_host in secure_hosts: flow.request.scheme = 'https'","This will not work on Python 3 (to which we are transitioning) because `.content` is bytes, not a str. Can you make the pattern a bytes object as well (like so: `b""pattern""`)?","From my point of view, calling `make_requests_insecure()` is bold enough, so we don't need to disable the warning explicitely.","Just curious, why setting the user agent header?",What happens when both `--auto-hsts` and `--hsts` are set?,"Why is the default not `1`? Then, if the X-Forwarded-for is ""[{CDN}, {ELB}, {CLIENT}]"", in our AWS case, then it would work.","What's this condition doing, and what happens if `__UNABLE_TO_VERIFY_SSL` is true here? Seems like there will be no context in that case. Can that happen?",Why move the check out of increment method?,"Is there a reason for having the token prepended with ""Bearer""? It seems not super necessary to me",def _need_new_token(self): # type: () -> bool return not self._token or self._token.expires_on - time.time() < 300 Seems like self._token is None is not needed?,"FWIW when I first saw this I expected it to count up, not count down. Maybe `redirects_left` or `redirects_remaining` if there is ever an opportunity to change it.","Being it's an HTTPPolicy, what `next` means and what can be the next type? Is `int` a valid value here for instance?"
"@@ -85,7 +85,7 @@ const ariaRoles = { }, combobox: { type: 'composite', - requiredOwned: ['textbox', 'listbox', 'tree', 'grid', 'dialog'], + requiredOwned: ['listbox', 'tree', 'grid', 'dialog', 'textbox'], requiredAttrs: ['aria-expanded'], // Note: because aria-controls is not well supported we will not // make it a required attribute even though it is required in the","This was to allow the tests to pass when the order of the required was different. Silly, but we don't have an easy way to check for ""equal but order doesn't matter"" in chai.",Why this condition ? why is `false` invalid for inputs ?,"Use `<div>` here, then you wont need to use a `<br>`","Are you sure ? From a (super) quick look, we seems to be updating `$viewValue` with `attr.value` and here we are comparing it with `attr.value` again.","I don't agree with this change. If the input is a number then it is valid, so there is no ""invalid number"" in this sense. We should change it to: `... error if the input is not a number`","Should be: `__(""Select {0}"", [(this.doctype=='[Select]') ? __(""value"") : __(this.doctype)])`","Unless Ian Hixon agrees to alter the spec (and in turn, fixes get added to browsers), what we really need to check for here is !validity.badInput --- because if badInput is set, then we're really suffering from bad input and not a ""real"" value missing.",There are a corresponding typescript theme types that should be updated too. Check `src/theme.ts`.,Another attribute alignment issue.,should we add a short description for it?,It says `Basic Inputs` but contains a button example below. We should split button example into a separate child of the 'Components' instead.
"@@ -16546,6 +16546,18 @@ RelInternalSP::costMethod() const } // RelInternalSP::costMethod() //<pb> +CostMethod * +HbaseDelete::costMethod() const +{ + if (CmpCommon::getDefault(HBASE_DELETE_COSTING) == DF_OFF) + return RelExpr::costMethod(); // returns cost 1 cost object + + static THREAD_P CostMethodHbaseDelete *m = NULL; + if (m == NULL) + m = new (GetCliGlobals()->exCollHeap()) CostMethodHbaseDelete(); + return m; +} // HbaseDelete::costMethod() + PhysicalProperty* HbaseDelete::synthPhysicalProperty(const Context* myContext, const Lng32 planNumber,","maybe say ""returns the default cost method that returns an object of cost 1"".","Because here it is a select, and the field already exists, to make code simpler, there is no need for the if. You can always have the field into list of return value. Later, we will use the condition to exploit or not the data.","I kind of wonder, if this duplicate detection should be done on the ossl_method_store_add where we have a lock for that?",I think this property declaration would fit better in CommonObject since there already is the update_note() method there.,did you mean to call this twice?,"OOC, what is the purpose of `owOptref` + `owOptreference` ?","please don't call twice getStackMax, use a temp variable",Why not `?? null` instead?,"You should also remove $db,$error and $errors as they are define in CommonObject",please leave a new line at the end of every file,I wonder why you are not looking at the return value of put ?
"@@ -293,6 +293,19 @@ func (r *DefaultRuleRenderer) endpointIptablesChain( }, }) + rules = append(rules, Rule{ + Match: Match().ProtocolNum(ProtoUDP). + DestPorts(uint16(r.Config.VXLANPort)). + VXLANVNI(uint32(r.Config.VXLANVNI)), + Action: DropAction{}, + Comment: ""Drop VXLAN encapped packets originating in pods"", + }) + rules = append(rules, Rule{ + Match: Match().ProtocolNum(ProtoIPIP), + Action: DropAction{}, + Comment: ""Drop IPinIP encapped packets originating in pods"", + }) + if len(policyNames) > 0 { // Clear the ""pass"" mark. If a policy sets that mark, we'll skip the rest of the policies and // continue processing the profiles, if there are any.","I believe these rules will be enforced both (1) on egress from a local workload, and (2) on ingress **to** a local workload. Right? I understand that we definitely want (1), but do we really want to enforce (2) as well?",at some point I would prefer a bitmask or a struct of booleans over multiple boolean parameters.,Is this semantically - get the allowed port?,List of strings is a better type than a set of `interface{}` I wonder if it would be too cumbersome to do `net.IP{}`,"just because I'd like to hear what you had in mind, I imagine this is to at least not disrupt traffic for other applications if for some reason one inbound chain failed to generate?",in the future it'd be good for `protocolForValue` to return a `*string` so we can easily detect this is invalid?,"For the `switch` statements, we prefer the use of enum values instead of bare strings",Replaced by `cidrBlocksEqual`.,You should check that the value is set here before assigning it. Won't it break otherwise?,Minor nit the total amount of Int values for this slice is small enough to have on a single line. Let's inline the values so that it's easier to grok.,"This change is very subtle, but after reading the code up and down, I realized the current implementation actually would build an struct from the local state: `p` and then try and match all its parameters with the list of remotely fetched rules `rules` with function `findRuleMatch` returning `rule`. We then set the local state from `p`.... which is very strange because we built `p` from the local state... furthermore I feel its more ""right"" to set the local state from the remotely fetched data during the `Read` operation"
"@@ -125,7 +125,9 @@ public class SalesforceNetworkPlugin extends ForcePlugin { try { // Not a 2xx status if (!response.isSuccess()) { - callbackContext.error(response.asString()); + JSONObject errorObj = new JSONObject(); + errorObj.putOpt(""response"", response.fullResponseAsJSONObject()); + callbackContext.error(errorObj.toString()); } // Binary response else if (returnBinary) {","Use `response.asJsonObject()` instead. Also, use `put()` instead of `putOpt()`, `null` as a value is fine.",should `callout` here be trimmed?,I am not fully convinced this is the proper error handling logic to extract the http or grpc status code here. DatastoreException has an int getCode() this should return the http code which serviceCallMetri.call() will convert to a grpc status code. So lets's just change the logic to } catch (DatastoreException exception) { serviceCallMetric.call(exception.getCode()); .... and we can remove getErrorInfo,removed because unused,The addresses should also be binary.,"honestly this should just be `JSON.stringify(obj, toJsonReplacer, pretty);` --- browsers don't care if `pretty` is null or undefined or the empty string",I think you need `tryJsonStringify` or something like that.,Too much parenthesis (even for me :grin:).,"This might be a behavior change. Currently if a truthy primitive is passed, I think it'll make it all the way through template render.",Does it start with timeout so that this regexp can be tightened? Don't want to inadvertantly include other error types,"streaming is reestablished for memory optimization because I fixed the log management in case there's a bug in the ProtobufJsonFormat. After discussions, I thought the trade-off went on optimization side"
"@@ -113,7 +113,7 @@ describe('PasswordEditor', () => { const editorHolder = $('.handsontableInputHolder'); const editor = editorHolder.find('.handsontableInput'); - expect(parseInt(editorHolder.css('z-index'), 10)).toBeGreaterThan(0); + expect(editorHolder.is(':visible')).toBe(true); editor.val('Edgar'); ",Are you sure? We've changed it during an introduction of the IME support.,"Nitpick: It would be more clear to say: _...if input is **type=**""hidden""_",Looks useful. We also need `xplatformIt` and `xplatformDescribe` to match `xit` and `xdescribe` to temporary disable tests.,I feel in a test we should expect only one result. Is there a way to set `window.ampTestRuntimeConfig.useCompiledJs` and then create two tests to check this condition?,Can we add a TODO linked to #33413?,"common-min.js is is a generated file. It shouldn't be included here. In fact, it's generated from this list of files, so I'm surprised that this helps.",This is the failing assertion,Hence here it should be `false`. Why are you switching it to `true`?,Unrelated newline change (but I promise it is just this one @caitp :smiley:).,#24195 tracks the carousel failures. There's a different issue for lightbox that can be used here: #28948.,"according to its method definition, `setAsync` only accepts `{function(...*):!Promise<ResolverReturnDef>}` as the 2nd argument. Why do we need to handle the falsy value here?"
"@@ -46,7 +46,7 @@ class QueryBuilder $queryBuilder->leftJoin('entity.'.$sortFieldParts[0], $sortFieldParts[0]); } - if (!empty($dqlFilter)) { + if (null !== $dqlFilter) { $queryBuilder->andWhere($dqlFilter); } ","I think here we want the use of `empty()` to take care of empty strings. If you put `dql_filter: ''` in your YAML config ... this will add `->andWhere('')` and it will fail, right?",it'll not work with mutliple identifiers but I guess it's better then before haha. I'm :+1: for the change,Can't you just check if the `where` clause of the query builder is empty instead of introducing a new variable?,Any reason a simpler 'in` call does not work?,"Nice, this is indeed a long-time known bug, I'm not sure that the fix is that easy but if you make the tests pass that's already a good improvement!","Can you invert the test btw? It will be easier to read: `false === strpos($type, '_immutable') ? new \DateTime($value) : new \DateTimeImmutable($value)`?",would be great if we could directly return `string` in the AbstractFilter method instead,api_ can be directly in the sprintf pattern here (easier to read),this are illegal characters for the new doctrine version.,Couldn't this ternary operator be avoided if we just always use `$sortField->getName()`? Then we could also get rid of this additional variable.,"Oh, this is good, I didn't knew you can add a type as third argument! Maybe we can still add this fix to the 2.1 branch!"
"@@ -170,14 +170,12 @@ func (p *Agent) Start(ctx context.Context) error { p2pMsgLatency.WithLabelValues(""broadcast"", strconv.Itoa(int(broadcast.MsgType)), status).Observe(float64(latency)) }() if err = proto.Unmarshal(data, &broadcast); err != nil { - err = errors.Wrap(err, ""error when marshaling broadcast message"") - return + return errors.Wrap(err, ""error when marshaling broadcast message"") } // Skip the broadcast message if it's from the node itself rawmsg, ok := p2p.GetBroadcastMsg(ctx) if !ok { - err = errors.New(""error when asserting broadcast msg context"") - return + return errors.New(""error when asserting broadcast msg context"") } peerID = rawmsg.GetFrom().Pretty() if p.host.HostIdentity() == peerID {","this is golang's named return, err is defined, `return` is equivalent to `return err` the current code has no problem","Judging from the samples in the apm spec, I think ""db"" should also be included in this case. It's not listed in the pseudocode but there is an example JSON with a ""db"" example. It'd be good to clarify what to do in that open PR.","Could the meta table be empty? If so, maybe omitempty would be good here",aren't these constants defined already elsewhere? can we reuse them? if there is a circular dependency maybe move those constants to neutral territory?,We use the OpenTelemetry span's name everywhere else - I think we should do the same here (and not set `event.Name` here.),"view change message has different format, msg.GetViewchange(). need separate checking",How about moving it to errno.go?,"I think it would be better if we didn't create this span, and just relied on the ""publish"" transaction, but this is probably necessary for now if we really want the labels. Ideally, the code for recording the labels (`events_original`, etc.) should be done in a single location, rather than in specific output implementations. This would at lease give high-level information for all outputs. Specific outputs could optionally extend those spans with output-specific information, or add sub-spans (e.g. the apmelasticsearch span). I think to do that we'd need to change the Batch and/or Observer interfaces (to report batch-specific stats) and/or the Publish signature (to return the stats).","maybe add a method 'dropping(msg eventsMessage)' to LoadBalancerMode, so we have less repetitive code and add more metrics at this place later if required.","Our ""Metadata"" is roughly equivalent to OpenTelemetry's ""Resource"" - information about the service, or the environment in which the service is operating. Message details don't belong here, as they're operation-specific.",do we still store a string for `opType` in the event? Shouldn't it be the enum. Maybe a helper `events.GetOpType(*event)` would be helpful.
"@@ -202,7 +202,7 @@ ostree_gpg_verify_result_get_all (OstreeGpgVerifyResult *result, * ostree_gpg_verify_result_describe: * @result: an #OstreeGpgVerifyResult * @signature_index: which signature to describe - * @output_buffer: a #GString to hold the description + * @output_buffer: (out): a #GString to hold the description * @line_prefix: (allow-none): optional line prefix string * @flags: flags to adjust the description format *","I don't think this is right; in Rust terms it's like a `&mut String`, in Java `StringBuilder` - it's not a return value from the function which is what `(out)` is for.","I am not convinced about the registration per class. Not all command/methods/apis will have all formats, so most like the mapping needs to be per command/method. I would probably try to keep it very simple, explicit plain implementation, and automate the registration when we have a couple of patterns.",I'd prefer to keep the ``conan_api.out`` access,"Type checking it will be hard, at least, I don't want to attempt for now. Doing it will cause cascade of failures In `dvc/stage` module.",Wondering if we should do the bounds check here too (like in `FilterOutputStream` or we assume that the delegated does the check? opinions @lukecwik,outputers is an ugly name. Call it formatters.,"For return types, can we get the loc to point at the returns? Or is that hard?",No need to pass the empty array explicitly. It is already the default behavior for the default value when using `VALUE_IS_ARRAY`,"@stof what do you think: there is `-i|--ignore` in `OutdatedCommand`, but only `--ignore` in `ShowCommand` (because of `-i|--installed`). Should I change it to be consistent? It's proxied properly, but may be confusing.",this breaks API. Put merge_grads param at the end.,"(style) please, no space before tabs"
"@@ -7,9 +7,9 @@ from ..registry import LOSSES def _expand_binary_labels(labels, label_weights, label_channels): bin_labels = labels.new_full((labels.size(0), label_channels), 0) - inds = torch.nonzero(labels >= 1).squeeze() + inds = torch.nonzero((labels >= 0) & (labels < label_channels)).squeeze() if inds.numel() > 0: - bin_labels[inds, labels[inds] - 1] = 1 + bin_labels[inds, labels[inds]] = 1 bin_label_weights = label_weights.view(-1, 1).expand( label_weights.size(0), label_channels) return bin_labels, bin_label_weights","If the label is not binary, should we rename this function?","Wait, why do you do this both here and when computing `evaluation_mask`? Shouldn't you only need to do this once?","Wait, why do you do this both here and when computing `evaluation_mask`? Shouldn't you only need to do this once?",is this code block covered by a test?,tensor.numpy() is only available when eager execution is enabled (not while building graph functions) So please write this using array_ops.where or control_flow_ops.cond,This sentence is truncated?,This sentence is truncated?,This is unrelated?,This is unrelated?,"instead of an string pass a function, i.e. pairwise_dist_fn","You want to use `warn` from `mne.utils` as `warn('Label values ...')`. But really I think we can just make it an error, and suggest that the user (themselves) do `label.values[:] = 1.`. It makes the code a bit more explicit. (Plus the solution here modifies the user's object inplace, which isn't great.)"
"@@ -421,10 +421,12 @@ class JMeterExecutor(ScenarioExecutor, WidgetProvider, FileLister): :param file_list: :return: etree """""" + cur_path = r""${__BeanShell(import org.apache.jmeter.services.FileServer; FileServer.getFileServer()"" \ + r"".getBaseDir();)}${__BeanShell(File.separator,)}"" for file_path in file_list: file_path_elements = jmx.xpath('//stringProp[text()=""%s""]' % file_path) for file_path_element in file_path_elements: - file_path_element.text = os.path.basename(file_path) + file_path_element.text = cur_path + os.path.basename(file_path) def __get_resource_files_from_jmx(self, jmx): """"""",This is very-very bad idea because of its performance impact,"before this change, this was a bit strange: a relative path was transformed to a homedir-relative url. (this is only corresponding with default ssh behaviour, where you start in the homedir, but with forced commands, you can cd somewhere else first and then there is no correspondance any more) as we support generic relative urls now, we transform it into such a url.",This was a leftover that haven't been used at all for a while.,"This `str("""")` has no sense  ","We should probably remove the dependency on `stage`, this is very much circular: `stage` needs outs/deps, and outs/deps require stages, so, when we construct a stage, there's no way beforehand to create outs/deps without creating a stage first without any deps/outs.",The normalization that we had in `resources._static_path()` is moved here.,Can you modify the `Args:` and `Returns:` sections of this docstring to mention the behavior on non-pathlike objects?,"I'ld rather remove the ""not worrying"" here and add a ""be careful to escape special chars so borg gets to see them and they are not expanded by your shell"" to the patterns that frequently have a `*` or so in them.",Tried to move from `base` to `local` but not sure about the distinction between `def_path` and `path_info`,Should this really be WARN? IMHO info would suffice.,I think this is already written above
"@@ -6,6 +6,7 @@ import ( ""database/sql"" ""encoding/json"" ""fmt"" + ""github.com/sonm-io/core/proto"" ""math/big"" ""net"" ""sync""",WHY U NOT SORT IMPORTS?,"The driver was previously registered in `fetcher.go` file, which is now removed.",import wrong place,Please use `github.com/ngaut/log`.,why ethcore/types? can it be merged into our own harmony/core/types?,"no errors2, just find usages of `pkg/errors` , use that instead of builtin errors please","No need to abbreviate here, use `sysinfotypes` or just `types`.",Is `go-systemd` changing the import path on any release? It seems rather inconvenient.,Do we need to talk with Observability or node ops about these changes?,Nit: Group beats imports,We can move this to `build/vendor.go`
"@@ -0,0 +1,11 @@ +module SignInRequestHelpers + def sign_in_as(user) + post( + ""/session"", + session: { + email: user.email, + password: user.password, + }, + ) + end +end",Put a comma after the last item of a multiline hash.,Align the elements of a hash literal if they span more than one line.,Line is too long. [113/80],I think we could probably get away with just one happy path spec that tests that CloudHSM is called instead of running through all the specs with CloudHSM.,I think we could probably get away with just one happy path spec that tests that CloudHSM is called instead of running through all the specs with CloudHSM.,this seems to be the core logic change yes? everything else flows out of here.,this seems to be the core logic change yes? everything else flows out of here.,Let us avoid all these cosmetic changes as it pollutes the commit history.,"> it 'does not change session' do that line seems incorrect now, can we update it?","> it 'does not change session' do that line seems incorrect now, can we update it?",Why this change? What is the impact?
"@@ -12,7 +12,7 @@ __version__ = param.Version(release=(1,7,0), fpath=__file__, commit=""$Format:%h$"", reponame='holoviews') from .core import archive # noqa (API import) -from .core.dimension import OrderedDict, Dimension # noqa (API import) +from .core.dimension import OrderedDict, Dimension, Dimensioned # noqa (API import) from .core.boundingregion import BoundingBox # noqa (API import) from .core.options import (Options, Store, Cycle, # noqa (API import) Palette, StoreOptions)",How come we need ``Dimensioned`` in the top-level namespace?,I think samples will need renaming update as well,was this delete intentional?,We group imports. Please configure GoLand File Watchers as follow: ![Uploading Screenshot 2021-05-13 at 17.53.52.png ](),"It doesn't make sense, `GenericQueryMetricsFactory` is not a ""generic base"" for other QueryMetricsFactories, it is a query metrics factory _specifically for ""any"" queries_. It must be able to accept any query type.",We don't use \* imports. Please adjust your IDE to not use them.,"Why this change? As I understand it, the previous behavior is roughly equivalent to returning unknown for HMV. (Because it would return false, but complete is also false.)",nitpick: Why not absolute imports? (They are usually easier on circular imports and more consistent),"blanket imports are evil. I'm guessing that your IDE did this instead of you. Depending on the IDE you are using, you can set it to essentially not collapse imports like this. In IntelliJ IntelliJ -> Preferences -> Code Style -> Java -> Imports tab -> Class count to use import with '*'. Set that to 99 :)",let's have a more generic name since it can be used by other vendors. how about `amp-link-rewirter`,"This actually gives user the wrong impression that the value of self is being updated, which is not in this case. The method only return the subtracted value without updating self and other."
"@@ -75,9 +75,9 @@ import net.runelite.client.util.Text; import net.runelite.client.util.WildcardMatcher; @PluginDescriptor( - name = ""NPC Indicators"", - description = ""Highlight NPCs on-screen and/or on the minimap"", - tags = {""highlight"", ""minimap"", ""npcs"", ""overlay"", ""respawn"", ""tags""} + name = ""NPC Indicators"", + description = ""Highlight NPCs on-screen and/or on the minimap"", + tags = {""highlight"", ""minimap"", ""npcs"", ""overlay"", ""respawn"", ""tags""} ) @Slf4j @Singleton",excess whitespace through plugin.,revert this file,"Can we put this (and the one above, my apologies), in alphabetical order?  ","You can remove this line entirely. This is only here because of a copy/paste error, I imagine.","There's no ""default"" registries in /etc/containers/registries.conf. Perhaps ""Will search all the registries listed in the ""registires.search"" table in /etc/containers.registries.conf""","@jridgewell Note: this line is causing `gulp check-types` to throw a WARNING: `WARNING - Failed to load module ""./ad-tracker.js""` Redefining the type here makes the problem go away, but that's not ideal. Is there a way to fix `gulp check-types` so it does the right thing? (or maybe I am missing something stupid?)",were these getting obfuscated ?,"I don't see this api being called when I run locally. Are you calling this method in your js? If not, you should remove this as it will delay rendering.",Ditto: everything `ForDoc()` refers to the `ampdoc`.,The following two parts have the same meaning `name + group + version + path + protocol` `getServiceKey()`,"I see you are not using the renderStart API, have you looked into it? It should give you some performance gains but is optional."
"@@ -138,7 +138,7 @@ void EdgeBasedGraphFactory::InsertEdgeBasedNode(const NodeID node_u, const NodeI NodeID current_edge_source_coordinate_id = node_u; // traverse arrays from start and end respectively - for (const auto i : util::irange(0UL, geometry_size)) + for (const auto i : util::irange(std::size_t{ 0 }, geometry_size)) { BOOST_ASSERT(current_edge_source_coordinate_id == m_compressed_edge_container.GetBucketReference(",What is the problem here? I feel we used this in a lot of places.,As you have added <bits/stdc++.h> you don't need to add any other header. Remove this line.,These changes are only aesthetic right?,You don't need to leave a space before the closing angle bracket.,"Do we have a specific reason for using `LayoutLeft` here? If not, let's drop it, to make the example shorter.",Prior to your change this segfaulted in 2D right?,Prefer C++11 style `using new_name_type = OldName;`,"@loumalouomega as i recall, in order to get the same behaviour as before we should call GenerateBoundaryEntities, am I wrong? if that is the case than the warning on Edges is wrongly pointing to GenerateEdges, which will change the behaviour",on line 207 i think you should be using the epsilon you passed in the constructor,do you need to make a copyhere? isn't a reference enough?,It would be better to use a `constexpr double relative_epsilon = 1e-3;` to be more clear the code and easier to be changed in the future
"@@ -109,8 +109,7 @@ class RPN(BaseDetector): for proposals, meta in zip(proposal_list, img_metas): proposals[:, :4] /= proposals.new_tensor(meta['scale_factor']) - # TODO: remove this restriction - return proposal_list[0].cpu().numpy() + return [proposal.cpu().numpy() for proposal in proposal_list] def aug_test(self, imgs, img_metas, rescale=False): """"""Test function with test time augmentation.",Update the docstring.,Careful with the line width! Reviewing this text in the pull request UI shows you clearly what the problem with long lines is :-),Can you describe what the issue needing fixing is? I can't make it out :-),Is this needed still?,"This try-except was masking a bug in my code that I didn't discover until after I removed it. Personally, I think we shouldn't be catching the exception, and raise an error if a non-existent test function is requested. For most build systems, we implement an empty test method with `pass` anyway, so it shouldn't fail.","It's not ""encoded in UTF-8"", since it's returned as a unicode string :-)","`self.config_xxx_template` have no `build_paths` placeholder, right?",This shouldn't change any logic at all.,These seem to be the new names returned by LLVM 3.7.,This is redundant. `interpreter = self.context.products.get_data(PythonInterpreter)` above already was produced by a task that checked an even more stringent requirement - namely that all targets in the context with constraints have a local satisfying interpreter - the one we're building the pex with.,Note: symptom of reloc-model going wrong can be segfault due to incorrect relocation because GOT base is 0 and `symbol@GOT` is translated to just the GOT-offset.
"@@ -7,10 +7,11 @@ package api import ( - ""errors"" ""testing"" ""time"" + ""github.com/pkg/errors"" + ""github.com/golang/mock/gomock"" ""github.com/stretchr/testify/require"" ","delete the empty line ""github.com/pkg/errors"" should be grouped with other third party packages same for the rest","same as above, newline between ""local"" and ""external"" packages :)","Can you move `""google.golang.org/grpc/status""` down with the rest of the 3rd party imports?","This contains the main change for this PR. Instead of just checking if the node exists with the allowed projects, we are now pulling the projects that are tagged on the associated node.","Instead of updating all of these references, could you instead add a replace call to the go.mod so that when (if?) the PR is accepted upstream then we could just remove the replace","I imagine this is breaking the build, but otherwise LGTM",Can we use null.v4 for new things>,this imports logrus twice,Seems not in good order. We recommend to put it with other 3rd part packages.,"whoa, that's interesting... I don't see that problem locally, but I might be using an older version of goimports.","[nit] It's nice if the imports are sorted; first stdlib, then third-party deps, then internal deps. `goimports -local github.com/chef/automate` supports that."
"@@ -155,7 +155,7 @@ public class RemoteWebDriver implements WebDriver, JavascriptExecutor, } private void init(Capabilities capabilities) { - capabilities = capabilities == null ? new ImmutableCapabilities() : capabilities; + this.capabilities = capabilities == null ? new ImmutableCapabilities() : capabilities; logger.addHandler(LoggingHandler.getInstance()); ",Assigning capabilities to the field here is not the best idea. Semantically this field contains the capabilities returned by the browser after session start. So here we sould better amend capabilities and return them from `init` method to pass later to `startSession` method (that will assign the capabilities returned by the browser to the field).,Use dynamic imports if possible,"I'm good with using `java.util.logging.Level` in this API, as it's a JDK class.",Why Nullable ? We should not accept null value,@trask I think this stopped making sense when making all the `startSpan` return `Context` since there's no way to skip injection otherwise.,We seem to basically reimplement MultiMap? Shouldn't we use that one and do any optimizations there?,@pkriens I don't think you mean to leave this println in the final code.,"I personally feel typing this to T on the class would make it a bit cleaner. You currently type the AttributeDefinition itself, so why not the copier? Then I would suggest breaking out the CollectionAttributeCopier into 2 classes. One that is actually just for java.util.Collection classes and the other for TypedProperties. From its name I would not guess that TypedProperties could be used with it, and unfortunately the compiler doesn't help either without defined types.",I believe it should be replaced with `produceCalled = false`. Could you modify your pull request? Thanks for noticing!,I believe it should be replaced with `produceCalled = false`. Could you modify your pull request? Thanks for noticing!,"why leave this variable? it won't be helpful for backward compatibility if it is removed in the constructor, and setRemote, isRemote anyway?"
"@@ -110,8 +110,6 @@ module RSpec::Core end end - alias_method :abort, :finish - def stop @duration = (RSpec::Core::Time.now - @start).to_f if @start notify :stop","Is this a breaking change, or is the API private?",Prefer double-quoted strings unless you need single quotes to avoid extra backslashes for escaping.,Use safe navigation (&.) instead of checking if an object exists before calling the method.,71-73 are unchanged,Could we track pageviews with a before_action instead to catch them all and avoid a specific test for each page?,Could we track pageviews with a before_action instead to catch them all and avoid a specific test for each page?,Only truncate DB if we seeded data.,I'm curious why `wait_for_acknowledgments` is called twice here?,I'm curious why `wait_for_acknowledgments` is called twice here?,this was removed as it contained the wrong logic,Indent when as deep as case.
"@@ -0,0 +1,4 @@ +import pandas as pd + +test_data = pd.read_json(""./dumps/courseData.json""); +test_data = {k: val.groupby('pk')['fields'].apply(list).apply(lambda x: x[0]).to_dict() for k, val in test_data.groupby(""model"")};",I don't think we need this dependency in this project right now,always enable double buffer. The `async load` is very confusing. It just enable double buffer in DataProvider. Maybe we should change it later.,always enable double buffer. The `async load` is very confusing. It just enable double buffer in DataProvider. Maybe we should change it later.,`model_input_instance`? I think this is iterating over individual instances.,`model_input_instance`? I think this is iterating over individual instances.,Missing comma (`__all__` should be a tuple or array),Why this file has two imports.,Why this file has two imports.,"Would absolute imports have fixed this? Also, in general, when we touch code, we should probably switch it to absolute imports. Or we could make a PR that just does it all in one go, but that's more work...","Would absolute imports have fixed this? Also, in general, when we touch code, we should probably switch it to absolute imports. Or we could make a PR that just does it all in one go, but that's more work...",How about creating a Github issue about this bug and paste its link here?
"@@ -30,8 +30,9 @@ const ( // FanoutName is the name used for the fanout container. FanoutName = ""fanout"" // RetryName is the name used for the retry container. - RetryName = ""retry"" - BrokerCellLabelKey = ""brokerCell"" + RetryName = ""retry"" + BrokerCellLabelKey = ""brokerCell"" + BrokerSystemNamespace = ""cloud-run-events"" ) var (",I don't think this is necessary since `CommonLabels` is a public func and every component name is also public constant.,"I think its good to have the k8s resync but at a much lower frequency (1 minute or so). Without the resync, if for some reason an event is not propagated to proxies (ex. due to network errors or stream disconnects), the resyncs will help trigger notifications for the latest state of the object. I do think that the resyncs should be queued and not simply broadcast all the time because the resyncs for the different informers will be interleaved in time and trigger too much churn.",Do we want to make this list in alphabetical order? This is not a required change of course!,@khenidak is it correct that we should change the current default behavior so that < 1.15 clusters have backoff disabled by default? It's my understanding that you can't use v2 unless you're on >= k8s 1.15. What about < k8s 1.15? Should those clusters get the pre-v2 backoff enabled or disabled by default?,nit: `pachyderm-sachctl-secret` -> `pachyderm-pachctl-secret`,is -> are,is -> are,"@DheerendraRathor Could you confirm this is the actual EXACT case used by your endpoint? We have some issues with the Swagger linter right now, where people fix the Swagger when they shouldn't and I become very careful when I see a case change. If this is not the the EXACT case (case sensitive), a new PR needs to be made to fix the Swagger.",Can we use libpod.LinuxNS for this?,"I know it's just a test, but should there be a ""baude"" reference? Can we do something more generic?",I assume this already has become obsolete in previous refactoring?
"@@ -155,14 +155,15 @@ module Bolt ""`task.py`) and the extension is case sensitive. When a target's name is `localhost`, ""\ ""Ruby tasks run with the Bolt Ruby interpreter by default."", additionalProperties: { - type: String, + type: [String, Array], _plugin: false }, propertyNames: { pattern: ""^.?[a-zA-Z0-9]+$"" }, _plugin: true, - _example: { ""rb"" => ""/usr/bin/ruby"" } + _example: { ""rb"" => [""/usr/bin/ruby"", ""-r"", ""puppet""], + "".py"" => ""/usr/bin/python3"" } }, ""job-poll-interval"" => { type: Integer,",The `_example` field should be updated to include an interpreter with an array value.,  I noticed this matcher was missing on one of my own PRs and I forgot how to add negated matchers so I just wrote `.not_to include` and forgot to look into it :joy:,"I should have added this a long time ago, definitely could have used it a few times in compound assertions.",Aaah. Isn't that better?,this should probably be `.to be(true)`,What's the need for the above two lines?,"What's the reason to use `MutableMapping`? `Dict` should still work, right?",Typos I realized while writing the MyPy docs.,This is just for our code coverage reports so no need to include the plugin here.,does this not need the same `support_file = true` setup?,"This is hard-coded to bundler1, it'll switch based on the suite name in #3350"
"@@ -532,12 +532,14 @@ var supportedKeyTypes = map[string]acme.KeyType{ // Map of supported protocols. // HTTP/2 only supports TLS 1.2 and higher. -var supportedProtocols = map[string]uint16{ +var SupportedProtocols = map[string]uint16{ ""tls1.0"": tls.VersionTLS10, ""tls1.1"": tls.VersionTLS11, ""tls1.2"": tls.VersionTLS12, } +// NOTE: if updating the above map, also update sslProtocolToStringMap in caddyhttp/fastcgi/fastcgi.go + // Map of supported ciphers, used only for parsing config. // // Note that, at time of writing, HTTP/2 blacklists 276 cipher suites,",Put this in the godoc of SupportedProtocols instead. Preferably we would just use one map though. Why not just use this one?,Could you explain this line?,I think we can change 'Enabled' to `bool`. The `IsEnabled` method also defaults 'Enabled' to true.,Is this deliberate?,I was thinking this would be conditionally required. If `client_auth` is `none` then you wouldn't need to set this.,Does it break compatibility?,"We need to define if we keep wantClientAuth=false (the last argument of the SSLEngineConstructor), or we use clientAuth.",is the dependecy to dynamic ok here?,`LDAPS` and `TLS` are upper-case,Why did this change? This value is extracted to a local `protocols` earlier.,struct field ApiKey should be APIKey
"@@ -59,13 +59,12 @@ func (container *CronContainer) StopStatsCron() { } // newCronContainer creates a CronContainer object. -func newCronContainer(dockerID *string, name *string, dockerGraphPath string) *CronContainer { +func newCronContainer(dockerID *string, dockerGraphPath string) *CronContainer { statePath := filepath.Join(dockerGraphPath, DockerExecDriverPath, *dockerID) container := &CronContainer{ containerMetadata: &ContainerMetadata{ DockerID: dockerID, - Name: name, }, statePath: statePath, }","I'd feel a little safer if the first argument were a string, not a *string unless there's a particular reason for making it a pointer.","Why is this here? I don't think, there should be any known provider names in Gardener's API... Btw, isn't this a clear case for an integration test, that should be part of the respective Extension repo?",looks like this was intentional and by removing that we are expanding names from short ones to long ones. eg; docker stop 1 should say 1 is already stopped instead of 1231euayfghhjsegfqw236rgq is already stopped,"We really need to convert this to accept a struct at some point, the signature has gotten well and truly out of hand","Since we already have `containerBase.String()` and `ContainerInfo.String()` (in container.go), do we really need this method?",Why are we doing this twice now? See line 693.,"I think returning ErrContainerUnknown is probably better than dropping it - useful to know if we did nothing in these cases, I think.","I thought tag was deprecated, and rolled into the From ref",Shouldn't we use log here?,Why do we need this? Why not create it in cmd/podman and pass it in the spec?,Should we add a Stringer to the op so %s ends up with ID()? (if it is missing)
"@@ -22,6 +22,7 @@ import static org.junit.Assert.assertEquals; import org.junit.Before; import org.junit.Test; +import java.lang.reflect.InvocationTargetException; import java.lang.reflect.Method; import java.util.Arrays; ",Can you please revert changes to files in the `thoughtworks` package? This is legacy code and we will eventually phase out RC.,It's not a good practice to import *,why is this volatile ?,"Please discard these changes, and only limit the modifications to the new imports.","@franz1981 what occurs post java 8 here? Same with any internal Unsafe access in the MPSC Queue used , just worried we tune for java 8 where unsafe is king, and then find on java 11 perf is lost, and we rely on a new lib that isnt needed.. It might be all good, i just want to play dumb and make sure, and i know jctools is a bit of your area of expertise, and will know the answer outright, and just tell me its no worries.",why is this test not impacting in heisenberg.json?,Ditto on the question whether this annotation is still required?,"What are the use cases where we need a predicate on the name of the field (in other words, a set of fields is not enough)? Also, it feels a bit weird that `InterceptorBinding` itself is a `Predicate`. Other than that, I really like the change, InterceptorBinding wrapper is more readable than the Map","Are there any potential bad impacts by making the method globally accessible in the class? Or more precisely, is there a way to limit the accessibility grant to JUST the object of interest?",Don't use import * pls.,Looks like we're just moving this import from one line to another and there are no other changes in this file. Can we undo this change to minimize noise in the diff?
"@@ -19,7 +19,10 @@ package org.openqa.selenium.grid.graphql; import graphql.schema.DataFetcher; import graphql.schema.DataFetchingEnvironment; + +import org.openqa.selenium.SessionNotCreatedException; import org.openqa.selenium.grid.distributor.Distributor; +import org.openqa.selenium.grid.sessionmap.SessionMap; import org.openqa.selenium.internal.Require; import java.net.URI;",You can safely revert changes to this file.,there are way places where we create session e.g `io.prestosql.sql.analyzer.StatementAnalyzer#createViewSession` or `io.prestosql.dispatcher.DispatchManager#createQueryInternal` What about these?,"We should store `extraCredentials` in this class so that they are serialized with the rest of the session data, rather than adding another field to `TaskUpdateRequest`. (I missed this during the earlier review)","should this be a 403 exception? how does this error surface to the user? also I think we should have a different error for null user, and we should have a more descriptive error message: `""Access denied for user %s to %s:%s"".format(username, className, methodName)`","This is a pretty generic ""Exception""? is there something specific you can catch?",@gianm this causes lots of retries for duplicate primary key entry errors that will never be transient unless someone manually cleans the DB,what makes extra credentials special? Are they not part of the session representation?,"What is the effect of this change in old, 5.1.x, clients?","Of the ""53"" class of errors, I think only ""53300"" might be transient, no?",I'm not sure we need to send a session deleted event when the id has changed. I need to double check this behavior with spring session people.,"Sorry didn't see this before, but can we use a more specific exception here. Either MuleRuntimeException or a more specific java exception like IllegalStateException or something.."
"@@ -127,7 +127,6 @@ class AnchorHead(nn.Module): def loss_single(self, cls_score, bbox_pred, labels, label_weights, bbox_targets, bbox_weights, num_total_samples, cfg): - # classification loss labels = labels.reshape(-1) label_weights = label_weights.reshape(-1) cls_score = cls_score.permute(0, 2, 3, 1).reshape(",This deletion is unnecessary.,I hope the doc is correct. It was missing earlier.,What is the limitation here exactly?,Can you add a `TODO: remove this when ONNX support dynamic split sizes` so that we remember to remove this workaround in the future?,"Wait, why do you do this both here and when computing `evaluation_mask`? Shouldn't you only need to do this once?","Wait, why do you do this both here and when computing `evaluation_mask`? Shouldn't you only need to do this once?","Adding some additional meta-data such as interpolation, type of quantization and a reference to the unquantized enum of the the weights to all previous models.",Do we need this change? Can we keep as it was before?,TODO: move transformer changes into another diff.,Don't we use it on GPU while updating the checklist?,Don't we use it on GPU while updating the checklist?
"@@ -302,7 +302,10 @@ class Notification extends Component { mdc-layout-grid__cell mdc-layout-grid__cell--span-1 ""> - <img className=""googlesitekit-publisher-win__small-image"" alt="""" src={ smallImage } /> + { + typeof smallImage === 'string' + ? <img className=""googlesitekit-publisher-win__small-image"" alt="""" src={ smallImage } /> : smallImage + } </div> } ","I'm not a huge fan of this overloading of the prop; accepting very different types of arguments for props like this can be confusing, and wasn't part of the IB. I understand wanting to import the SVG directly, but the IB suggests using `${global._googlesitekitLegacyData.admin.assetsRoot}${userInputSuccessImage}` as the `src`/`smallImage` value here. It'd be great to refactor this to accept components directly in the future, but let's do that all-at-once rather than this hybrid approach that makes the API less clear.","I think it is good to set the alt text to be required, since images should always have an alt text. However, we should either create an issue to add this alt text in the places where the `ImageSelect` component is used, or fix it in this PR as well.",Why is this required if none of the nested components use it?,"I don't agree here either. If it is an email address then it is valid. I don't think this needs to change except for maybe adding the word input, similar to above.","Shouldn't width, height, etc. get passed on to the child tag? How else will they know what the requested sizes/media are?",`timeFormat` --> `timeSecondsFormat` (?),Can we put these values in a constant somewhere?,`initialisation` should be `initialization`.,"Actually, I'm not sure if this is the best string? This makes me feel like when I click on the tooltip, it will actually navigate to the tweet on twitter.com. /cc @hongwei1990","What? Afaik there is no `input[type=textarea]`, only the textarea element. We want to use textInputType for textarea elements, so...",Were these test breaking due to this change (if so why?)?
"@@ -21,10 +21,7 @@ import java.io.InputStream; import java.io.StringWriter; import java.lang.invoke.MethodHandles; import java.nio.charset.StandardCharsets; -import java.util.Collections; -import java.util.HashMap; -import java.util.List; -import java.util.Map; +import java.util.*; import java.util.concurrent.TimeUnit; import org.apache.solr.cloud.ZkController;","I've had this happen recently with IntelliJ, was this intentional?","I don't know if this is safe. When is the platform code first installed, and where is the first `setCookie` call?",Don't use import * pls.,what is the alternative ?,"Nit: you can remove spaces in imports (except after the static imports chink if exists), just like you did in `NamedAggregatorsTest`.","spurious change, revert?","Remove wildcard import, put back individual ones",Probably a missing import now,Is this a correct change? from two arguments to one?,Please use explicit imports instead of wildcards.,Import only the functions needed - you need setStyles here as far as I can see.
"@@ -22,9 +22,10 @@ #include <string.h> #include <string> #include <vector> -#include <map> +#include <unordered_map> #include ""vulkan/vulkan.h"" #include ""vk_format_utils.h"" +#include ""hash_util.h"" struct VULKAN_FORMAT_INFO { size_t size;",Order(1) vs Order(logN) -- not sure it's measurable at the ~200 element size of the table. All of the published comparisons start at ~1000 elements.,can this include be removed?,(style) externs should be avoided in .c files,Is this still needed?,(style) externs should be avoided in .c files,do we need backwards compat for very recent dev versions?,"Any reason why this isn't in the models package? Seems appropriate there, as these have gorm tags associated with them. Also, I found it confusing that the methods for the types are broken out across different files, that seems unconventional for Go. I think normally methods on and related to a type directly follow the type definition.",These lines are not coupling outputs with dependencies. Maybe some refactoring is needed. But this is not related to this PR.,"minor, seems L1398 is not must needed?",(style) line over 80 characters,use gpx.h instead of gpx.c
"@@ -33,6 +33,7 @@ import ( ""github.com/mysteriumnetwork/node/core/connection"" ""github.com/mysteriumnetwork/node/core/ip"" ""github.com/mysteriumnetwork/node/core/location"" + location_factory ""github.com/mysteriumnetwork/node/core/location/factory"" ""github.com/mysteriumnetwork/node/core/node"" ""github.com/mysteriumnetwork/node/core/port"" ""github.com/mysteriumnetwork/node/core/service""",I don't know about this aliasing and 'factory'. Previous version was rather straightforward: `location.CreateLocationResolver`. Perhaps `location.CreateResolver` would be even better? What do we actually gain here from moving DI to a separate sub-package?,remove empty line,Can just call `Read`,can you move this up with other std packages?,The vast majority of the changes to this file are simply about swapping out the `eth.Client` mock for the `FluxAggregator` mock.,Should we be using this library everywhere? Or is it just useful in this particular package for some reason?,Is there a reason for the extra new line here? Looks like this is all from the same pathing for the most part.,no need to specify a type here.,"In addition to the gogs copyright at the head of this file, could you add the one for gitea too?",Group with last group of imports below.,Group with last group of imports below.
"@@ -47,6 +47,14 @@ void Engine::SetCallBack(std::function<void(const void *, std::string, { } +static void engineThrowUp(const std::string &engineType, + const std::string &func) +{ + throw std::invalid_argument( + ""ERROR: Engine bass class "" + func + ""() called. "" + engineType + + "" child class is not implementing this function\n""); +} + // should these functions throw an exception? void Engine::Write(Variable<char> & /*variable*/, const char * /*values*/) {} void Engine::Write(Variable<unsigned char> & /*variable*/,",Use `UpperCamelCase` for function names,why did you add a error stream output here? (not mentioned in the pull request description),"just for my own knowledge, how is this any more reliable than a super random sentinel+prefix?","Some of these properties no longer exist, and others (like expected) will not be part of core, only part of amp code. I'm only transferring externs as they become needed during typechecking, to avoid importing stale or mistaken ones","I know this is coming from the initial implementation, but is there any other reason for us to want to obfuscate the source, line number, col number of the error? Why don't we get those from the error object and pass them out to the window.onerror?",Why is this necessary? The error message shouldn't be `null` (or empty for that matter) but mention the reason for the error.,"Doing `...args` to collect args into an array, then `...args` to spread it, is considerably slower than just `...arguments`. Prefer `arguments` whenever possible.","no need to slice here and just do `apply(null, arguments)`","This property is AMP-only and not part of core, please remove from here. If desired it can live in `src/error-reporting.extern.js` since it's consumed only by error reporting code",This behaviour is a little different when `func.name` is the empty string. Can you confirm that the behaviour change is OK?,as you are very near this brace can you fix the condition style please ?
"@@ -232,9 +232,12 @@ SchemaDate.prototype.cast = function(value) { if (value instanceof Number || typeof value === 'number') { date = new Date(value); + } else if (typeof value === 'string' && !isNaN(Number(value)) && (Number(value) >= 275761 || Number(value) < 0)) { + // string representation of milliseconds take this path + date = new Date(Number(value)); } else if (typeof value.valueOf === 'function') { - // support for moment.js. This is also the path strings will take because strings - // have a `valueOf()` + // support for moment.js. This is also the path string representation of years + // will take because strings have a `valueOf()` date = new Date(value.valueOf()); } else { // fallback","I'm not 100% sold on this idea but I like it in general. Nice compromise between using the 'Date' constructor where possible and falling back to the pre #5880 behavior when it makes sense. However, instead of `Number(value) < 0`, let's do `Number(value) < MIN_YEAR` because `new Date('-2017')` is perfectly valid in JS and I don't want to break the date behavior.",There are a bunch of other places in the source that use this function... do we need to update them too?,There are a bunch of other places in the source that use this function... do we need to update them too?,Nit (and unrelated to this PR): `previousDate` will always be truthy here (else `isValidDate()` would be false).,"Please format whitespace here according to the rest of the file (space before and after keywords, between `)` and `{` and no inner space in `()` expressions.","@caitp, after writing tests for the above fix. I discovered this bug in the existing implementation of the handling of `pattern.maxFrac` that causes rounding numbers down to zero to fail.","I think this is not the right check, if `fractionSize` === 0, then we do not want `pattern.maxFrac`","please change to `return number.intValue() != 0`: 0 return false, else return true.","Type annotations could instead use `../types/date.Timestamp` for less-frequently used typedefs, but this felt common enough to merit the import",This is all the custom pass was handling?,nit: this cast would look better surrounding obj right? or does it need to be on the binding?
"@@ -138,8 +138,7 @@ public abstract class BaseHttpClusterStateProvider implements ClusterStateProvid Set<String> liveNodes = new HashSet((List<String>)(cluster.get(""live_nodes""))); this.liveNodes = liveNodes; liveNodesTimestamp = System.nanoTime(); - //TODO SOLR-11877 we don't know the znode path; CLUSTER_STATE is probably wrong leading to bad stateFormat - ClusterState cs = ClusterState.load(znodeVersion, collectionsMap, liveNodes, ZkStateReader.CLUSTER_STATE); + ClusterState cs = ClusterState.createFromData(znodeVersion, collectionsMap, liveNodes); if (clusterProperties != null) { Map<String, Object> properties = (Map<String, Object>) cluster.get(""properties""); if (properties != null) {",Remember to close SOLR-11877 after this,see #8993 the send thread of zookeeper ClientCnxn will keep trying reconnect to the closed zk Server if you don't close the zk client and it will cause more integration testing problems because huge reconnect failed events will block curator global event loop processing.,"I think ""createEphemeral(String path, String data) "" also needs to be modified.","I'm not sure this is needed here, `createNode` is called only from `setState` (except the recursive calls) and there's also a check.","@aryangupta1998 Please revert `import org.apache.hadoop.ozone.om.helpers.*;` to specific import statements, this would avoid including everything.","Question: In case of some failure after OM is paused, should we unpause with the old DB?","Do we need to make this default true, as by default we return the full location list(Even before this fix, as the key name says full location version) and false if we return only the latest version?","When reading old containerDataYaml which does not container the Schema version field, what value would be returned? IIRC and it returns null, then we should set it to version V1.","Question: I see this is called from Ratis, when any StateMachine has hit exception. In this case, do we want to terminate OM, is this handled to handle any failure of notifyConfigurationChanged where we are throwing OzoneIllegalArgumentException?",Please replace star import with individual imports.,"Question to understand: Why OM's will diverge? And also why are we shutting down OM here? From PR description, i thought if config is not updated on existing OM's we are shutting down, but shutdown if new config does not have that node id is being done as part of this Jira."
"@@ -1124,7 +1124,7 @@ void Identifier::_exportToJSON(JSONFormatter *formatter) const { //! @cond Doxygen_Suppress static bool isIgnoredChar(char ch) { return ch == ' ' || ch == '_' || ch == '-' || ch == '/' || ch == '(' || - ch == ')' || ch == '.' || ch == '&' || ch == ','; + ch == ')' || ch == '.' || ch == '&'; } //! @endcond ",this change should be reverted,"Stray thought: strlen() has to traverse the string looking for a '\0' byte, which strcspn already did for us. We could make this test cheaper by writing it as: <code> if (string[strcspn(string, ""metachars"")] == '\0') /\* i.e. no metachars appear in string */ </code>",I don't think that this is needed (see below) since we'll get a parse error if ellipsis is used incorrectly.,"This is not strictly correct, although it was not before this PR, too. After a dot character, a new identifier should start, so we should check for `isIdent()` instead of `ch == '.' || isIdentPart(ch) || isNumber(ch)` after dot. If this is eventually getting into the core, I'll fix it.","I think these two methods CheckUnsupportedChars and CheckUnsupportedCharsDatastore are checking two different character set, why you need to change this method same to CheckUnsupportedCharsDatastore?",Add a TODO. Let's fix during FixIt.,does it also look correct in `borg help` on the shell after that?,Changing this from `ref` to `out` forces the callee to do the indirect write. Why is that a perf improvement?,">SPEC [](start = 176, length = 4) nit: we usually write lowercase `spec`",What does this look like when written in HTML?,Ignore the changes in this file. They are just notes for me
"@@ -186,9 +186,15 @@ type mockedIdentityRegistry struct { anyIdentityRegistered bool } +// IsRegistered mock func (mir *mockedIdentityRegistry) IsRegistered(address common.Address) (bool, error) { return mir.anyIdentityRegistered, nil } +// WaitForRegistrationEvent mock +func (mir *mockedIdentityRegistry) WaitForRegistrationEvent(providerAddress common.Address, registeredEvent chan int, stopLoop chan int) { + +} + //check that we implemented mocked registry correctly var _ registry.IdentityRegistry = &mockedIdentityRegistry{}","This function signature is a bit complicated, some parameters are IN type (stopLoop which is modified from outside), others are OUT (registeredEvent channel which is modified inside function) I suggest the following signature -> SubscribeToRegistrationEvent(identityAddress) returns registeredEvent chan of type (RegisteredEvent not int), Unsubscribe func(), error (in case of any error). That way caller can always cance subscription if needed and check for any errors. Also - unsubscribe function hides any internal details how subscribtion is really implemented",Optional: put the error inline rather than outside the `if`.,Isn't this supposed to be called just Upkeep now?,I think this needs to be the configurable `KEEPER_MINIMUM_REQUIRED_CONFIRMATIONS` should be part of the config passed in from the keeper delegate function.,"I liked the initial name better, it's more descriptive.",why change from uint32 to string? It's harder to address the key now.,let's remove this newline again ;),We don't even need this variable here.,Are these events are used somewhere else? Should not they be defined as constants?,What's the purpose of removing this option?,Missing a `StartOnce`?
"@@ -45,7 +45,7 @@ const options = { query: ['src/**/*.png', 'src/**/*.jpg', 'src/**/*.gif', 'src/**/*.svg'] }, copy: { - query: ['src/**/*.json', 'src/**/*.ico'] + query: ['src/**/*.json', 'src/**/*.ico', 'src/**/*.wav'] }, injectBundle: { query: 'src/index.html'","`.wav`?! cannot we use something slightly more modern and compressed instead? :) I dunno, like `.mp3` or `.aac` or `.ogg`...","`npm run lint-fix` to fix error, I think comma is missing at the end of the line","`npm run lint-fix` to fix error, I think comma is missing at the end of the line",`README.md.jhi.client.angular` must be merged into `README.md.jhi.client`.,`README.md.jhi.client.angular` must be merged into `README.md.jhi.client`.,Nice to see the removal of the hack added by #23373.,Why are you keeping `tslint.json`?,Why are you keeping `tslint.json`?,Just curious: what's the ``.max``?,"So much cleanup, yay.",Shouldn't _Jenkinsfile be removed from main generator and from here then also? If yes then also remove from expected test files.
"@@ -1602,6 +1602,17 @@ luaA_client_swap(lua_State *L) *ref_swap = c; luaA_class_emit_signal(L, &client_class, ""list"", 0); + + luaA_object_push(L, swap); + lua_pushboolean(L, true); + luaA_object_emit_signal(L, -4, ""swapped"", 2); + lua_pop(L, 2); + + luaA_object_push(L, swap); + luaA_object_push(L, c); + lua_pushboolean(L, false); + luaA_object_emit_signal(L, -3, ""swapped"", 2); + lua_pop(L, 3); } return 0;",Wouldn't a single signal call be enough? (without the boolean even),can you please put them onto the same line,"perhaps SKIP_OWNERSHIP_CHECK is a better name, more in-line with the other flags?",Should this return RLOCK_TYPE instead of RLOCK_TYPE() ?,"hmm ... I should also have mentioned the missing ""is"" before ""only"" !","nitpick, this is a long flag, can `--mjson` stand for ""merged JSON"" or `--sjson` for ""single JSON"" work?",You'll want to add the module parameter declaration (and manpage change) for this.,Should not be in separate import group (of lines).,this may cause a segfault if comparing incompatible types,nit: spurious blank .,"If the minimap is NULL at this time, client side scripting won't be able to access to `core.ui.minimap`, right? Please add a note to `client_lua_api.md` that this table may be nil if the minimap is disabled."
"@@ -17,6 +17,11 @@ <br/> <%= note_event(@note.status, @note.closed_at, @note_comments.last.author) %> <% end %> + <% if current_user && current_user != @note.author %> + <%= link_to new_report_url(reportable_id: @note.id, reportable_type: @note.class.name), :title => t('browse.note.report') do %> + &nbsp;&#9872; + <% end %> + <% end %> </div> <% if @note_comments.find { |comment| comment.author.nil? } -%>","I suspect that this whole block, which is going to be repeated a number of times, should probably be in a helper. I guess it would need to be given the object and the title and could probably figure out everything else from that?","since we know that the notes are going to be iterated upon in the following line, we can preload them, to avoid a second `SELECT count` that would instead happen with `.each`","This logic would work in the context of the org admin, but not necessarily DEV admins because we set `@user` to the user we're looking to administrate and then `@user == article.user` would always be true, eh? I don't think this is too big a deal because I figure the more important case here is org admins.",Won't this work? `report ||= false`,"Out of scope of this PR probably, but I think we should consider having a css class that is uppercased (if we don't already) and applying it here. We have lots of variations of different text formatting (lowercase, capitalized, all uppercase), and using classes would make this a bit easier/more robust.",Block has too many lines. [29/25],Could you add `(last 10)` or something similar? Better to be specific here IMO. :),"This is actually not possible here. We don't have access to `current_user` in this file because it will be cached at the edge. I actually feel like it would make sense to have some custom linting that would catch this because it's not typical for Rails. This is a common issue folks have. Thoughts @rhymes @maestromac @lightalloy? Anyway, the solution will need to be to modify the JavaScript functionality.",You don't need the `to_s` here.,I will confess I am confused by this additional level of abstraction. Why not just call `user.update!(attributes)` in-place rather than having this small service class?,I will confess I am confused by this additional level of abstraction. Why not just call `user.update!(attributes)` in-place rather than having this small service class?
"@@ -218,6 +218,9 @@ class Document < AbstractBlock # Public: Get the Reader associated with this document attr_reader :reader + # Public: Get/Set the PathResolver instance used to resolve paths in this Document. + attr_reader :path_resolver + # Public: Get the Converter associated with this document attr_reader :converter ",Should we expose this attribute in the Asciidoctor.js API ?,not related to this PR. should all the stuff that depends on local-specific things go into outputLocal?,"Lint/UnusedMethodArgument: Unused method argument - path. If it's necessary, use _ or _path as an argument name to indicate that it won't be used. You can also write as directories_at_path(*) if you want the method to accept any arguments but don't care about them.<br>Lint/UnusedMethodArgument: Unused method argument - with_attrs. You can also write as directories_at_path(*) if you want the method to accept any arguments but don't care about them.","If you don't use the variable anywhere else, you could directly use `self.context.get` in the `if` statement.","This thing is actually useful for Trees too, and potentially other obj types. This is to add to our previous discussion about making base odb type-aware @pmrowla","This is the wrong place for this -- issues with old database formats should be dealt with on read-in, not in the other methods in `spec.py`. make it so if the reader encounters an old external with `""None""` as the path value, that it converts that to the modern spec format. Then other methods (like `prefix`) don't have to think about historical anomalies.","I think this check should be on record, not upstream. Whether we found the spec locally or upstream, if we found a record we should use the path from that record, and only compute the path when the spec isn't found. This will be important for things like if a user changes their install layout. They should still be able to see the packages they installed before the change, but they won't if we recompute the prefix when we could've gotten it from the database.","Does ""pre-translated name"" mean ""name before translation""?",What folder exactly locks the `conanfile_lock`?,"I don't really know if there is a scenario where the `prefix` will not be `None` for this case (TRAVERSE_PREFIX_LEN=2, used by filesystems with real dirs etc) but if there is no such case, then perhaps we could add an `assert prefix is None` as a safe-guard.","If the file itself is required, why not require this as well?"
"@@ -147,7 +147,7 @@ public interface Multimap<K, V> extends Traversable<Tuple2<K, V>>, Function1<K, @Override default boolean contains(Tuple2<K, V> element) { - return get(element._1).map(v -> Objects.equals(v, element._2)).getOrElse(false); + return get(element._1).map(v -> v.contains(element._2)).getOrElse(false); } /**",I think contains on `Multimap` was broken - it should return true if one of the values is associated with the key? It that right,"I wonder if we really should just throw all elements in a guava MultiSet and compare the 2 sets for equality. I'd guess the performance will be better for larger collections, not sure if collections are using this method that are actually large enough though. But maybe it's just that I really don't like this method: I can't come up with a reason that justifies having to create 2 collections that might contain the same elements with potential duplicates but in potentially different orders  ","Wow, this is quite the method :+1: Looks to be a very good use of priority queue, I like particularly how the data structure can just ""take care of itself"" and does the right thing.",Seems like this is a left-over... Remove it,I think if we do v.equals(values[i]) we can eliminate the null check,"I'm a bit worried about performance here, as state transfer uses the `CollectionKeyFilter` and the collection is the data container itself. It's weird that `AdvancedCacheLoader.process()` can skip the unmarshalling for values, but not for keys... I'm not sure we can avoid unnecessary marshalling/unmarshalling with the current API, but I think keeping `keys.contains(key)` is more important.",Does this need to verify that the comparer is the same? This may need new functional tests to validate that this combination is detected and works correctly.,Just fixing a compiler warning. We were missing the recursive generic parameter.,We typically attribute the parameter with `[NotNullWhen(true)]`.,missing unit tests for this function?,huh? o can be a E and so this code would be totally compliant wouldn't it ?
"@@ -57,6 +57,7 @@ public class TiConfiguration implements Serializable { private static final int DEF_KV_CLIENT_CONCURRENCY = 10; private static final List<TiStoreType> DEF_ISOLATION_READ_ENGINES = ImmutableList.of(TiStoreType.TiKV, TiStoreType.TiFlash); + private static final int DEF_PREWRITE_CONCURRENCY = 20; private int timeout = DEF_TIMEOUT; private TimeUnit timeoutUnit = DEF_TIMEOUT_UNIT;",delete this line,we could move these to `HoodieStorageConfig` along with other parquet options?,"@vinothchandar @bhasudha : can you throw some light on why new config rather than reusing preCombine field value? I am working on putting up a new PR, so would like to know was this intentional or unintentional.","if there is no reason to have 0 as a limit, then we can use 0 as the default of no limit?",nit: rename to DEFAULT_POLL_TIMEOUT_MILLIS,"Note minor typo: `strips` -> `stripes`, but I'm fine with both.",Let's set this size to 1 MB == bytesPerCheckSum by default.,If this is KVM specific can we add kvm in the global setting name @ravening ?,i mulled this before. given we are not doing this across the board. do you want to keep it consistent and remove this constant?,Can this setting have some more context like DEFAULT_GLOBAL_MAX_MEMORY_USAGE,"let's change ""we will checks"" to ""it checks"""
"@@ -43,6 +43,7 @@ module Test def self.setup_models conn = ClientRequest.connection + return if conn.table_exists? ""test_client_requests"" conn.create_table(:test_client_requests, force: true) do |t| t.decimal :amount t.string :project_title",Presumably we no longer need `force: true` here.,Only seed data if we aren't skipping the seed data phase.,the two classes seem to only differ by this one line...did you consider having two methods on a single class? Like `Db::ConnectionManager.in_read_replica` and `.in_leader_node` or something?,the two classes seem to only differ by this one line...did you consider having two methods on a single class? Like `Db::ConnectionManager.in_read_replica` and `.in_leader_node` or something?,@solipet Does this still accomplish what you wanted? I'm not totally sure yet if doing a `.clear` will mess up the test suite in any way.,@solipet Does this still accomplish what you wanted? I'm not totally sure yet if doing a `.clear` will mess up the test suite in any way.,"I believe the original issue was the api key had been an empty string - as it is in my .env file (and in `.env_sample`) and the honeycomb client is looking for !key (which is false, since """" is truthy). We may need to use `presence` on line 6 when setting the api key from env/appconfig to work around that (and coerce Libhoney::Client to use null transport instead of raising errors). I looked at the installed libhoney version when the commit adding this check was introduced, it already had the work-around/fallback logic in place, but doesn't or didn't handle empty strings as though they were false-y",Since there will be a few more calls that need replacing I extracted this `shared_context` now.,"This is redundant as `max_retries` already has a default argument of 3, but I noticed the other retryable clients follow the same pattern so feel free to leave it in for now",nit: We have a handy `SiteConfig.dev.to?` that would it easier to grep in the future.,"This is used in `refresh_attributes`, which is necessary so we can always start the app with profiles that are aware of all their fields. We need this helper so the method can do an early return in scenarios where the DB does not exist yet, e.g. `bin/setup`. The `begin` - `rescue` - `else` construct is a bit odd, but works well for our use case. There's no way to check for an AR connection except for actually calling it. If there is no DB, it will raise an `ActiveRecord::NoDatabaseError`, which we resuce. If we don't we execute the `else` branch, which ensures that the `profiles` table exists. I really wish Rails had a callback that I could hook into for this, but for the time being this will have to do."
"@@ -339,6 +339,12 @@ hipError_t hipHostAlloc(void** ptr, size_t sizeBytes, unsigned int flags) { // width in bytes hipError_t ihipMallocPitch(void** ptr, size_t* pitch, size_t width, size_t height, size_t depth) { hipError_t hip_status = hipSuccess; + if(ptr==NULL || ptr==0) + { + hip_status=hipErrorInvalidValue; + return hip_status; + } + // hardcoded 128 bytes *pitch = ((((int)width - 1) / 128) + 1) * 128; const size_t sizeBytes = (*pitch) * height;",HIP runtime is compiled using a C++ compiler. So comparison to both NULL as well as 0 does not make sense. Just comparing to NULL is sufficient.,"Should this be changed to `uint8_t` and registered for save states? (I'm not sure whether saving it would be useful, considering only one of the state classes in this file saves any members at all.)","likewise can't we change h_width from int to size_t ? There is lot of such cases in this PR, I think it would be better to have the declaration fixed and avoid all those casts, no?",Are we abusing the definition of 'prevent power gating'? It looks from the commit message that you use this PPG flag for a slew of other tricks beyond just power gating.,"Would it make more sense to call `LPC176x::pwm_attach_pin` in `set_pwm_frequency` instead of (or in addition to) in `set_pwm_duty` since (presumably) `set_pwm_frequency` is called at initialization, while `set_pwm_duty` is more likely to be called as part of the operation loop?","The API seems to return wchar_t*, so the string conversion won't work (before your patch). The patch can still go in though.",same here - an example of cross-core access?,"Any particular reason why this is setting the pin as input, rather than `writePin(___, 1)`?",`EEPROM_VERSION` will need to be bumped with this change.,"Could add a license header here, please?",This seems really wrong to me... If OpenMP is active and we have less than 100 points we do nothing!
"@@ -0,0 +1,10 @@ +<%= t(""mailer.welcome_mailer.welcome_notification.header"") %> + +<%= t(""mailer.welcome_mailer.welcome_notification.para1"") %> + +<%= t(""mailer.welcome_mailer.welcome_notification.para2"", help_url: help_url('') ) %> + +<%= t(""mailer.welcome_mailer.welcome_notification.para3"", feedback_url: feedback_url ) %> + +<%= t(""mailer.welcome_mailer.welcome_notification.signature"") %> +",these urls are still in `a` tags so we should probably include these links separately for a non-HTML version,"Should we be doing this everywhere we're using path helpers, or is this a special case?","Should we be doing this everywhere we're using path helpers, or is this a special case?","these are not related, ok for now but next time please do separate PRs","these are not related, ok for now but next time please do separate PRs",Could we have a docstring for this?,Could we have a docstring for this?,"I feel like we have been using more kebab case class names, should we kebab-case this and `doc_capture_continue_button_form` while we're here? (I don't feel strongly)","I feel like we have been using more kebab case class names, should we kebab-case this and `doc_capture_continue_button_form` while we're here? (I don't feel strongly)","You should make a ""register"" help topic, and use that for this argument, rather than `None`. Search for ""paths"" or ""automation"" to see how to do that.",You need a period at the end of the sentence.
"@@ -507,8 +507,18 @@ func (s *Server) configureAccounts() error { if opts.SystemAccount != _EMPTY_ { // Lock may be acquired in lookupAccount, so release to call lookupAccount. s.mu.Unlock() - _, err := s.lookupAccount(opts.SystemAccount) + acc, err := s.lookupAccount(opts.SystemAccount) s.mu.Lock() + if err == nil && s.sys != nil && acc != s.sys.account { + // sys.account.clients (including internal client)/respmap/etc... are transferred separately + s.sys.account = acc + s.mu.Unlock() + // acquires server lock separately + s.addSystemAccountExports(acc) + // can't hold the lock as go routine reading it may be waiting for lock as well + s.sys.resetCh <- struct{}{} + s.mu.Lock() + } if err != nil { return fmt.Errorf(""error resolving system account: %v"", err) }","That's fine though, meaning that you can send to this channel under the server lock. The internalSendLoop will pick up the change when the server lock is released (if loop is blocked trying to grab the server lock). Even the way you do it here (releasing the lock, sending, then reacquiring) does not guarantee that the internalSendLoop will have time to refresh in that interval.",This makes SetACL deterministic if the same user is supplied multiple times with different scopes. This allows us to append an entry to the default ACL to grant the repo creator OWNER.,"We are resetting an account so we have a passphrase - kill secrets, don't force","Could we make this message more verbose? ""Failed to build ACME client"" doesn't really tell a whole lot. Would make this message more like: ""Failed to build ACME client. LetsEncrypt functionality will be limited until traefik is restarted.""",AFAICT this is belt-and-suspenders and it's safe to remove the check that the new ACL length is 1 when creating an ACL for a new repo.,Can we keep it scoped and give the err a new name?,"Still thinking about alternate ways to do this, but in the meantime, this should be GetTimerCompletionWaiter.","It's should be `!isAccountMatchingCaServer(account.Registration.URI, a.CAServer)` instead of `isAccountMatchingCaServer(account.Registration.URI, a.CAServer)` no ?","deleting account, so nuke secrets forcibly","I would rather have one method for getting a cached service account and one for getting a live service account with different names so that it's easy to see exactly what a caller is doing, but I won't let perfect be the enemy of good.",I'm not following why we even need this goroutine here? If we're going to wg.Wait() right after starting it we can just make a blocking call to connectAndWritePump or even inline that code here
"@@ -47,6 +47,7 @@ public interface CapabilityType { String ELEMENT_SCROLL_BEHAVIOR = ""elementScrollBehavior""; String HAS_TOUCHSCREEN = ""hasTouchScreen""; String OVERLAPPING_CHECK_DISABLED = ""overlappingCheckDisabled""; + String ENABLE_DOWNLOADING = ""chromium:enableDownloading""; String LOGGING_PREFS = ""loggingPrefs""; ",The name `enableDownloading` implies this is a boolean capability. How about `downloadDir`?,"So here, both are plural.","Slice is mutable, create new `utf8Slice` instance is safer, unless we have immutable slice.",Removed these cuz eh.,"Use a single string with placeholders, not concatenation.",Copy/paste (should be `DRACULA`),"This alias is not correct, it should be `Inspection`.","Aren't you changing the merge semantics? Previously if we had <extension target="""" point=""""> <something enabled=""false"" /> <something ... /> <!-- completely new contribution --> </extension> Then the new contribution would be enabled, but now it'll keep a merged enabled=false flag. Or is something else changing in the merge?",@anistor @gustavonalle any change to move forward for 13~14 my annotations request?  ,These 'from' methods are used by conversion constructor. Of note we create a 'default' case to map to an enum value to give us flexibiity in case we change this going in the forward and then old clients do not have the new values. In this case the new clients will use the default value.,I thought enumeration of the features inside th Feature class was something we want to avoid for now. I remember some discussion about this last time I created an extension ...
"@@ -28,10 +28,9 @@ public interface ValidatorManager { Map<String, ValidationReport> validate(Project project, File projectDir); /** - * The ValidatorManager should have a default validator which checks for the most essential - * components of a project. The ValidatorManager should always load the default validator. This - * method returns the default validator of this ValidatorManager. + * ValidatorManager will not have any default validator. */ + @Deprecated ProjectValidator getDefaultValidator(); /**",Found one internal team is using this method. Will coordinate with them about the migration solution.,sentence is a bit strange. What about @deprecated since 5.6 as Decorator is deprecated ?,"Seems unused, please remove it.",Do we have a substitute for this now or do we just drop it?,Add the phpdoc for `int[]` for $swaggerVersions,"`Processor`? (we have a mixed of processor and message processor currently, put primary interface is `Processor`)",I ended up abandoning this approach entirely for now.,I would return a warning (as well as for the permission check case below),"Does ""Arbitrary order"" mean that the order will be always the same or not?",New line in the end of each affected file.,"Let's call this concept ""Deployment properties"" instead of ""Configuration management"" all over the codde"
"@@ -230,6 +230,18 @@ namespace Datadog.Trace.Configuration /// </summary> public const string DiagnosticSourceEnabled = ""DD_DIAGNOSTIC_SOURCE_ENABLED""; + /// <summary> + /// Configuration key for the application's server http statuses to set spans as errors by. + /// </summary> + /// <seealso cref=""TracerSettings.HttpServerErrorCodes""/> + public const string HttpServerErrorCodes = ""DD_HTTP_SERVER_ERROR_STATUSES""; + + /// <summary> + /// Configuration key for the application's client http statuses to set spans as errors by. + /// </summary> + /// <seealso cref=""TracerSettings.HttpClientErrorCodes""/> + public const string HttpClientErrorCodes = ""DD_HTTP_CLIENT_ERROR_STATUSES""; + /// <summary> /// String format patterns used to match integration-specific configuration keys. /// </summary>",The field `HttpServerErrorCodes` should be called `HttpServerErrorStatuses`,will changing this string break xml deserialization of session data?,Could you explain why you made this change?,This attribute still has effect in a few corner cases in CoreCLR. Search for `DisablePrivateReflection` under `src\coreclr` and delete everything found.,This is being removed because #987 got implemented right?,"If you're not going to make these properties to take advantage of inlining, I would keep using `FromSeconds`. It's a little clearer.","These actually seem like a no-brainer to me - our artifact names are also e.g., `opentelemetry-javaagent-servlet-2.2`, the name of the library. And these are supposed to reflect the name of the library. I understand the potential for confusion due to the lack of something like a `+` but I think it's just the nature of how instrumentation libraries are named.",Should this use class as well?,i think this can stay private for now at least,There is a lint error here: GoogleApiDebugOptions.java:43: Line is longer than 100 characters (found 101). [LineLength] perhaps move the empty space at the end of the line to the next line.,"W3CBaggagePropagator shouldn't be registered as part of `TraceMultiPropagator`, i.e. it should be added directly through `addTextMapPropagator()` ;)"
"@@ -35,6 +35,12 @@ MAXIMUM_LOOP_COUNT = 600 DEFAULT_BUCKET_FMT_V1 = 'gs://{}-data-{}' DEFAULT_BUCKET_FMT_V2 = 'gs://{}-{}-data-{}' +FORSETI_V1_RULE_FILES = [ + 'bigquery_rules.yaml', 'blacklist_rules.yaml', 'bucket_rules.yaml', + 'cloudsql_rules.yaml', 'firewall_rules.yaml', 'forwarding_rules.yaml', + 'group_rules.yaml', 'iam_rules.yaml', 'iap_rules.yaml', 'ke_rules.yaml', + 'instance_network_interface_rules.yaml'] + GCLOUD_MIN_VERSION = (180, 0, 0) GCLOUD_VERSION_REGEX = r'Google Cloud SDK (.*)' GCLOUD_ALPHA_REGEX = r'alpha.*'","Can you please make each of these in a separate line. It will be easier to keep them sorted, and add/remove.","Please, let's not call this `zstd` in the kernel space. Can we prefix this to avoid name collisions?","Since `zpool wait` performs no privileged modifying operation to the pool it should probably be available to normal users, similar to `zpool status`, `zpool list`, etc. In which case, at least some of these tests should be moved to `functional/cli_user`.",I think your tests are failing because you are still marshaling using yaml.v2 here,It might make more sense to move this test under `tests/zfs-tests/tests/functional/cli_root/zfs_ids_to_path`. Though either location is fine with me.,"We already have a `functional/kstat/` directory which can be used, or alternately the one test in there can be moved to this new directory. But let's keep all of these tests in one place.","What is ""table callable"" and ""schema callable"" ?",I also disabled tests for javac_binary_test.py,"Why is this ""base"" and ""full""? Those names seem confusing to me. Would ""base"" and ""update"" be better?","Ok with the addition. however the condition should probably be simplified too : It think it should be just be ""(generator.authenticationType === 'oauth2' && (generator.applicationType === 'microservice' || generator.applicationType === 'gateway'))"" (Please note that oauth2 monolith use their own mapping logic and do not use the principalExtractor and authoritiesExtractor => and so doesn't currently need the new OAuth2TokenServicesConfiguration class however, it may be a valuable futur addition)","Ok with the addition. however the condition should probably be simplified too : It think it should be just be ""(generator.authenticationType === 'oauth2' && (generator.applicationType === 'microservice' || generator.applicationType === 'gateway'))"" (Please note that oauth2 monolith use their own mapping logic and do not use the principalExtractor and authoritiesExtractor => and so doesn't currently need the new OAuth2TokenServicesConfiguration class however, it may be a valuable futur addition)"
"@@ -170,10 +170,14 @@ public class ConfigSetsHandler extends RequestHandlerBase implements PermissionN boolean overwritesExisting = zkClient.exists(configPathInZk, true); - if (overwritesExisting && !req.getParams().getBool(ConfigSetParams.OVERWRITE, false)) { - throw new SolrException(ErrorCode.BAD_REQUEST, - ""The configuration "" + configSetName + "" already exists in zookeeper""); - } + // Get upload parameters + String singleFilePath = req.getParams().get(ConfigSetParams.FILE_PATH, """"); + boolean allowOverwrite = req.getParams().getBool(ConfigSetParams.OVERWRITE, false); + // Cleanup is not allowed while using singleFilePath upload + boolean cleanup = singleFilePath.isEmpty() && req.getParams().getBool(ConfigSetParams.CLEANUP, false); + + // Create a node for the configuration in zookeeper + createBaseZnode(zkClient, overwritesExisting, isTrusted(req, coreContainer.getAuthenticationPlugin()), cleanup, configPathInZk); Iterator<ContentStream> contentStreamsIterator = req.getContentStreams().iterator(); ","should we error instead of silently ignoring the `cleanup` param? it defaults to `false`, so someone must have explicitly set it to `true`",see #8993 the send thread of zookeeper ClientCnxn will keep trying reconnect to the closed zk Server if you don't close the zk client and it will cause more integration testing problems because huge reconnect failed events will block curator global event loop processing.,"I think ""createEphemeral(String path, String data) "" also needs to be modified.","I find this method will get triggered whenever ConnectionState.RECONNECT happens, which can be caused on the root by either connection recover or new session creation. I think it would be better if we can recognize this different condition by checking session id at the entry point of the callback.",please update `conf/zeppelin-env.sh.template` with new `ZEPPELIN_READ_ONLY` flag.,please update `conf/zeppelin-env.sh.template` with new `ZEPPELIN_READ_ONLY` flag.,"`isReadable` I don't think offhand is the same as 'isFile'. If not, then any directory that has a '.zip' extension would be returned (incorrectly). Please have a look into this to verify behavior.","Two things: * `ozone.client.buffer.size` seems to be confusing. This configuration for the Ozone client of the **s3g**. As we have a global list of configuration keys, I guess we need a `s3g` prefix here. (For example `ozone.s3g.client.buffer.size`) * Usually, I prefer to use annotation based configuration, if possible. (It can be harder here as S3g uses CDI injections. If it's too complex, you can ignore...)","In that case, instead of doing `if (isAuthorizedRequest(serviceUrl, serviceName, requestUri)) { return false; } else { return true; }` prefer doing `return !isAuthorizedRequest(serviceUrl, serviceName, requestUri);`",Minor NIT: Do not use *,"Do not close the zkClient here, if it is closed here, other components using this zkClient later will report an error. Close them in ApplicationDeployer destroy/postDestroy before `onStopped`."
"@@ -191,7 +191,7 @@ func NewReader(r io.ReaderAt, size int64) (*Reader, error) { if len(archive.File) == 0 { return nil, errors.New(""archive is empty"") } else if fi := archive.File[0].FileInfo(); !fi.IsDir() { - return nil, errors.New(""archive root is not a directory"") + return nil, fmt.Errorf(""archive root directory missing: expected a 'root' directory but got %v"", archive.File[0].Name) } root := archive.File[0].Name pref, err := unitPrefix(root, archive.File)","There is no specific requirement that the root be called `root`, just that there is a single root directory and that it be the first entry in the zip.","If there are directories with different fsid (e.g. snapshot volumes), ignore them.","It's fine to not know the correct sizes of directories, `ls` doesn't report the size of files stored in directories for normal filesystems either. And generally speaking the size of directory shown by `ls` isn't normally taken to be the size of the objects contained in it.",Changing this cause a different type exception and different exception message be used. `ENOTDIR` and `ENOENT` are distinct errors. `ENOTDIR` means something expected is not a directory. We shouldn't treat them the same unless there is a reason to do so (like Windows compatibility). What caused you to update this? Was it a test failure?,"While we are at it, let's not include default message in the exception itself but rather provide the message when we raise. I think the only place where this is raised in `find_root`, so shouldn't be too hard to adjust, unless there are too many tests that depend on it.","If we're going to do this we should allow symmetry - so that we can parse back to DatastorePath from the url format. Two options: 1. add a FromURL field that parses the url, treating the Host part as the datastore - this cannot be with url.Parse because that doesn't handle many characters in the host portion. 2. update FromString so that it can accept an ""ipv6"" encoded form: `ds://[datastore name with whatever]/path/to/other`",Hooray for much more debugging!,"Just in case, I'd test for regular files. In Linux you can get stuck here if you encounter a pipe or some character or block device (e.g. `mknod p mystuckypipe`). The _real_ complication comes if we want to check for circular references. But I wouldn't bother.",how about `ErrDirNameRead`?,"this is not needed anymore, `err` will be returned below and in case of error `info` will be `nil`","Nice, I like adding this to the enumerated pfs erors."
"@@ -1,6 +1,9 @@ <% unless ENV['DISABLE_SANDBOX_WARNING'] == 'true' %> <%= render partial: 'shared/sandbox_warning' %> <% end %> +<% if !current_page?(me_path) && current_user && current_user.requires_profile_attention? %> + <%= render partial: ""shared/user_profile_warning"" %> +<% end %> <header> <div class='container'> <div id='header-identity'>",perhaps we should encapsulate this logic in a helper method w a test?,Would it make sense to move this into the `update_profile` helper that's called on the line above? Then this helper would include all complexities of updating a profile record.,"the other filters handle ensuring the user is signed in, etc.","the other filters handle ensuring the user is signed in, etc.",We should no longer need to do this. Profile fields are now automatically loaded on app boot and later updated by the `ProfileFields::Add` and `ProfileFields::Remove` service objects.,this method is called for all controllers that use this module as a `before_action` -- thoughts on testing it via a shared example group that you include for all `TwoFactoryAuthenticatable` controller methods?,this method is called for all controllers that use this module as a `before_action` -- thoughts on testing it via a shared example group that you include for all `TwoFactoryAuthenticatable` controller methods?,"This is a decryption event, not an encryption event, maybe change the event name?","This is a decryption event, not an encryption event, maybe change the event name?","not sure how you feel about removing Devise, I have been trying to do it when I can since I think at the level of customization we have it is more confusing than helpful. If you are interested in moving away from Devise, removing references to `resource` would help :)","not sure how you feel about removing Devise, I have been trying to do it when I can since I think at the level of customization we have it is more confusing than helpful. If you are interested in moving away from Devise, removing references to `resource` would help :)"
"@@ -0,0 +1,7 @@ +[ 'options_hash', 'defaults', 'command_line_parser', 'pe_version_scraper', 'parser' ].each do |file| + begin + require ""beaker/options/#{file}"" + rescue LoadError + require File.expand_path(File.join(File.dirname(__FILE__), 'options', file)) + end +end",Now that we're only using this repo as a Gem you shouldn't need to `require` an expanded local file path like below.,Favor modifier if usage when having a single-line body. Another good alternative is the usage of control flow &&/||.,"@ptarjan which of these changes fixes the bug with double requiring / constant already defined, and which one just changes what's printed?",this is too early for us to use `IdentityStore.config` right? Where do we control this env var?,this is too early for us to use `IdentityStore.config` right? Where do we control this env var?,Prefer single-quoted strings when you don't need string interpolation or special symbols.,"I'd prefer to make these two separate tests, using the `:hcl1_only` tag, that makes it easier to remove. Will do this now",Should we add that `strip` to the initializer of `DependencyFileNotParseable` instead so we don't have to duplicate it all over the place?,What was the problem that you ran into with the `rails_multisite` freedom patch?,"I'm able to reason about this given the context I'm currently working with (reviewing a PR with a description in front of me), but I wonder what the experience will be like for future me. Is there a way we could provide more context inline (e.g. `o.include?(""goprivate="")`)? Or, if this is more generic and meant for parsing several arguments, could we extract this logic into a named method? I'd be hesitant to add yet more methods to this script, but I think the trade-off would be worth it. What do you think?",> since otherwise it fails before we do our own requires Do you have an example of what failed? Or do you think we might be missing a `bundle exec` somewhere?
"@@ -53,7 +53,8 @@ enum Timestamps implements Transform<Long, Integer> { OffsetDateTime timestamp = Instant .ofEpochSecond(timestampMicros / 1_000_000) .atOffset(ZoneOffset.UTC); - return (int) granularity.between(EPOCH, timestamp); + Integer year = Long.valueOf(granularity.between(EPOCH, timestamp)).intValue(); + return year; } @Override","This isn't necessarily a year. It may be months, days, or hours. Can we return `intValue()` directly instead?","I thought about making this an error in our inspection profile, but `CachingCostBalancerStrategy` does this, and I'm afraid to make a change in that class given the potential implications around the balancer strategy. I'm un-aware of a way to simulate what impact changing that division would have, so I decided to leave it as is.",is there any tests to cover the case?,"We should consider adding support for variable-precision timestamps (or, at least, expose this as `timestamp(6)`, since we're dealing with microseconds)",'time' makes no sense with this output.,'time' makes no sense with this output.,Is this change backwards compatible ?,can you please point me to testcase which is covering this.,">return new DateTime(value.UTicks | ((ulong)kind << KindShift)) [](start = 12, length = 62) this also can cause the constructor to throw when checking against the MaxTicks? #Closed",We usually use a `NAME` constant (and uppercase names for constants in general) for these kind of pluggable classes.,this will cats to long and not preserve float. `Float.floatToIntBits((Float) value)` seems correct. It seems that we didn't hit float case in test below? It it possible to test?
"@@ -351,8 +351,6 @@ func (mtask *managedTask) waitEvent(stopWaiting <-chan struct{}) bool { mtask.handleDesiredStatusChange(acsTransition.desiredStatus, acsTransition.seqnum) return false case dockerChange := <-mtask.dockerMessages: - seelog.Infof(""Managed task [%s]: got container [%s (Runtime ID: %s)] event: [%s]"", - mtask.Arn, dockerChange.container.Name, dockerChange.container.GetRuntimeID(), dockerChange.event.Status.String()) mtask.handleContainerChange(dockerChange) return false case resChange := <-mtask.resourceStateChangeEvent:",this is redundant because it gets logged immediately on entering the handleContainerChange function,Did you duplicate all of this logic? It looks like it was copied from container_internal,Why are we setting it to false here? Shouldn't it be set to false in `fixVM` after the fixing is done?,Are these two tech debt? If so is there a new issue opened?,you would not need this type assertion at all if you use atomic integer.,Can this be anything that is not a label? Wondering if we shouldn't just call this Labels...,Why are we doing this twice now? See line 693.,is this a `map[string]string`? Perhaps that would make it more obvious that it is not used differently?,This should not be an else here. You wan to always set lastError=err.,you don't need a pointer. Just use `sync.WaitGroup`. The zero value is a valid instance.,may I suggest removing that blank line?
"@@ -126,7 +126,7 @@ func (e *Executor) reportRequiringApproval(ctx context.Context) { var approvers []string for _, v := range ds.GenericDeploymentConfig.DeploymentNotification.Mentions { - if v.Event == ""DEPLOYMENT_WAIT_APPROVAL"" { + if e := ""EVENT_"" + v.Event; e == model.NotificationEventType_EVENT_DEPLOYMENT_WAIT_APPROVAL.String() { approvers = v.Slack } }",`ds.GenericDeploymentConfig.DeploymentNotification` in L128 is nullable.,"Minor nit, and just an idea. If you changed this to a `defer wg.Wait()` right after the declaration of the `WaitGroup`, this sort of mistake could be avoided in the future. TBH, I dislike synchronization in destructors almost as much as I despise early `return`s, so feel free to decline -- it's just that we are already employing both patterns in this function already (the `close`ing of the channel in the earlier `defer`, for instance).","Minor nit, and just an idea. If you changed this to a `defer wg.Wait()` right after the declaration of the `WaitGroup`, this sort of mistake could be avoided in the future. TBH, I dislike synchronization in destructors almost as much as I despise early `return`s, so feel free to decline -- it's just that we are already employing both patterns in this function already (the `close`ing of the channel in the earlier `defer`, for instance).","Minor nit, and just an idea. If you changed this to a `defer wg.Wait()` right after the declaration of the `WaitGroup`, this sort of mistake could be avoided in the future. TBH, I dislike synchronization in destructors almost as much as I despise early `return`s, so feel free to decline -- it's just that we are already employing both patterns in this function already (the `close`ing of the channel in the earlier `defer`, for instance).",What events were you seeing where it had `[]interface{}` rather than `[]string`? I assume this code would need to handle both data types. My guess is that `[]interface{}` is found in data parsed by Filebeat and that `[]string` is found in events that are natively generated in a Beat (such as a list of `tags`).,Is there any reason why we wouldn't always want to include the `DiatEvent` `Payload`'s severity?,Is there any reason why we wouldn't always want to include the `DiatEvent` `Payload`'s severity?,Is there any reason why we wouldn't always want to include the `DiatEvent` `Payload`'s severity?,"Should we rename `etcdRev` to e.g. `timestamp`? This is stored in postgres now and is set to the current unix time, right?","Having the namespace of module and metricset here is critical to prevent namespace conflicts. This guarantees to no metricset can conflict with an other. In addition we move the ""burden"" of doing the namespacing correctly to the person implementing the metricset. -1 on doing this change.","Was this a ""bug"" before?"
"@@ -42,4 +42,8 @@ public class CliqueMiningTracker { public boolean blockCreatedLocally(final BlockHeader header) { return CliqueHelpers.getProposerOfBlock(header).equals(localAddress); } + + public ProtocolContext getProtocolContext() { + return protocolContext; + } }",this shouldn't be exposed here - this class isn't a carriage for this - its used internally to determine if/how we can mine.,remove the classname reference. Just say the name of the class in which the thingy is implemented,"I wouldn't make it dependent on supportAdvisory. Say you have two acceptors.. different IPs.. you will have this called twice. I would always add the filter, and check if the filter is not part of the expression before you called it.","This is the block generation time, not the block processing time. What's the meaning of a new BlockChainInfo here?","I think it's better to make `DelegateExporterMap` as AbstractProtocol's property than as its super interface. That is, AbstractProtocol has a `DelegateExporterMap` rather is a `DelegateExporterMap`","the `Block` contract is a bit unclear if blocks are immutable. For example `io.prestosql.spi.block.DictionaryBlock` has `volatile` fields, which would suggest that blocks can be accessed from multiple threads. I think for `LazyBlock` if would be very problematic.",Remove this code,"It would be better to use `AtomicBoolean`, and use cas to set ture here to prevent concurrency problem","The topology id is actually updated when rebalance starts and when rebalance ends. There can be more than one node joining/leaving before rebalance ends, and most of the time there is no joiner/leaver between rebalance start and rebalance end.","This might not be appropriate for Audit since it is not client access, we should log it in debug mode IMO.",then you should explain why it is nevertheless done
"@@ -265,13 +265,11 @@ public class FirefoxDriver extends RemoteWebDriver @Override public String installExtension(Path path) { - Require.nonNull(""Path"", path); return extensions.installExtension(path); } @Override public void uninstallExtension(String extensionId) { - Require.nonNull(""Extension ID"", extensionId); extensions.uninstallExtension(extensionId); } ","It's fine to leave these checks in. It'll make the exception come from `FirefoxDriver`, and that's probably clearer to a user.",shouldn't that be not null? I may be coffee deprived.,should we log the error here to the dynamo console?,then you should explain why it is nevertheless done,Use `String.IsNullOrEmpty(downloadPath)` instead.,Removes extension from the current session,"Can we simplified the logic without any matcher by using apache common StringUtils? return len == 1 ? path : StringUtils.removeEnd(path, ""/"");",Do we need to handle `%test.quarkus.servlet.context-path` too?,the message is constant so no need to check enablement. Simply use LOGGER.debug,"Please use `String#Equals(String, StringComparison)`",name of the extension you're looking for > name of the extension that is being retrieved
"@@ -60,8 +60,9 @@ RSpec.configure do |config| # Add modules for helpers config.include ControllerSpecHelper, type: :controller config.include RequestSpecHelper, type: :request - [:feature, :request].each do |type| + [:feature, :request, :model].each do |type| config.include IntegrationSpecHelper, type: type + config.include EnvironmentSpecHelper, type: type end config.include FeatureSpecHelper, type: :feature ","We don't want to include the `IntegrationSpecHelper` for models...mind moving this line out of the loop to be `config.include EnvironmentSpecHelper, type: :model`?",Use the new Ruby 1.9 hash syntax.,Use the new Ruby 1.9 hash syntax.,I think this is one of those things that makes it easier for us devs but harder for anyone coming to the codebase for the first time so I'm going to edit it out during the rebase/merge - sorry!,"I did do a check on where we using this, but just want to highlight that I'm removing the ActiveJob Test helper.",Do we know why the images fail to load though? I'm only asking as we'll need them once Percy starts running again.,Layout/MultilineMethodCallIndentation: Use 2 (not 4) spaces for indenting an expression spanning multiple lines.,"I should have added this a long time ago, definitely could have used it a few times in compound assertions.",  I noticed this matcher was missing on one of my own PRs and I forgot how to add negated matchers so I just wrote `.not_to include` and forgot to look into it :joy:,Layout/EmptyLinesAroundClassBody: Extra empty line detected at class body end.,Layout/IndentArray: Indent the right bracket the same as the first position after the preceding left parenthesis.
"@@ -25,6 +25,9 @@ func TestWriteDrupalConfig(t *testing.T) { err = WriteDrupalConfig(drupalConfig, file.Name()) assert.NoError(t, err) + os.Chmod(dir, 0755) + os.Chmod(file.Name(), 0666) + err = os.RemoveAll(dir) assert.NoError(t, err) }",Please check the return on these.,it is so weird that you are getting those errors from gas and I don't :),Should we use `exc_info` to include some more information about the error?,"Would it be less confusing to users to follow the same naming convention as shutil and use `follow_symlinks` here? Also, should be named `_symlinks` (or, `_follow_symlinks`) to avoid mixing internal and normal arguments. Alternatively, switch the order of the arguments.",Why did you take this out?,"func name will be used as file.FileRemoved by other packages, and that stutters; consider calling this Removed","Didn't look into that and I think `0027` should be fine for APM Server also, but afaik with this change it is more restrictive than before. Maybe worth testing (or at least keeping it in mind if we run into any issues).",do we still want to keep this logging since it's not at the RPC boundary?,"Do we need to make this change? Testing locally on Windows 10, tests pass locally without this. Also, problems here likely indicate `uid` is of an unexpected type and I'd rather have us fix that problem than just casting it to a string.",nit: I'd put this in it's own simple test class as it's not directly testing `chmod` like the other functions here.,Why was this change made?
"@@ -279,10 +279,14 @@ class Storage { if (uplink == null) { uplink = new Proxy({ url: file.url, + cache: true, _autogenerated: true, }, self.config); } - let savestream = self.local.add_tarball(name, filename); + let savestream = null; + if (uplink.config.cache) { + savestream = self.local.add_tarball(name, filename); + } let on_open = function() { // prevent it from being called twice on_open = function() {};",Do we need `==` for true?,"Minor nit: since you're using `_uppyInstance` without `?.` above, it means it either will fail earlier or this `?.` isn't needed",Why these changes?,this doesn't seem right. It would resolve the promise immediately but we want it resolved in `load`. Use `Deferred`?,"I combined this with the next test because the behavior here changed. Since we no longer set `src` based on the result of `parseSrcset`, the only thing that determines whether an image should show or hide its fallback is whether or not the image loaded, i.e. the result of `loadPromise`.",I think you could just do `this._uppyInstance = ...` if you are not using uppyInstance in hbs templates you probably don't need to use set.,"This can pretty easily cause a CLS if the img isn't sized exactly 100x100. We need to use `style=""width: 100px; height: 100px""`","+1 for keeping PRs small but I think we should still ship things that work. This PR loads and runs more code, but doesn't add any feature. Should we have one PR to add the dependency (this one), but keep this code for a separate one that adds the feature? I don't feel strongly so I'm still approving it, up to you :)","Docs on `isEmpty`: > Verifies that a value is null or undefined, an empty string, or an empty array. > isEmpty({}); // false",The `GetAttribute` method needs to be lower-cased. See #31893.,Now I'm wondering: is `Object.keys(this.data).length` necessary? Imo even `this.data` part isn't strictly required (`deepMerge()` does `value || {}`)
"@@ -17,7 +17,7 @@ class BaseEMAHook(Hook): momentum (float): The momentum used for updating ema parameter. Ema's parameter are updated with the formula: `ema_param = (1-momentum) * ema_param + momentum * cur_param`. - Defaults to 0.0002. + Defaults to 0.0001. skip_buffers (bool): Whether to skip the model buffers, such as batchnorm running stats (running_mean, running_var), it does not perform the ema operation. Default to False.",Changing the default value may cause BC-breaking. Suggest changing this value in config.,"It seems like having an SNR-based computation can still be useful. So we could keep both, and only allow one to be set. But if we really want to get rid of it, we should explicitly provide the line(s) necessary to take an old SNR value and get the equivalent `nave` value to pass and put them in the `Notes`. It's actually useful pedagogically anyway because we can add that `SNR = ...` and so if you want a desired SNR, you pass `nave = ...`.",needs versionadded directives,"I also added this, as there was an issue opened about ``yscale``.",I think this needs a little more elaboration to make it clear that this applies to the *absolute value* of any exponent (i.e it applies to large negative exponents too),"If possible can you clarify why it's better to do it manually in the beamformer rather than let the advanced, cross-validated estimators (e.g., `shrunk`) automatically choose the best reg, or even manually do `mne.cov.regularize`? If it's not clear why it works but you have experienced that it does, I'm okay with merging this if you can add a bullet in #5365 to investigate it.",can we specify +/- 1.96 here as expectation?,Please don't add new empty lines,"This is slow, use VariableUtils",put new params before verbose which I keep consistently in the end,"It seems we no longer need `step`, remove it from parameter? And just curious, compared with before, don't using `unbiased_ema` will cause something different situation?"
"@@ -325,7 +325,7 @@ class SimpleConfig(Logger): slider_pos = max(slider_pos, 0) slider_pos = min(slider_pos, len(FEE_ETA_TARGETS)) if slider_pos < len(FEE_ETA_TARGETS): - num_blocks = FEE_ETA_TARGETS[slider_pos] + num_blocks = FEE_ETA_TARGETS[int(slider_pos)] fee = self.eta_target_to_fee(num_blocks) else: fee = self.eta_target_to_fee(1)",how does that happen?,"Finally safe against `smart_int(""inf"")` (which is now zero)",nit: s/string/bytestring/ on line 401.,If you change this you have to update the `from_generated` classmethod on line 777 below to pass in the required param,I'm not sure this condition is reachable now?,"One of the most important cases is where there are few large (straggling) keys, in which case you can return that there are no more split points iff the endpoint is the successor to this key.",just curious why we need equal,Add empty line above.,These bounds should be <=,NOTE: I think this is an actual bug that should be fixed possibly in another PR if not this one,"Yes, these two are an inherent (though I think not very important) issue in a transacted store; it's difficult to tell an aborted transaction (which can of course have partial writes and all that) from a corrupted completed transaction. This is mitigated in two/threeish ways: - 1.0: only one commit is left alive, and if it is corrupted it will try all segments, failing its way through all data, until the first segment, then abort and tell to run check (which will do the same and in the end stick a commit on it). - 1.1: commit tags generally survive, so if one is corrupted the previous transaction would be accepted, depending on what exactly was done with some data loss. For compaction this is further mitigated because each segment ends with a commit."
"@@ -31,9 +31,9 @@ # from __future__ import print_function -import unittest +import unittest, doctest import os,sys - +from rdkit.six import exec_ from rdkit.six.moves import cPickle from rdkit import rdBase",This is gross/clever. :-),this was just straight up broken.,This is a bit worrying. Didn't we test imports? Or maybe we only test for unused imports?,`six.StringIO` is not safe. It has different semantics in Py2. We'll need to strip all remaining instances.,"I think we should we avoid `import six` for consistency with the approach followed elsewhere. What do you think, @RobbeSneyders ? Looks like we are using `six.reraise` in a few places and `six.text_type` in apiclient.py.","This will stop working in Python 3.8 and is deprecated for some time. However, `from collections.abc import Sequence`, which is the upgrade path, won't work in Python 2.7 Do you really need to subclass from it?",<!--new_thread; commit:3e2ba46c6b8cf23454bb84e5c2803c05f6001e49; resolved:0--> Which of these is really necessary? Do we use division and print in this file?,"Use from ...platform import test, then use test.mock, which is an import that's py2/3 safe.","Couldn't this be written `source='exec(""print \'xxx\'"")'` ?","I think this should have a different name, maybe `--ignore-errors`.","Nit: In this instance, think it's more readable to import `zlib` so that it's used as `zlib.crc32`."
"@@ -1,6 +1,6 @@ require File.expand_path(File.dirname(__FILE__) + '/test_helper.rb') -class TestZhCnLocale < Test::Unit::TestCase +class TestZhLocale < Test::Unit::TestCase def setup Faker::Config.locale = 'zh-CN' end",Take a look at the name of this file. Definitely copy and  ,  I noticed this matcher was missing on one of my own PRs and I forgot how to add negated matchers so I just wrote `.not_to include` and forgot to look into it :joy:,Use 2 (not 1) spaces for indentation.<br>Tab detected.,"I should have added this a long time ago, definitely could have used it a few times in compound assertions.",I think this file got committed by accident.,Use the new Ruby 1.9 hash syntax.,"Extremely slight bummer that this error locates here when the actual offense is down below when we reopen the class. (But I guess one sees it down there as well, and I dunno if there's any way to make this not happen.)","What do you think about adding something to the output of `ast::ConstantLit::showRaw` to add a field like `symbol-kind` to pretty print the symbol's kind? Or prefixing the output on the `symbol` line with the symbol kind? (or something else if you have ideas) Because I believe that this change also fixes the bug where we were symbolizing the trees wrong, and it'd be nice to not regress on that.",I honestly thought this was always here already. Not sure why it wasn't but we should definitely have this setup at the start of a suite run.,"This ensures that even in pay-server, where we actually do toggle checking in tests, that it's off for the purpose of this test, to match the default behavior of our users.",Maybe instead of disabling this you could use `URL_REGEXP_FOR_UNIFIED_EMBED_MATCH` like in the Twitter tag?
"@@ -163,12 +163,15 @@ func NewVolumeInfo(URL string, volname string, namespace string) (volInfo *Volum if resp.StatusCode == 500 { fmt.Printf(""Volume: %s not found at namespace: %q\n"", volname, namespace) err = util.InternalServerError + return } else if resp.StatusCode == 503 { fmt.Printf(""maya apiservice not reachable at %q\n"", mapiserver.GetURL()) err = util.ServerUnavailable + return } else if resp.StatusCode == 404 { fmt.Printf(""Volume: %s not found at namespace: %q error: %s\n"", volname, namespace, http.StatusText(resp.StatusCode)) err = util.PageNotFound + return } fmt.Printf(""Received an error from maya apiservice: statuscode: %d"", resp.StatusCode) err = fmt.Errorf(""Received an error from maya apiservice: statuscode: %d"", resp.StatusCode)",Can you check with @mahebbar how to work this error. Should be different from 404.,"Does this trigger volume creation in the client in the same way image 404 triggers pull? IIRC that on-demand creation was implemented explicitly, but don't recall hearing that we checked for implicit behaviours.",Why switch this to the message we get from the Portlayer? Since this error return will need to be specific to docker.,please clean the unused code.,Make nfs string a const and use it here,This is a bug in `Service.URL()` then. Can you make the change there instead of here? This seems error prone and out of place.,Check and add context to any error.,expecting to see a `.WithCapacity()` call for scratch image creation as well.,We use this to build `openshift start kubernetes controller-manager` which is supposed to be true to the upstream. Unconditional carries like this shouldn't be added and we are actively trying to remove the ones we have.,"Should we for backwards-compatibility purposes keep the `ERR_INFRA_INSUFFICIENT_PRIVILEGES` code while mapping it to the same as `ERR_INFRA_UNAUTHORIZED` but deprecating it? This will allow us to merge this PR without ""breaking"" existing usage of these codes (e.g. in the Gardener Dashboard). After some releases we can then finally drop this deprecated code from the code base. WDYT?",Excellent!   Could we get an example of the output? Does it include the `resp.Status` in the happy (error) path?
"@@ -46,7 +46,7 @@ setup( 'spark': ['pyspark>=2.4.0'], 'mlflow': ['mlflow>=1.0'], }, - python_requires='>=3.5,<3.8', + python_requires='>=3.5', install_requires=[ 'pandas>=0.23.2', 'pyarrow>=0.10',",Do we still need the upper bound `<3.9`?,This might not be compatible with `rich 9.X` or is it?,"I guess this was a typo and it was meant for `tests`, right? cc @pared","This does not support aligning headers. It does have `colalign` but it aligns the whole column, and, I don't think it's a deal-breaker.",is this really the version number? lol,"  should have thought of this, working with betas is tricky (but we want the 3.0 API)","Could you, please, keep those lists sorted in lexicographic order? :) Thanks!","Seems like we don't need this. MANIFEST.in + include_package_data=True, is good enough.","While it looks a little strange, this actually needs to be `acme>0.24.0`. `acme` equal to `0.24.0` won't work. `acme 0.24.0` was our previous release which doesn't contain `magic_typing`. We haven't done another release yet, so there's not another version you can do greater than or equal to with, so we have to be strictly greater than our last release.",The `azure-core` req should be bumped to at least `1.18.0`,Are you sure this is needed at run time?
"@@ -229,7 +229,10 @@ function getPathsToCheck($f_paths): ?array /** @var string */ $input_path = $input_paths[$i]; - if (realpath($input_path) === realpath(dirname(__DIR__) . DIRECTORY_SEPARATOR . 'psalm') + if ( + realpath($input_path) === realpath(dirname(__DIR__, 3) . DIRECTORY_SEPARATOR . 'bin' . DIRECTORY_SEPARATOR . 'psalm') + || realpath($input_path) === realpath(dirname(__DIR__, 3) . DIRECTORY_SEPARATOR . 'bin' . DIRECTORY_SEPARATOR . 'psalter') + || realpath($input_path) === realpath(dirname(__DIR__) . DIRECTORY_SEPARATOR . 'psalm') || realpath($input_path) === realpath(dirname(__DIR__) . DIRECTORY_SEPARATOR . 'psalter') || realpath($input_path) === realpath(Phar::running(false)) ) {",Does this mean `vendor/bin/psalm` is not a symlink (or whatever equivalent Windows has for symlinks) on Windows?,do you have a test whether the binary installer works if the binary target is a symlink?,Here's another opportunity to eliminate a `fork`: Use `$PWD` in sh instead of `pwd`.,"your assumption that this does not depend on the OS is wrong. `escapeshellarg` is **also** different based on the OS running PHP (but it is broken for complex cases on Windows, which is why a workaround is applied to escape in a safe way, which should not be removed)",why it is public ?,It should add both the prefix and prefix\Scripts.,"This shouldn't be wrapped in a new print_fail as it show as a new line, you will need to include it in the line above.","this breaks things, as the code does not use named groups but positional groups when reading matches.","I don't really get this change.. that code was working just fine AFAIK, and now you don't escape anymore.","I'm slow, which branch fails, and why does it fail - `-e` aside. IIUC `command` is a bash builtin and we guard with `|| true` in both branches...","this one can be removed, as it duplicates the typehint without adding any info"
"@@ -1,4 +1,4 @@ -package aws_test +package aws import ( ""fmt""","@lpabon having a separate package name `aws_test` allows to test the package as if the tester was an external package. If the test package name is the same as the package being tested, the test package can also use methods and variables not exposed to the eventual user.","Nit: Go imports should be formatted as stdlib imports, new line, third party imports with each section alphabetically sorted. Tooling like `goimports` can help do this automatically in editors.  ","Could you please add a correct message for this? Otherwise, `./pants goals` will show `<no description>`.",Do we know what effect (if any) this change will have on azure-native and aws-native?,Do we know what effect (if any) this change will have on azure-native and aws-native?,Do we know what effect (if any) this change will have on azure-native and aws-native?,This was a total timesink. I had put the `mdn-stage` Sentry DSN into my personal `.env` and it broke all sorts of tests when running `pytest`.,"This change is possible because we made `Collections` much more powerful recently, e.g. implementing `__len__` on it.","I debated if these tests should do `Get(BuildGoPackageRequest, BuildGoPackageTargetRequest)` rather than `Get(BuiltGoPackage, BuildGoPackageTargetRequest)`? This gives us more of an integration test, rather than unit test. Another option is to test both?",Nit: better to use `PythonAWSLamba.alias`,"As below, if we expect there to be only a single artifact, we could make that explicit with a `.single_artifact` method or `@property`."
"@@ -54,8 +54,6 @@ func RunEndToEndTest(ctx context.Context, t *testing.T, exp *otlpmetric.Exporter instruments := map[string]data{ ""test-int64-counter"": {sdkapi.CounterInstrumentKind, number.Int64Kind, 1}, ""test-float64-counter"": {sdkapi.CounterInstrumentKind, number.Float64Kind, 1}, - ""test-int64-histogram"": {sdkapi.HistogramInstrumentKind, number.Int64Kind, 2}, - ""test-float64-histogram"": {sdkapi.HistogramInstrumentKind, number.Float64Kind, 2}, ""test-int64-gaugeobserver"": {sdkapi.GaugeObserverInstrumentKind, number.Int64Kind, 3}, ""test-float64-gaugeobserver"": {sdkapi.GaugeObserverInstrumentKind, number.Float64Kind, 3}, }","The exporter should still be able to test these histogram instrument kinds, right? Is there another reason to remove these?",Where do you use this function?,Can't we just pass `Overrides`?,I think you wanted this `true`,"@exekias I have seen with CockroachDB that this rate is sometimes zero when `sumCount` has already accumulated other counters, so the value overflows here and data fails to be ingested. Not sure why it happens, I want to investigate more, but I think that it may be that CockroachDB changes or at least adds buckets on the go, not sure about the implications of this if this is the case. By now I am workarounding this issue by explicitly handling zero-valued count rate.","At the beginning of the test there's a deferred call to `purger.StopAsync()`. Given we're now terminating it here, I believe that call should be removed.",No host parser here?,"Same, we don't need to call `Encode()`?",why for cronjob only `add_metadata` must be disabled? as I see for other k8s resources used default value - `true`,The godoc here will need updated too.,These could be squashed.
"@@ -274,6 +274,13 @@ func (eval *BlockEvaluator) Round() basics.Round { return eval.block.Round() } +// ResetTxnBytes resets the number of bytes tracked by the BlockEvaluator to +// zero. This is a specialized operation used by the transaction pool to +// simulate the effect of putting pending transactions in multiple blocks. +func (eval *BlockEvaluator) ResetTxnBytes(validateTxnBytes bool) { + eval.totalTxBytes = 0 +} + // Transaction tentatively adds a new transaction as part of this block evaluation. // If the transaction cannot be added to the block without violating some constraints, // an error is returned and the block evaluator state is unchanged.",should this increment eval.Round somehow?,"@mikedoan , please chime in on how to implement this one.","Why do we need to add this extra field? The same information is derived from ""ShardID"" and ""ToShardID"". I think this field is redundant inside the transaction data.","updatecurrent is called in here and commit transactions, can we remove one of them?","I removed this because its noisy and unnecessary, we already log on application startup if gas bumping is disabled",not-a-blocker: where does the +1 come from?,Could this TODO be solved as part of this PR?,Where is this used?,I wrote this but as of today I am less sure. Are we sure there aren't any scenarios where this could cause a problem?,How do you think it necessary to add the function as a member?,"Seems 0 is sufficient to specify ""no gas limit"" why add null as well?"
"@@ -91,7 +91,7 @@ class Blacklight::Solr::Response < ActiveSupport::HashWithIndifferentAccess value.each { |v| force_to_utf8(v) } when String if value.encoding != Encoding::UTF_8 - Rails.logger.warn ""Found a non utf-8 value in Blacklight::Solr::Response. \""#{value}\"" Encoding is #{value.encoding}"" + Blacklight.logger.warn ""Found a non utf-8 value in Blacklight::Solr::Response. \""#{value}\"" Encoding is #{value.encoding}"" value.dup.force_encoding('UTF-8') else value",Although this change looks good. Maybe there are other inconsistent cases too?,"`encoded.present?` can crash with ""ArgumentError: invalid byte sequence in UTF-8""","I think that was the last use of `Slug.sanitize`. I don't see any plugins using it either. Can we remove or deprecate it?   (in this or a separate PR, either way)",Layout/EmptyLinesAroundModuleBody: Extra empty line detected at module body beginning.,"I _think_ you'd want `""\r\n""` as the first argument here. It doesn't technically matter as you're squashing them down later anyway, but it would make the intent clearer.","are we sure about this, why not truncate?","Quick, non-blocking question: what do you think about changing this error message to be plural? The reason I ask is that when an error occurs, the message reads ""Invalid context. This liquid tag can only be used in Article"". By pluralizing it, when an error occurs, it will read a bit nicer: ""Invalid context. This liquid tag can only be used in Articles"" and it will make the error message reusable if and when we decide to add more valid contexts (as opposed to how it would less readable and reusable if we added an ""an"" to the error message and did not pluralize it).","I added `default_url_options` to be able to use routes in view objects. I used to configure `default_url_options` for my projects previously. Please, notify me if we should configure it differently or have good reasons not to configure.",Layout/IndentationWidth: Use 2 (not 4) spaces for indentation.,Layout/IndentationWidth: Use 2 (not 4) spaces for indentation.,"we should move this in `initialize_stripe`, as `Stripe.api_key` is not set here this code will never be executed"
"@@ -21,7 +21,7 @@ module ApplicationHelper '/auth/github' end - def format_resources(resources) + def format_markdown(resources) BlueCloth.new(resources).to_html.html_safe end ",This is a way better method name.,"This is: `/^published: /i` `/newline,published,colon,1-whitespace-character/case-insensitive-flag`","If we proceed with this fix, should we change this to `if html.blank?` to catch the cases where `html` could be `nil` as well?",Replace `http` with `https?`,Here's context in action! The `source` is **where** the liquid tag will be used and `user` is **who** is using it.,"I think you forgot to make the change to `@user.profile_updated_at` here. Also, can we format that timestamp to make it easier to search? I was thinking something like `rfc3339`",Hmm. This doesn't work across multiple lines as written. Let me get back to you with a version of the regex that works across lines.,"Nit: this will block user-initiated renders in ``mdn_wiki``. I think it is OK for a task that runs once, but we may want to pick an off-time to run it. I think @davidflanagan suggested a new queue for these bulk tasks as well, we make want to establish ``mdn_bulk`` if we do more like this.","Instead of saving paths to the database, since this is just for local development could we just have reading a local file default to a directory in the project? For example: if the page is named `codeland`, just have the local option look for a file at `<project>/tmp/local/codeland.html` (or a different folder added to `.gitignore`)? That way NOTHING leaks into production!",Change this line too.,Suggestion: Is there a end-to-end test (or test for `fix-all`) this could be set to `Published: false` in?
"@@ -1,7 +1,5 @@ class NewLanguageConfirmationsController < ApplicationController def index - redirect_to welcome_to_upcase_path( - confirmation: true, language_selected: params[:language], - ), notice: ""Thanks for signing up. We will be in touch!"" + redirect_to root_path, notice: t(""marketing.show.language_flash"") end end",Prefer single-quoted strings when you don't need string interpolation or special symbols.,"This was fun. My spec failed for a while because this kept overriding the flash message   I explored other options like adding to the existing flash, but given that most live Forems will be completely set up (and the banner will still show on every other request that doesn't already have a flash message) I decided this is easier and more straightforward.","You'll notice this pattern. Everywhere we tell people to contact us, we should direct them to the `:contact` email","Not sure what this is for, but it's not going to matter anyways since we're getting rid of security questions.","Not sure what this is for, but it's not going to matter anyways since we're getting rid of security questions.","for the 15 minute deploy window, should we preserve these old URLs and clean up in a future PR? Or do we expect that they're low enough traffic it won't be a big deal if they break?","for the 15 minute deploy window, should we preserve these old URLs and clean up in a future PR? Or do we expect that they're low enough traffic it won't be a big deal if they break?",maybe `flash.now` here instead? do you want it to persist beyond the current request?,maybe `flash.now` here instead? do you want it to persist beyond the current request?,"Could you please explain why the method parameter is needed? It seems like the `use_totp?` logic should be enough to determine whether or not to show the `:show_totp` view. When I removed the `&& params[:method] != 'sms'` from the `use_totp?` logic, all tests passed except for `spec/controllers/devise/two_factor_authentication_controller_spec.rb:216`, which is expected since I changed the logic.","Could you please explain why the method parameter is needed? It seems like the `use_totp?` logic should be enough to determine whether or not to show the `:show_totp` view. When I removed the `&& params[:method] != 'sms'` from the `use_totp?` logic, all tests passed except for `spec/controllers/devise/two_factor_authentication_controller_spec.rb:216`, which is expected since I changed the logic."
"@@ -1,3 +1,5 @@ +options = Array.isArray(options) ? options : []; + var invalid = []; var attr, attrName, allowed,","I was wondering if this should allow per role specification, instead of (or in addition to) a generic ""allowed everywhere"". So you could do: `{ separator: ['aria-valuenow', 'aria-valuemin', 'aria-valuemax'] }`. You could still allow the array, and you could add a wildcard option for the ""generic"" case you've got now: `{ '*': ['always-allowed'] }`.","This property is AMP-only and not part of core, please remove from here. If desired it can live in `src/error-reporting.extern.js` since it's consumed only by error reporting code",This was a bug I found relevant to this change. `additionalArguments` is an array and wasn't being inherited properly,No need for the extra empty line here,I think you need `tryJsonStringify` or something like that.,"You need to make this visible globally to jshint, otherwise it will complain about this. See the top of the file for examples","the behaviour of this is very, very different from nextUid --- maybe that's okay, maybe it's not.","I guess the check for `isArray()` is for performance reasons, since `isArrayLike()` already returns true for arrays?",@erwinmombay Why did we remove `Array.isArray` uses before?,"I think we want to use the hashKey api from src/api.js for this, rather than an array (this would work for 1.2.x as well)","for knowledge purposes, where is this used?"
"@@ -942,7 +942,8 @@ SQLVarChar::SQLVarChar(Lng32 maxLen, FALSE, allowSQLnull, isUpShifted, isCaseInsensitive, TRUE, cs, co, ce, encoding, vcIndLen), - clientDataType_(collHeap()) // Get heap from NABasicObject. Can't allocate on stack. + clientDataType_(collHeap()), // Get heap from NABasicObject. Can't allocate on stack. + wasHiveString_(FALSE) {} #pragma warn(1506) // warning elimination ",I'm confused by the name. The string was a Hive string but it isn't any longer? Why should we care? (I imagine I'll find the answer later... there is some different semantic that we want downstream...),"I added this because Prefast wouldn't let it pass. For some reason the function `IsWellFormed` doesn't allow `null` in the signature, but supports it.","This should also be a programming error of some sort and should never occur. If you've ever seen this occur, we want to know about it.",is the name significant? other synthetic columns start with `$`. is it `SELECT`-able?,"Preexisting your change, but it's not obvious to me staring at this now what here requires this be `unsafe`?","Define constant clientFrameworks and use it in conditions, it is more readable. const clientFrameworks = applicationOptions.OptionValues[applicationOptions.OptionNames.CLIENT_FRAMEWORK];","Define constant clientFrameworks and use it in conditions, it is more readable. const clientFrameworks = applicationOptions.OptionValues[applicationOptions.OptionNames.CLIENT_FRAMEWORK];",What about `stringType == null || !StringType.String.name().equals(stringType)` ?,"Why was `DEFAULT_VALUE_SIZE` removed? Seems like we are reducing the visibility of this ""configuration"" type variable.",Do we have to account for endianness here or will the buffer implementation take care of that (not at computer atm),"Actually, given the escaping of the single backslash, do we still need to escape the case when a backslash is followed by quote ?"
"@@ -31,12 +31,7 @@ import org.openqa.selenium.grid.sessionmap.SessionMap; import org.openqa.selenium.grid.sessionmap.local.LocalSessionMap; import org.openqa.selenium.netty.server.NettyServer; import org.openqa.selenium.remote.SessionId; -import org.openqa.selenium.remote.http.HttpClient; -import org.openqa.selenium.remote.http.HttpHandler; -import org.openqa.selenium.remote.http.HttpRequest; -import org.openqa.selenium.remote.http.HttpResponse; -import org.openqa.selenium.remote.http.TextMessage; -import org.openqa.selenium.remote.http.WebSocket; +import org.openqa.selenium.remote.http.*; import org.openqa.selenium.remote.tracing.DefaultTestTracer; import org.openqa.selenium.remote.tracing.Tracer; ",Could you please leave the explicit imports?,We talked about `throws MessagingException` here - let's not forget - either do it here or create a JIRA.,Does this work? Does the close query endpoint actually support variable substitution?,"Instead of doing it this way, I think I'd prefer the RequestLogger to have the Object mapper and pass it along to the RequestLogLine on the getLine() method. Then RequestLogLine can do the writeValueAsString() call. This is just so that the thing(s) that are building the RequestLogLine don't actually have to care about how it's gonna end up on disk. If we want to change that at some point in the future, we just change RequestLogLine and RequestLogger without changing the call sites.","Maybe `streamMessageId`? No `ID`, please.",Is this the same as 3.x? Cause this cannot handle multiple values for a header.,Was this an accident? WEren't you supposed to use NULL_REF.createException here?,Maybe move this down into the else of the if {} else{} block at line 488 ?? Avoid 2 ifs for the same condition.,I'd rename this and the field to `unicastSendRouter` to match the change to the `UnicastPublishRouterConnector`.,"hm, I wonder if technically `ErrorResponseTransformStrategy` should implement equals and be checked here",How about adding a new field like `isNested` to indicate this query is nested or not?
"@@ -23,7 +23,7 @@ import ( ""github.com/iotexproject/iotex-core/pkg/hash"" ""github.com/iotexproject/iotex-core/pkg/keypair"" ""github.com/iotexproject/iotex-core/pkg/log"" - ""github.com/iotexproject/iotex-core/proto"" + iproto ""github.com/iotexproject/iotex-core/proto"" ""github.com/iotexproject/iotex-core/state/factory"" ) ",Why need alias?,struct field Id should be ID,mage fmt should keep things together,"em, why not name the package `github.com/pingcap/pd/v4/pkg/errs` directly?",why remove it,We group imports. Please configure GoLand File Watchers as follow: ![Uploading Screenshot 2021-05-13 at 17.53.52.png ](),"for my own edification, why did this need to change?","for my own edification, why did this need to change?","for my own edification, why did this need to change?",wouldn't it be flaky at any point in the future?,remove the empty line
"@@ -148,6 +148,10 @@ func (c testTLFJournalConfig) teamMembershipChecker() kbfsmd.TeamMembershipCheck return nil } +func (c testTLFJournalConfig) tlfIDGetter() tlfIDGetter { + return nil +} + func (c testTLFJournalConfig) diskLimitTimeout() time.Duration { return c.dlTimeout }","Shouldn't this be a `libfs.nullIDGetter` (exported, of course)?",we can't or aren't?,"Why create `cache.TTLString` for each key, instead of use only 1 `cache.TTLString` for all keys?","Judge the situation where `len` is all 0, then we can still use `reflect.DeepEqual` directly?",can you prefix this to indicate it's KBFS related?,can you remove this field from the struct too?,What if the PD restart?,then -> them,Is this still called all the time? Does NameInfo need keys on it? If refactoring chat is a pain we can cache the verification of keys on teams so getting all keys is fastish again.,use `fmt.Errof` instead.,diriectly -> directly
"@@ -156,6 +156,9 @@ const ( tealsignTooManyArg = ""--set-lsig-arg-idx too large, maximum of %d arguments"" tealsignInfoWroteSig = ""Wrote signature for %s to LSig.Args[%d]"" + tealLogicSigSize = ""%s: logicsig program size too large: %d > %d"" + tealAppSize = ""%s: app program size too large: %d > %d"" + // Wallet infoRecoveryPrompt = ""Please type your recovery mnemonic below, and hit return when you are done: "" infoChoosePasswordPrompt = ""Please choose a password for wallet '%s': """,I dislike the messages.go pattern; the strings are only used once and make more sense in context. The other two added reportErrorf() calls in clerk.go have inline strings.,"is this the same number of bytes, and the same encoding as we use in teams?",i got clearance from @malgorithms that I could delete this.,should this use the group instead so new groups can add this as well?,`IsSupportedTeamType` maybe `TeamAllowStub`. I'm surprised that other settingsish types aren't in there.,"these are not related, ok for now but next time please do separate PRs","these are not related, ok for now but next time please do separate PRs","@oconnor663 this broke `keybase sigs list`, fixed with a specific implementation that wasn't a generic.",is there a better way to do this in go? like actual dependency injection vs having to pass this everywhere?,"should SimpleSign() be tried first and if it fails, use the fallback key?",would it be better to call it a discount? what do the other things do?
"@@ -118,9 +118,6 @@ Status FetchVerticesExecutor::prepareTags() { if (!tagIdStatus.ok()) { return tagIdStatus.status(); } - auto tagId = tagIdStatus.value(); - tagNames_.push_back(tagName); - tagIds_.push_back(tagId); auto result = tagNameSet_.emplace(tagName); if (!result.second) { return Status::Error(folly::sformat(""tag({}) was dup"", tagName));",Seems we don't need it anymore.,"We really need a function to encapsulate this logic for all places we care about ""empty"" strings.",Just a small reminder for me: Test if this still works.,boolean getter should adhere to is<attr>() pattern,This is not correct. Callers expect TRUE is tag exists or is created.,"`frappe.msgprint(__(""Field {0} not found."", [f]))`","I don't think we want this. elgg_normalize_url() will passthrough URLs like ""javascript:alert(1)"".","For the future, we should likely prefix these with `ErrCode`, similar to the AWS Go SDK.",Does this one not need .decode('UTF-8')?,"this is in `compact_segments()`, where space is really freed.",string is already `!`.
"@@ -54,7 +54,7 @@ class Guidance < ActiveRecord::Base validates :published, inclusion: { message: INCLUSION_MESSAGE, in: BOOLEAN_VALUES} - validates :themes, presence: { message: PRESENCE_MESSAGE } + validates :themes, presence: { message: PRESENCE_MESSAGE }, if: :published? # Retrieves every guidance associated to an org scope :by_org, -> (org) {",This might cause problems with the weird way we publish Guidance and Groups in the UI. We will have to make sure that UAT is thorough.,Line is too long. [82/80],Will this callback cause`slug_changed?` to always be true?,"Are you testing for the presence of the `signing_severity` key here? If so, using `'signing_severity' in message` might be clearer?",Line is too long. [103/80],Line is too long. [108/80],"This is how `messages` is being normalized already and passed in, the caller correctly assumes this.",this is for comparing values in specs,this is for comparing values in specs,Line is too long. [101/80],Memoized variable @sites does not match method name site. Use @site instead.
"@@ -75,7 +75,7 @@ func NewRawExporter(config Config) (*Exporter, error) { // defer pipeline.Stop() // ... Done func InstallNewPipeline(config Config) (*push.Controller, error) { - controller, err := NewExportPipeline(config) + controller, err := NewExportPipeline(config, time.Hour) if err != nil { return controller, err }","this default needs to be on order 1 minute, I'm not sure why we defaulted to 1 hour below...","PipelineConnector is the 'smaller' interface. I hope to merge Pipeline and PipelineConnector interfaces in the future, such that Pipeline will not have any extra methods anymore.","I can't tell if this is a GitHub artifact, but the gray text here seems indented a little strangely? It looks like its inline with the `defer func()` body, which presumably gofmt would fix but it took me a second to read.","Did this still need to switch from a bool at the end of the day? It's no problem, just curious.","this is only called from one place, which constructs `err` in-line in the call, so passing in an `error` here doesn't add anything useful and we'll end up constructing two nearly-identical stacks. Change `err error` to something like `reason string` and use `errors.Errorf` here.",Should you directly specify the update-pipeline flag here instead of passing through all instances? It would simplify the code I think.,need imagepolicy as well?,I'm not sure if it's good to move this here. I just made some changes here: #4232 that this is going to conflict with. And I think because of those changes we need to leave the salt generation in the same place because we want to have access to the `request` when we decide whether or not to fill it in so we can tell if reprocess was called.,@bparees this fixes a bug that prevented the controller from listing and watching the config objects.,It seems like there's probably a matching call to create the workers that might error now because the workers already exist. Is that true and if so do we trap that error in some way?,Is it a reasonable timeout? Just had a worker on aws with machdeploy with 2 replicas that took ~8m to be deleted.
"@@ -92,6 +92,15 @@ func (ACMEIssuer) CaddyModule() caddy.ModuleInfo { func (iss *ACMEIssuer) Provision(ctx caddy.Context) error { iss.logger = ctx.Logger(iss) + // expand email address, if non-empty + if iss.Email != """" { + email, err := caddy.NewReplacer().ReplaceOrErr(iss.Email, true, true) + if err != nil { + return fmt.Errorf(""expanding email address '%s': %v"", iss.Email, err) + } + iss.Email = email + } + // DNS providers if iss.Challenges != nil && iss.Challenges.DNS != nil && iss.Challenges.DNS.ProviderRaw != nil { val, err := ctx.LoadModule(iss.Challenges.DNS, ""ProviderRaw"")","I figure to make `{env.*}` work, right? I can't think of any other placeholder that makes sense here","Found during testing: wound up switching `validation_method` to `Computed: true` (for now) instead of using this, since it breaks Terraform resource import functionality for this attribute.",cc @patrickxb for this `msgchecker.PaymentTextMaxLength=240`,Unnecessary local variable?,if we get it by ID why we ned the uid?,could this logic be moved to `updateUser` so that all the update user logic is kept together.,ParseAssertionKV didn't work out?,at the moment the lang from context is used ... not sure if we should just switch to DefaultLang,The testing here and below should know the exact value of the domains (and they should be without a trailing period)  ,u.Email = strings.ToLower(u.Email) at line 878,Might be it's worth load this (and also parse ) only if `MailService.UseSendmail` is enabled?
"@@ -29,7 +29,9 @@ TestEnv::~TestEnv() { void TestEnv::SetUp() { FLAGS_load_data_interval_secs = 1; // Create metaServer - metaServer_ = nebula::meta::TestUtils::mockMetaServer(0, metaRootPath_.path()); + metaServer_ = nebula::meta::TestUtils::mockMetaServer( + network::NetworkUtils::getAvailablePort(), + metaRootPath_.path()); FLAGS_meta_server_addrs = folly::stringPrintf(""127.0.0.1:%d"", metaServerPort()); // Create storageServer",Why change the port from 0 to getAvailablePort()?,"Please, clean all unrelated lines","Can this break on Windows ? The rest of the code uses boost::path, which has a / operator for this.","Now that the return value of this function must at least implement the `isCacheable` method, shouldn't we introduce a `MetadataInterface`, which is being returned here? Then accessing this method in the `metadataAction` would also be typesafe.",m_open_counter does not get initiliazed now ?,"(style) please, no space before tabs",This removed as duplicate.,(style) space prohibited between function name and open parenthesis '(',Please convert all of these to use a single snmp_mult_get_oid call,is -> if,(style) spaces required around that '=' (ctx:VxV)
"@@ -691,9 +691,9 @@ class TestSeleniumScriptGeneration(SeleniumTestCase): content = fds.read() target_lines = [ - ""var_loc_keys=self.loc_mng.get_locator([{'name':'btn1',}])self.driver.find_element"" + ""var_loc_keys=self.loc_mng.get_locator([{'name':'btn1',}],30.0)self.driver.find_element"" ""(var_loc_keys[0],var_loc_keys[1]).click()"", - ""var_loc_keys=self.loc_mng.get_locator([{'id':'Id_123',}])self.driver.find_element"" + ""var_loc_keys=self.loc_mng.get_locator([{'id':'Id_123',}],30.0)self.driver.find_element"" ""(var_loc_keys[0],var_loc_keys[1]).clear()"", ""self.driver.find_element(var_loc_keys[0],var_loc_keys[1]).send_keys('London')"" ]","For me would be great don't repeat timeout sending in every get_locator call. Looks like it should be sent into LocatorsManager init. And possibly it should me non mandatory, something like that: `def __init__ (self, locators, timeout=60):`",Line 158 needs the same fix,"Did the error message change? If so, what did it change to. If not, why change this test to not check the error message? (Similar question for errors below)",Why this suddenly works?,"NOTE: `babel` doesn't know about the `pt-XX` locales. If it did, the decimal would be formatted as `1.234,567` rather than `1,234.567`.","It's a detail, but `to_global_id` can be used through already imported Graphene: `graphene.Node.to_global_id`.","It's a detail, but `to_global_id` can be used through already imported Graphene: `graphene.Node.to_global_id`.",So are we at release now?,So are we at release now?,Sad that pytest couldn't cope with this being a generator but here we are.,"Do we want to choose a different id than this? if we can do a string, could we have something like a date or descriptive ID prefix? Maybe `""aitest-%s-%d"" % (datetime.now(). strftime(""%Y%m%d-%H%M""), int(random.randint(1,10000)))` or something. I also think that moving this to be global makes it harder to have multiple TestCases that create catalog items, but I'm not sure if we'll really be doing more tests. Would it make sense to have cleanup clean multiple items and not worry about the ID? like list + for each delete"
